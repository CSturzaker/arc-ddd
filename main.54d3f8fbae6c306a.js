var dN=Object.defineProperty,hN=Object.defineProperties,fN=Object.getOwnPropertyDescriptors,t_=Object.getOwnPropertySymbols,pN=Object.prototype.hasOwnProperty,gN=Object.prototype.propertyIsEnumerable,n_=(St,Tt,Jt)=>Tt in St?dN(St,Tt,{enumerable:!0,configurable:!0,writable:!0,value:Jt}):St[Tt]=Jt,qi=(St,Tt)=>{for(var Jt in Tt||(Tt={}))pN.call(Tt,Jt)&&n_(St,Jt,Tt[Jt]);if(t_)for(var Jt of t_(Tt))gN.call(Tt,Jt)&&n_(St,Jt,Tt[Jt]);return St},sc=(St,Tt)=>hN(St,fN(Tt));(self.webpackChunkddd_arc=self.webpackChunkddd_arc||[]).push([[179],{467:(St,Tt,Jt)=>{var fe=Jt(926).default;function k(u,o,s,c){var h,p=arguments.length,g=p<3?o:null===c?c=Object.getOwnPropertyDescriptor(o,s):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(u,o,s,c);else for(var y=u.length-1;y>=0;y--)(h=u[y])&&(g=(p<3?h(g):p>3?h(o,s,g):h(o,s))||g);return p>3&&g&&Object.defineProperty(o,s,g),g}!function(){const u={NODE_ENV:"production"};try{if(process)return process.env=Object.assign({},process.env),void Object.assign(process.env,u)}catch(o){}globalThis.process={env:u}}();const Dr=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ur=Symbol(),wt=new Map;class Yr{constructor(o,s){if(this._$cssResult$=!0,s!==ur)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=o}get styleSheet(){let o=wt.get(this.cssText);return Dr&&void 0===o&&(wt.set(this.cssText,o=new CSSStyleSheet),o.replaceSync(this.cssText)),o}toString(){return this.cssText}}const Ge=(u,...o)=>{const s=1===u.length?u[0]:o.reduce((c,h,p)=>c+(g=>{if(!0===g._$cssResult$)return g.cssText;if("number"==typeof g)return g;throw Error("Value passed to 'css' function must be a 'css' function result: "+g+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(h)+u[p+1],u[0]);return new Yr(s,ur)},Sr=Dr?u=>u:u=>u instanceof CSSStyleSheet?(o=>{let s="";for(const c of o.cssRules)s+=c.cssText;return new Yr("string"==typeof(c=s)?c:c+"",ur);var c})(u):u;var $t;const bo=window.trustedTypes,tl=bo?bo.emptyScript:"",ac=window.reactiveElementPolyfillSupport,cc={toAttribute(u,o){switch(o){case Boolean:u=u?tl:null;break;case Object:case Array:u=null==u?u:JSON.stringify(u)}return u},fromAttribute(u,o){let s=u;switch(o){case Boolean:s=null!==u;break;case Number:s=null===u?null:Number(u);break;case Object:case Array:try{s=JSON.parse(u)}catch(c){s=null}}return s}},nl=(u,o)=>o!==u&&(o==o||u==u),uc={attribute:!0,type:String,converter:cc,reflect:!1,hasChanged:nl};class Zr extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(o){var s;null!==(s=this.l)&&void 0!==s||(this.l=[]),this.l.push(o)}static get observedAttributes(){this.finalize();const o=[];return this.elementProperties.forEach((s,c)=>{const h=this._$Eh(c,s);void 0!==h&&(this._$Eu.set(h,c),o.push(h))}),o}static createProperty(o,s=uc){if(s.state&&(s.attribute=!1),this.finalize(),this.elementProperties.set(o,s),!s.noAccessor&&!this.prototype.hasOwnProperty(o)){const c="symbol"==typeof o?Symbol():"__"+o,h=this.getPropertyDescriptor(o,c,s);void 0!==h&&Object.defineProperty(this.prototype,o,h)}}static getPropertyDescriptor(o,s,c){return{get(){return this[s]},set(h){const p=this[o];this[s]=h,this.requestUpdate(o,p,c)},configurable:!0,enumerable:!0}}static getPropertyOptions(o){return this.elementProperties.get(o)||uc}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const o=Object.getPrototypeOf(this);if(o.finalize(),this.elementProperties=new Map(o.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const s=this.properties,c=[...Object.getOwnPropertyNames(s),...Object.getOwnPropertySymbols(s)];for(const h of c)this.createProperty(h,s[h])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(o){const s=[];if(Array.isArray(o)){const c=new Set(o.flat(1/0).reverse());for(const h of c)s.unshift(Sr(h))}else void 0!==o&&s.push(Sr(o));return s}static _$Eh(o,s){const c=s.attribute;return!1===c?void 0:"string"==typeof c?c:"string"==typeof o?o.toLowerCase():void 0}o(){var o;this._$Ep=new Promise(s=>this.enableUpdating=s),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(o=this.constructor.l)||void 0===o||o.forEach(s=>s(this))}addController(o){var s,c;(null!==(s=this._$Eg)&&void 0!==s?s:this._$Eg=[]).push(o),void 0!==this.renderRoot&&this.isConnected&&(null===(c=o.hostConnected)||void 0===c||c.call(o))}removeController(o){var s;null===(s=this._$Eg)||void 0===s||s.splice(this._$Eg.indexOf(o)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((o,s)=>{this.hasOwnProperty(s)&&(this._$Et.set(s,this[s]),delete this[s])})}createRenderRoot(){var o;const s=null!==(o=this.shadowRoot)&&void 0!==o?o:this.attachShadow(this.constructor.shadowRootOptions);return c=s,h=this.constructor.elementStyles,Dr?c.adoptedStyleSheets=h.map(p=>p instanceof CSSStyleSheet?p:p.styleSheet):h.forEach(p=>{const g=document.createElement("style"),y=window.litNonce;void 0!==y&&g.setAttribute("nonce",y),g.textContent=p.cssText,c.appendChild(g)}),s;var c,h}connectedCallback(){var o;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(o=this._$Eg)||void 0===o||o.forEach(s=>{var c;return null===(c=s.hostConnected)||void 0===c?void 0:c.call(s)})}enableUpdating(o){}disconnectedCallback(){var o;null===(o=this._$Eg)||void 0===o||o.forEach(s=>{var c;return null===(c=s.hostDisconnected)||void 0===c?void 0:c.call(s)})}attributeChangedCallback(o,s,c){this._$AK(o,c)}_$ES(o,s,c=uc){var h,p;const g=this.constructor._$Eh(o,c);if(void 0!==g&&!0===c.reflect){const y=(null!==(p=null===(h=c.converter)||void 0===h?void 0:h.toAttribute)&&void 0!==p?p:cc.toAttribute)(s,c.type);this._$Ei=o,null==y?this.removeAttribute(g):this.setAttribute(g,y),this._$Ei=null}}_$AK(o,s){var c,h,p;const g=this.constructor,y=g._$Eu.get(o);if(void 0!==y&&this._$Ei!==y){const w=g.getPropertyOptions(y),E=w.converter,_=null!==(p=null!==(h=null===(c=E)||void 0===c?void 0:c.fromAttribute)&&void 0!==h?h:"function"==typeof E?E:null)&&void 0!==p?p:cc.fromAttribute;this._$Ei=y,this[y]=_(s,w.type),this._$Ei=null}}requestUpdate(o,s,c){let h=!0;void 0!==o&&(((c=c||this.constructor.getPropertyOptions(o)).hasChanged||nl)(this[o],s)?(this._$AL.has(o)||this._$AL.set(o,s),!0===c.reflect&&this._$Ei!==o&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(o,c))):h=!1),!this.isUpdatePending&&h&&(this._$Ep=this._$E_())}_$E_(){var o=this;return fe(function*(){o.isUpdatePending=!0;try{yield o._$Ep}catch(c){Promise.reject(c)}const s=o.scheduleUpdate();return null!=s&&(yield s),!o.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var o;if(!this.isUpdatePending)return;this._$Et&&(this._$Et.forEach((h,p)=>this[p]=h),this._$Et=void 0);let s=!1;const c=this._$AL;try{s=this.shouldUpdate(c),s?(this.willUpdate(c),null===(o=this._$Eg)||void 0===o||o.forEach(h=>{var p;return null===(p=h.hostUpdate)||void 0===p?void 0:p.call(h)}),this.update(c)):this._$EU()}catch(h){throw s=!1,this._$EU(),h}s&&this._$AE(c)}willUpdate(o){}_$AE(o){var s;null===(s=this._$Eg)||void 0===s||s.forEach(c=>{var h;return null===(h=c.hostUpdated)||void 0===h?void 0:h.call(c)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(o)),this.updated(o)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(o){return!0}update(o){void 0!==this._$EC&&(this._$EC.forEach((s,c)=>this._$ES(c,this[c],s)),this._$EC=void 0),this._$EU()}updated(o){}firstUpdated(o){}}var Tr;Zr.finalized=!0,Zr.elementProperties=new Map,Zr.elementStyles=[],Zr.shadowRootOptions={mode:"open"},null==ac||ac({ReactiveElement:Zr}),(null!==($t=globalThis.reactiveElementVersions)&&void 0!==$t?$t:globalThis.reactiveElementVersions=[]).push("1.3.0");const Ar=globalThis.trustedTypes,rl=Ar?Ar.createPolicy("lit-html",{createHTML:u=>u}):void 0,lr=`lit$${(Math.random()+"").slice(9)}$`,ol="?"+lr,lc=`<${ol}>`,ni=document,Jr=(u="")=>ni.createComment(u),Xr=u=>null===u||"object"!=typeof u&&"function"!=typeof u,il=Array.isArray,_o=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,sl=/-->/g,xs=/>/g,mn=/>|[ \x09\n\x0c\r](?:([^\s"'>=/]+)([ \x09\n\x0c\r]*=[ \x09\n\x0c\r]*(?:[^ \x09\n\x0c\r"'`<>=]|("|')|))|$)/g,Uh=/'/g,dc=/"/g,lt=/^(?:script|style|textarea|title)$/i,Ce=(o,...s)=>({_$litType$:1,strings:o,values:s}),Nn=Symbol.for("lit-noChange"),Le=Symbol.for("lit-nothing"),al=new WeakMap,cn=ni.createTreeWalker(ni,129,null,!1);class ri{constructor({strings:o,_$litType$:s},c){let h;this.parts=[];let p=0,g=0;const y=o.length-1,w=this.parts,[E,_]=((u,o)=>{const s=u.length-1,c=[];let h,p=2===o?"<svg>":"",g=_o;for(let w=0;w<s;w++){const E=u[w];let _,S,I=-1,M=0;for(;M<E.length&&(g.lastIndex=M,S=g.exec(E),null!==S);)M=g.lastIndex,g===_o?"!--"===S[1]?g=sl:void 0!==S[1]?g=xs:void 0!==S[2]?(lt.test(S[2])&&(h=RegExp("</"+S[2],"g")),g=mn):void 0!==S[3]&&(g=mn):g===mn?">"===S[0]?(g=null!=h?h:_o,I=-1):void 0===S[1]?I=-2:(I=g.lastIndex-S[2].length,_=S[1],g=void 0===S[3]?mn:'"'===S[3]?dc:Uh):g===dc||g===Uh?g=mn:g===sl||g===xs?g=_o:(g=mn,h=void 0);const x=g===mn&&u[w+1].startsWith("/>")?" ":"";p+=g===_o?E+lc:I>=0?(c.push(_),E.slice(0,I)+"$lit$"+E.slice(I)+lr+x):E+lr+(-2===I?(c.push(void 0),w):x)}const y=p+(u[s]||"<?>")+(2===o?"</svg>":"");if(!Array.isArray(u)||!u.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==rl?rl.createHTML(y):y,c]})(o,s);if(this.el=ri.createElement(E,c),cn.currentNode=this.el.content,2===s){const S=this.el.content,I=S.firstChild;I.remove(),S.append(...I.childNodes)}for(;null!==(h=cn.nextNode())&&w.length<y;){if(1===h.nodeType){if(h.hasAttributes()){const S=[];for(const I of h.getAttributeNames())if(I.endsWith("$lit$")||I.startsWith(lr)){const M=_[g++];if(S.push(I),void 0!==M){const x=h.getAttribute(M.toLowerCase()+"$lit$").split(lr),L=/([.?@])?(.*)/.exec(M);w.push({type:1,index:p,name:L[2],strings:x,ctor:"."===L[1]?hc:"?"===L[1]?ul:"@"===L[1]?Rm:je})}else w.push({type:6,index:p})}for(const I of S)h.removeAttribute(I)}if(lt.test(h.tagName)){const S=h.textContent.split(lr),I=S.length-1;if(I>0){h.textContent=Ar?Ar.emptyScript:"";for(let M=0;M<I;M++)h.append(S[M],Jr()),cn.nextNode(),w.push({type:2,index:++p});h.append(S[I],Jr())}}}else if(8===h.nodeType)if(h.data===ol)w.push({type:2,index:p});else{let S=-1;for(;-1!==(S=h.data.indexOf(lr,S+1));)w.push({type:7,index:p}),S+=lr.length-1}p++}}static createElement(o,s){const c=ni.createElement("template");return c.innerHTML=o,c}}function nt(u,o,s=u,c){var h,p,g,y;if(o===Nn)return o;let w=void 0!==c?null===(h=s._$Cl)||void 0===h?void 0:h[c]:s._$Cu;const E=Xr(o)?void 0:o._$litDirective$;return(null==w?void 0:w.constructor)!==E&&(null===(p=null==w?void 0:w._$AO)||void 0===p||p.call(w,!1),void 0===E?w=void 0:(w=new E(u),w._$AT(u,s,c)),void 0!==c?(null!==(g=(y=s)._$Cl)&&void 0!==g?g:y._$Cl=[])[c]=w:s._$Cu=w),void 0!==w&&(o=nt(u,w._$AS(u,o.values),w,c)),o}class At{constructor(o,s){this.v=[],this._$AN=void 0,this._$AD=o,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(o){var s;const{el:{content:c},parts:h}=this._$AD,p=(null!==(s=null==o?void 0:o.creationScope)&&void 0!==s?s:ni).importNode(c,!0);cn.currentNode=p;let g=cn.nextNode(),y=0,w=0,E=h[0];for(;void 0!==E;){if(y===E.index){let _;2===E.type?_=new Gi(g,g.nextSibling,this,o):1===E.type?_=new E.ctor(g,E.name,E.strings,this,o):6===E.type&&(_=new Mm(g,this,o)),this.v.push(_),E=h[++w]}y!==(null==E?void 0:E.index)&&(g=cn.nextNode(),y++)}return p}m(o){let s=0;for(const c of this.v)void 0!==c&&(void 0!==c.strings?(c._$AI(o,c,s),s+=c.strings.length-2):c._$AI(o[s])),s++}}class Gi{constructor(o,s,c,h){var p;this.type=2,this._$AH=Le,this._$AN=void 0,this._$AA=o,this._$AB=s,this._$AM=c,this.options=h,this._$Cg=null===(p=null==h?void 0:h.isConnected)||void 0===p||p}get _$AU(){var o,s;return null!==(s=null===(o=this._$AM)||void 0===o?void 0:o._$AU)&&void 0!==s?s:this._$Cg}get parentNode(){let o=this._$AA.parentNode;const s=this._$AM;return void 0!==s&&11===o.nodeType&&(o=s.parentNode),o}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(o,s=this){var c,h;o=nt(this,o,s),Xr(o)?o===Le||null==o||""===o?(this._$AH!==Le&&this._$AR(),this._$AH=Le):o!==this._$AH&&o!==Nn&&this.$(o):void 0!==o._$litType$?this.T(o):void 0!==o.nodeType?this.k(o):il(c=o)||"function"==typeof(null===(h=c)||void 0===h?void 0:h[Symbol.iterator])?this.S(o):this.$(o)}A(o,s=this._$AB){return this._$AA.parentNode.insertBefore(o,s)}k(o){this._$AH!==o&&(this._$AR(),this._$AH=this.A(o))}$(o){this._$AH!==Le&&Xr(this._$AH)?this._$AA.nextSibling.data=o:this.k(ni.createTextNode(o)),this._$AH=o}T(o){var s;const{values:c,_$litType$:h}=o,p="number"==typeof h?this._$AC(o):(void 0===h.el&&(h.el=ri.createElement(h.h,this.options)),h);if((null===(s=this._$AH)||void 0===s?void 0:s._$AD)===p)this._$AH.m(c);else{const g=new At(p,this),y=g.p(this.options);g.m(c),this.k(y),this._$AH=g}}_$AC(o){let s=al.get(o.strings);return void 0===s&&al.set(o.strings,s=new ri(o)),s}S(o){il(this._$AH)||(this._$AH=[],this._$AR());const s=this._$AH;let c,h=0;for(const p of o)h===s.length?s.push(c=new Gi(this.A(Jr()),this.A(Jr()),this,this.options)):c=s[h],c._$AI(p),h++;h<s.length&&(this._$AR(c&&c._$AB.nextSibling,h),s.length=h)}_$AR(o=this._$AA.nextSibling,s){var c;for(null===(c=this._$AP)||void 0===c||c.call(this,!1,!0,s);o&&o!==this._$AB;){const h=o.nextSibling;o.remove(),o=h}}setConnected(o){var s;void 0===this._$AM&&(this._$Cg=o,null===(s=this._$AP)||void 0===s||s.call(this,o))}}class je{constructor(o,s,c,h,p){this.type=1,this._$AH=Le,this._$AN=void 0,this.element=o,this.name=s,this._$AM=h,this.options=p,c.length>2||""!==c[0]||""!==c[1]?(this._$AH=Array(c.length-1).fill(new String),this.strings=c):this._$AH=Le}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(o,s=this,c,h){const p=this.strings;let g=!1;if(void 0===p)o=nt(this,o,s,0),g=!Xr(o)||o!==this._$AH&&o!==Nn,g&&(this._$AH=o);else{const y=o;let w,E;for(o=p[0],w=0;w<p.length-1;w++)E=nt(this,y[c+w],s,w),E===Nn&&(E=this._$AH[w]),g||(g=!Xr(E)||E!==this._$AH[w]),E===Le?o=Le:o!==Le&&(o+=(null!=E?E:"")+p[w+1]),this._$AH[w]=E}g&&!h&&this.C(o)}C(o){o===Le?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=o?o:"")}}class hc extends je{constructor(){super(...arguments),this.type=3}C(o){this.element[this.name]=o===Le?void 0:o}}const Im=Ar?Ar.emptyScript:"";class ul extends je{constructor(){super(...arguments),this.type=4}C(o){o&&o!==Le?this.element.setAttribute(this.name,Im):this.element.removeAttribute(this.name)}}class Rm extends je{constructor(o,s,c,h,p){super(o,s,c,h,p),this.type=5}_$AI(o,s=this){var c;if((o=null!==(c=nt(this,o,s,0))&&void 0!==c?c:Le)===Nn)return;const h=this._$AH,p=o===Le&&h!==Le||o.capture!==h.capture||o.once!==h.once||o.passive!==h.passive,g=o!==Le&&(h===Le||p);p&&this.element.removeEventListener(this.name,this,h),g&&this.element.addEventListener(this.name,this,o),this._$AH=o}handleEvent(o){var s,c;"function"==typeof this._$AH?this._$AH.call(null!==(c=null===(s=this.options)||void 0===s?void 0:s.host)&&void 0!==c?c:this.element,o):this._$AH.handleEvent(o)}}class Mm{constructor(o,s,c){this.element=o,this.type=6,this._$AN=void 0,this._$AM=s,this.options=c}get _$AU(){return this._$AM._$AU}_$AI(o){nt(this,o)}}const Hh=window.litHtmlPolyfillSupport;var ll,fc;null==Hh||Hh(ri,Gi),(null!==(Tr=globalThis.litHtmlVersions)&&void 0!==Tr?Tr:globalThis.litHtmlVersions=[]).push("2.2.0");class mt extends Zr{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var o,s;const c=super.createRenderRoot();return null!==(o=(s=this.renderOptions).renderBefore)&&void 0!==o||(s.renderBefore=c.firstChild),c}update(o){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(o),this._$Dt=((c,h,p)=>{var g,y;const w=null!==(g=null==p?void 0:p.renderBefore)&&void 0!==g?g:h;let E=w._$litPart$;if(void 0===E){const _=null!==(y=null==p?void 0:p.renderBefore)&&void 0!==y?y:null;w._$litPart$=E=new Gi(h.insertBefore(Jr(),_),_,void 0,null!=p?p:{})}return E._$AI(c),E})(s,this.renderRoot,this.renderOptions)}connectedCallback(){var o;super.connectedCallback(),null===(o=this._$Dt)||void 0===o||o.setConnected(!0)}disconnectedCallback(){var o;super.disconnectedCallback(),null===(o=this._$Dt)||void 0===o||o.setConnected(!1)}render(){return Nn}}mt.finalized=!0,mt._$litElement$=!0,null===(ll=globalThis.litElementHydrateSupport)||void 0===ll||ll.call(globalThis,{LitElement:mt});const pc=globalThis.litElementPolyfillSupport;null==pc||pc({LitElement:mt}),(null!==(fc=globalThis.litElementVersions)&&void 0!==fc?fc:globalThis.litElementVersions=[]).push("3.2.0");const Om=(u,o)=>"method"===o.kind&&o.descriptor&&!("value"in o.descriptor)?sc(qi({},o),{finisher(s){s.createProperty(o.key,u)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:o.key,initializer(){"function"==typeof o.initializer&&(this[o.key]=o.initializer.call(this))},finisher(s){s.createProperty(o.key,u)}};function Q(u){return(o,s)=>void 0!==s?void o.constructor.createProperty(s,u):Om(u,o)}function eo(u){return Q(sc(qi({},u),{state:!0}))}function Bt(u,o){return(({finisher:s,descriptor:c})=>(h,p)=>{var g;if(void 0===p){const y=null!==(g=h.originalKey)&&void 0!==g?g:h.key,w=null!=c?{kind:"method",placement:"prototype",key:y,descriptor:c(h.key)}:sc(qi({},h),{key:y});return null!=s&&(w.finisher=function(E){s(E,y)}),w}{const y=h.constructor;void 0!==c&&Object.defineProperty(h,p,c(p)),null==s||s(y,p)}})({descriptor:s=>{const c={get(){var h,p;return null!==(p=null===(h=this.renderRoot)||void 0===h?void 0:h.querySelector(u))&&void 0!==p?p:null},enumerable:!0,configurable:!0};if(o){const h="symbol"==typeof s?Symbol():"__"+s;c.get=function(){var p,g;return void 0===this[h]&&(this[h]=null!==(g=null===(p=this.renderRoot)||void 0===p?void 0:p.querySelector(u))&&void 0!==g?g:null),this[h]}}return c}})}function*gc(u,o){if(void 0!==u){let s=0;for(const c of u)yield o(c,s++)}}function Xe(u,o,s){const c=new CustomEvent(o,qi({bubbles:!0,cancelable:!1,composed:!0,detail:{}},s));return u.dispatchEvent(c),c}function Fs(u,o){return new Promise(s=>{u.addEventListener(o,function c(h){h.target===u&&(u.removeEventListener(o,c),s())})})}function Vn(u,o){return(s,c)=>{const{update:h}=s,p=qi({waitUntilFirstUpdate:!1},o);s.update=function(g){if(g.has(u)){const y=g.get(u),w=this[u];y!==w&&((null==p?void 0:p.waitUntilFirstUpdate)&&!this.hasUpdated||this[c].call(this,y,w))}h.call(this,g)}}}window;var jh=Ge`.arc-scroll-lock,.arc-scroll-lock arc-container>:not([slot=nav]):not([slot=side]):not([slot=bottom]){overflow:hidden!important}`,Xt=Ge`:host{position:relative;box-sizing:border-box}:host *,:host ::after,:host ::before{box-sizing:inherit}[hidden]{display:none!important}`;const hl=document.createElement("style");function $h(u){return/^([A-Z]([a-z]+))(([A-Z]([a-z]+))+)$/.test(u)}function Bh(u){return/^([a-z]+)(([A-Z]([a-z]+))+)$/.test(u)}function Ls(u){return`${u.charAt(0).toUpperCase()}${u.slice(1)}`}function Vh(u){return $h(u)||Bh(u)?Ls(`${u.charAt(0).toLowerCase()}${u.slice(1)}`.replace(/([A-Z])/g," $1")):Ls(u)}function zi(u){return $h(u)||Bh(u)?`${u.charAt(0).toLowerCase()}${u.slice(1)}`.replace(/([A-Z])/g,"-$1").toLowerCase():u}function Us(u){const o=document.querySelector(":root");return getComputedStyle(o).getPropertyValue(u).trim()}function mc(u,o){const s=document.querySelector(":root");Us(u)!==o&&s.style.setProperty(u,o)}hl.textContent=jh.toString(),document.head.append(hl);const qn={auto:"auto",dark:"dark",light:"light"},fl=["INPUT","TEXTAREA","ARC-MENU-ITEM"],oi={"xx-small":"xx-small","x-small":"x-small",small:"small",medium:"medium",large:"large","x-large":"x-large","xx-large":"xx-large","xxx-large":"xxx-large","xxxx-large":"xxxx-large"},Gn={dense:"dense",normal:"normal",loose:"loose"},pl=[{name:"colourAdjustments",icon:"bulb",options:{theme:Object.values(qn)}},{name:"contentAdjustments",icon:"book-open",options:{fontSize:[oi.medium,oi.large,oi["x-large"]],lineHeight:[Gn.dense,Gn.normal,Gn.loose],letterSpacing:[Gn.dense,Gn.normal,Gn.loose],highLegibilityFonts:null,highlightLinks:null,plainText:null}}],Ki="arc-after-hide",kn="arc-after-show",ml="arc-change",yc="arc-hide",zn="arc-show",it=u=>null!=u?u:Le;function We(u,o,s){return new Promise(c=>{if((null==s?void 0:s.duration)===1/0)throw new Error("Promise-based animations must be finite.");const h=u.animate(o,sc(qi({},s),{duration:window.matchMedia("(prefers-reduced-motion: reduce)").matches?0:s.duration}));h.addEventListener("cancel",c,{once:!0}),h.addEventListener("finish",c,{once:!0})})}function dr(u){return Promise.all(u.getAnimations().map(o=>new Promise(s=>{const c=requestAnimationFrame(s);o.addEventListener("cancel",()=>c,{once:!0}),o.addEventListener("finish",()=>c,{once:!0}),o.cancel()})))}const Kn=new Set;function Wh(u){Kn.add(u),document.body.classList.add("arc-scroll-lock")}function vl(u){Kn.delete(u),0===Kn.size&&document.body.classList.remove("arc-scroll-lock")}const Cl=new Map,vc=new WeakMap;function yn(u,o){Cl.set(u,o||{keyframes:[],options:{duration:0}})}function Wn(u,o){const s=vc.get(u);return s&&s[o]?s[o]:Cl.get(o)||{keyframes:[],options:{duration:0}}}var Qh=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"].join(","),Hs="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,js=function(u){return"INPUT"===u.tagName},wl=function(u,o){if(o=o||{},!u)throw new Error("No node provided");return!1!==Hs.call(u,Qh)&&function(u,o){return!(!function(u,o){return!(o.disabled||(s=o,js(s)&&"hidden"===s.type)||function(s,c){if("hidden"===getComputedStyle(s).visibility)return!0;var h=Hs.call(s,"details>summary:first-of-type")?s.parentElement:s;if(Hs.call(h,"details:not([open]) *"))return!0;if(c&&"full"!==c){if("non-zero-area"===c){var p=s.getBoundingClientRect();return 0===p.width&&0===p.height}}else for(;s;){if("none"===getComputedStyle(s).display)return!0;s=s.parentElement}return!1}(o,u.displayCheck)||function(s){return"DETAILS"===s.tagName&&Array.prototype.slice.apply(s.children).some(function(c){return"SUMMARY"===c.tagName})}(o)||function(s){if(js(s)||"SELECT"===s.tagName||"TEXTAREA"===s.tagName||"BUTTON"===s.tagName)for(var c=s.parentElement;c;){if("FIELDSET"===c.tagName&&c.disabled){for(var h=0;h<c.children.length;h++){var p=c.children.item(h);if("LEGEND"===p.tagName)return!p.contains(s)}return!0}c=c.parentElement}return!1}(o));var s}(u,o)||function(u){return js(o=u)&&"radio"===o.type&&!function(o){if(!o.name)return!0;var s,c=o.form||o.ownerDocument,h=function(g){return c.querySelectorAll('input[type="radio"][name="'+g+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)s=h(window.CSS.escape(o.name));else try{s=h(o.name)}catch(g){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",g.message),!1}var p=function(g,y){for(var w=0;w<g.length;w++)if(g[w].checked&&g[w].form===y)return g[w]}(s,o.form);return!p||p===o}(u);var o}(o)||(s=o,c=parseInt(s.getAttribute("tabindex"),10),(isNaN(c)?"true"===s.contentEditable?0:"AUDIO"!==s.nodeName&&"VIDEO"!==s.nodeName&&"DETAILS"!==s.nodeName||null!==s.getAttribute("tabindex")?s.tabIndex:0:c)<0));var s,c}(o,u)};function Cc(u){const o=[];return function s(c){c instanceof HTMLElement&&(o.push(c),c.shadowRoot&&"open"===c.shadowRoot.mode&&s(c.shadowRoot)),[...c.querySelectorAll("*")].map(h=>s(h))}(u),{start:o.find(s=>wl(s))||null,end:o.reverse().find(s=>wl(s))||null}}let Wi=[];class Xh{constructor(o){this.tabDirection="forward",this.element=o,this.handleFocusIn=this.handleFocusIn.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}activate(){Wi.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown)}deactivate(){Wi=Wi.filter(o=>o!==this.element),document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown)}isActive(){return Wi[Wi.length-1]===this.element}handleFocusIn(o){const s=o.composedPath();if(this.isActive()&&!s.includes(this.element)){const{start:c,end:h}=Cc(this.element),p="forward"===this.tabDirection?c:h;"function"==typeof(null==p?void 0:p.focus)&&p.focus({preventScroll:!0})}}handleKeyDown(o){"Tab"===o.key&&o.shiftKey&&(this.tabDirection="backward",setTimeout(()=>{this.tabDirection="forward"}))}}const El="accessibility",_c="user",se=(u,...o)=>({_$litStatic$:o.reduce((s,c,h)=>s+(p=>{if(void 0!==p._$litStatic$)return p._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${p}. Use 'unsafeStatic' to pass non-literal values, but\n            take care to ensure page security.`)})(c)+u[h+1],u[0])}),Sc=new Map,Bs=(u=Ce,(o,...s)=>{var c;const h=s.length;let p,g;const y=[],w=[];let E,_=0,S=!1;for(;_<h;){for(E=o[_];_<h&&(g=s[_],void 0!==(p=null===(c=g)||void 0===c?void 0:c._$litStatic$));)E+=p+o[++_],S=!0;w.push(g),y.push(E),_++}if(_===h&&y.push(o[h]),S){const I=y.join("$$lit$$");void 0===(o=Sc.get(I))&&(y.raw=y,Sc.set(I,o=y)),s=w}return u(o,...s)}),Rt=u=>(...o)=>({_$litDirective$:u,values:o});var u;class Tc{constructor(o){}get _$AU(){return this._$AM._$AU}_$AT(o,s,c){this._$Ct=o,this._$AM=s,this._$Ci=c}_$AS(o,s){return this.update(o,s)}update(o,s){return this.render(...s)}}const bl=Rt(class extends Tc{constructor(u){var o;if(super(u),1!==u.type||"style"!==u.name||(null===(o=u.strings)||void 0===o?void 0:o.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(u){return Object.keys(u).reduce((o,s)=>{const c=u[s];return null==c?o:o+`${s=s.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${c};`},"")}update(u,[o]){const{style:s}=u.element;if(void 0===this.ct){this.ct=new Set;for(const c in o)this.ct.add(c);return this.render(o)}this.ct.forEach(c=>{null==o[c]&&(this.ct.delete(c),c.includes("-")?s.removeProperty(c):s[c]="")});for(const c in o){const h=o[c];null!=h&&(this.ct.add(c),c.includes("-")?s.setProperty(c,h):s[c]=h)}return Nn}});function Nm(u){const o=u.assignedNodes({flatten:!0});let s="";return[...o].forEach(c=>{c.nodeType===Node.TEXT_NODE&&(s+=c.textContent)}),s}const Qi=Rt(class extends Tc{constructor(u){var o;if(super(u),1!==u.type||"class"!==u.name||(null===(o=u.strings)||void 0===o?void 0:o.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(u){return" "+Object.keys(u).filter(o=>u[o]).join(" ")+" "}update(u,[o]){var s,c;if(void 0===this.et){this.et=new Set,void 0!==u.strings&&(this.st=new Set(u.strings.join(" ").split(/\s/).filter(p=>""!==p)));for(const p in o)o[p]&&!(null===(s=this.st)||void 0===s?void 0:s.has(p))&&this.et.add(p);return this.render(o)}const h=u.element.classList;this.et.forEach(p=>{p in o||(h.remove(p),this.et.delete(p))});for(const p in o){const g=!!o[p];g===this.et.has(p)||(null===(c=this.st)||void 0===c?void 0:c.has(p))||(g?(h.add(p),this.et.add(p)):(h.remove(p),this.et.delete(p)))}return Nn}});let un="";function tf(u){un=u}const _l=[...document.getElementsByTagName("script")],nf=_l.find(u=>u.hasAttribute("data-arc"));if(nf)tf(nf.getAttribute("data-arc"));else{const u=_l.find(s=>/arc(\.min)?\.js$/.test(s.src));let o="";u&&(o=u.getAttribute("src")),tf(o.split("/").slice(0,-1).join("/"))}class Mt extends mt{constructor(){super(...arguments),this.name="fire",this.label="",this.size=oi.medium,this.rotation=0,this.spinning=!1}render(){const o=`${un.replace(/\/$/,"")}/assets/icons.svg`,s={transform:this.rotation?`rotate(${this.rotation}deg)`:null,height:`var(--arc-font-size-${this.size})`,width:`var(--arc-font-size-${this.size})`};return Ce` <svg id="icon" class="${Qi({spinning:this.spinning})}" style="${bl(s)}" role="${it(this.label?"img":void 0)}" aria-label="${it(this.label?this.label:void 0)}" aria-hidden="${it(this.label?void 0:"true")}"> <use href="${o}#arc-${this.name}" xlink:href="${o}#arc-${this.name}"/> </svg> `}}Mt.tag="arc-icon",Mt.styles=[Xt,Ge`:host{display:flex;--icon-color-primary:inherit;--icon-color-secondary:currentColor}#icon{display:inline-block;color:var(--icon-color-primary);line-height:1;flex-shrink:0;max-width:initial}#icon use{fill:var(--icon-color-secondary);stroke:var(--icon-color-secondary)}#icon use{--icon-stroke-linecap-butt:butt;stroke-miterlimit:10;stroke-linecap:square;stroke-linejoin:miter}.stroke-round use{--icon-stroke-linecap-butt:round;stroke-linecap:round;stroke-linejoin:round}.spinning{animation:icon-spin var(--arc-transition-x-slow) infinite linear}@keyframes icon-spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}`],k([Q({type:String,reflect:!0})],Mt.prototype,"name",void 0),k([Q({type:String})],Mt.prototype,"label",void 0),k([Q({type:String,reflect:!0})],Mt.prototype,"size",void 0),k([Q({type:Number})],Mt.prototype,"rotation",void 0),k([Q({type:Boolean,reflect:!0})],Mt.prototype,"spinning",void 0),customElements.define(Mt.tag,Mt);class Ac extends mt{render(){return Ce` <svg class="spinner" aria-busy="true" aria-live="polite"> <circle class="spinner__track" cx="0.5em" cy="0.5em" r="0"/> <circle class="spinner__indicator" cx="0.5em" cy="0.5em" r="0"/> </svg> `}}Ac.tag="arc-spinner",Ac.styles=[Xt,Ge`
      :host {
        --stroke-color: rgb(var(--arc-font-color));
        --track-width: 2px;

        display: inline-flex;
        width: 1em;
        height: 1em;
      }

      .spinner {
        flex: 1 1 auto;
        height: 100%;
        width: 100%;
      }

      .spinner__track,
      .spinner__indicator {
        fill: none;
        stroke-width: var(--track-width);
        transform-origin: 50% 50%;
        r: calc(0.5em - var(--track-width) / 2);
      }

      .spinner__track {
        stroke: rgba(var(--arc-grey-050), 0.3););
        transform-origin: 0 0;
      }

      .spinner__indicator {
        stroke: var(--stroke-color);
        stroke-linecap: round;
        transform-origin: 50% 50%;
        transform: rotate(90deg);
        animation: spin 2.5s linear infinite;
      }

      @keyframes spin {
        0% {
          stroke-dasharray: 0.2em 3em;
          transform: rotate(0deg);
        }

        50% {
          stroke-dasharray: 2.2em 3em;
          transform: rotate(450deg);
        }

        100% {
          stroke-dasharray: 0.2em 3em;
          transform: rotate(1080deg);
        }
      }
    `],customElements.define(Ac.tag,Ac);class vn extends mt{constructor(){super(...arguments),this.hasLabel=!1,this.label="",this.active=!1,this.disabled=!1,this.loading=!1}connectedCallback(){super.connectedCallback(),this.handleSlotChange()}click(){this.button.click()}focus(o){this.button.focus(o)}blur(){this.button.blur()}handleClick(o){(this.disabled||this.loading)&&(o.preventDefault(),o.stopPropagation())}handleSlotChange(){this.hasLabel=[...this.childNodes].some(c=>c.nodeType===c.TEXT_NODE&&""!==c.textContent.trim()||c.nodeType===c.ELEMENT_NODE&&!c.hasAttribute("slot"))}render(){const o=!!this.href,s=o?se`a`:se`button`;return Bs`
      <${s}
        id="button"
        style=${bl({padding:this.hasLabel?"0 0 var(--arc-spacing-small) 0":null})}
        ?disabled=${it(o?void 0:this.disabled)}
        type="button"
        href=${it(this.href)}
        target=${it(this.target)}
        download=${it(this.download)}
        rel=${it(this.target?"noreferrer noopener":void 0)}
        role="button"
        aria-disabled=${this.disabled?"true":"false"}
        aria-label=${this.label}
        tabindex=${this.disabled?"-1":"0"}
        @click=${this.handleClick}
      >
        <span id="iconWrapper" aria-hidden="true">
          <arc-icon id="icon" part="icon" name=${it(this.name)}></arc-icon>
          ${this.loading?Bs`<arc-spinner id="loader"></arc-spinner>`:Le}
        </span>
        ${this.hasLabel?Bs`<span id="action"><slot @slotchange=${this.handleSlotChange}></slot></span>`:Le}
      </${s}>
    `}}vn.tag="arc-icon-button",vn.styles=[Xt,Ge`:host{display:inline-flex;cursor:pointer;--icon-color:rgb(var(--arc-font-color))}#button{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;min-height:100%;border:none;font-family:var(--arc-font-button);text-decoration:none;user-select:none;white-space:nowrap;vertical-align:middle;padding:0;cursor:inherit;color:var(--icon-color);background:0 0;outline:0;-webkit-appearance:none}#iconWrapper{display:flex;justify-content:center;align-items:center}#icon{padding:var(--arc-spacing-small);border-radius:50%}#action{font-size:var(--arc-font-size-xx-small);margin-top:-.2rem}:host(:not([disabled])) #button:focus-visible #icon,:host(:not([disabled])) #button:hover #icon{background:rgba(var(--arc-font-color),10%)}:host(:not([disabled])) #button:active #icon{background:rgba(var(--arc-font-color),30%)}:host(:not([disabled])[active]) #button{border-bottom:calc(var(--arc-border-width) * 2) var(--arc-border-style) currentColor}:host([disabled]) #button{opacity:.5;cursor:not-allowed}:host([loading]) #icon{visibility:hidden}#loader{position:absolute}#action,#icon,#iconWrapper{pointer-events:none}`],k([Bt("#button")],vn.prototype,"button",void 0),k([eo()],vn.prototype,"hasLabel",void 0),k([Q({type:String})],vn.prototype,"name",void 0),k([Q({type:String})],vn.prototype,"href",void 0),k([Q({type:String})],vn.prototype,"target",void 0),k([Q({type:String})],vn.prototype,"download",void 0),k([Q({type:String})],vn.prototype,"label",void 0),k([Q({type:Boolean,reflect:!0})],vn.prototype,"active",void 0),k([Q({type:Boolean,reflect:!0})],vn.prototype,"disabled",void 0),k([Q({type:Boolean,reflect:!0})],vn.prototype,"loading",void 0),customElements.define(vn.tag,vn);let km=0;class Qn extends mt{constructor(){super(...arguments),this.componentId="drawer-"+ ++km,this.open=!1,this.contained=!1,this.placement="end"}handleOpenChange(){var o=this;return fe(function*(){if(o.open){Xe(o,zn),o.originalTrigger=document.activeElement,o.contained||(o.modal.activate(),Wh(o)),yield Promise.all([dr(o.drawer),dr(o.overlay)]),o.drawer.hidden=!1,Xe(o,"arc-initial-focus",{cancelable:!0}).defaultPrevented||o.panel.focus({preventScroll:!0});const s=Wn(o,`drawer.show${Ls(o.placement)}`),c=Wn(o,"drawer.overlay.show");yield Promise.all([We(o.panel,s.keyframes,s.options),We(o.overlay,c.keyframes,c.options)]),Xe(o,kn)}else{Xe(o,yc),o.modal.deactivate(),vl(o),yield Promise.all([dr(o.drawer),dr(o.overlay)]);const s=Wn(o,`drawer.hide${Ls(o.placement)}`),c=Wn(o,"drawer.overlay.hide");yield Promise.all([We(o.panel,s.keyframes,s.options),We(o.overlay,c.keyframes,c.options)]),o.drawer.hidden=!0;const h=o.originalTrigger;h&&"function"==typeof h.focus&&setTimeout(()=>h.focus()),Xe(o,Ki)}})()}connectedCallback(){super.connectedCallback(),this.modal=new Xh(this)}firstUpdated(){this.drawer.hidden=!this.open,this.open&&!this.contained&&(this.modal.activate(),Wh(this))}disconnectedCallback(){super.disconnectedCallback(),vl(this)}show(){var o=this;return fe(function*(){o.open||(o.open=!0,yield Fs(o,kn))})()}hide(){var o=this;return fe(function*(){o.open&&(o.open=!1,yield Fs(o,Ki))})()}requestClose(){if(Xe(this,"arc-request-close",{cancelable:!0}).defaultPrevented){const o=Wn(this,"drawer.denyClose");We(this.panel,o.keyframes,o.options)}else this.hide()}handleKeyDown(o){"Escape"===o.key&&(o.stopPropagation(),this.requestClose())}render(){return Ce` <div id="main" @keydown="${this.handleKeyDown}"> <div id="overlay" @click="${this.requestClose}" role="presentation" tabindex="-1"></div> <div id="panel" role="dialog" aria-modal="true" aria-hidden="${this.open?"false":"true"}" aria-label="${it(this.label)}" aria-labelledby="${it(`${this.componentId}-title`)}" tabindex="0"> <div id="header"> <slot name="label"><span>${this.label}</span></slot> <arc-icon-button id="toggleClose" name="${"x"}" label="Close drawer" @click="${this.requestClose}"></arc-icon-button> </div> <div id="body"> <slot></slot> </div> <footer id="footer"> <slot name="footer"></slot> </footer> </div> </div> `}}Qn.tag="arc-drawer",Qn.styles=[Xt,Ge`:host{--size:25rem;display:contents}#main{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden;z-index:var(--arc-z-index-drawer)}:host([contained]) #main{position:absolute;z-index:initial}#panel{position:absolute;display:flex;flex-direction:column;z-index:2;max-width:100%;max-height:100%;background-color:rgb(var(--arc-container-color));transition:var(--arc-transition-medium) transform;overflow:auto;pointer-events:all}#panel:focus{outline:0}:host([placement=top]) #panel{top:0;right:auto;bottom:auto;left:0;width:100%;height:var(--size)}:host([placement=end]) #panel{top:0;right:0;bottom:auto;left:auto;width:var(--size);height:100%}:host([placement=bottom]) #panel{top:auto;right:auto;bottom:0;left:0;width:100%;height:var(--size)}:host([placement=start]) #panel{top:0;right:auto;bottom:auto;left:0;width:var(--size);height:100%}#header{display:flex;justify-content:space-between;align-items:center;padding:var(--arc-spacing-small);padding-left:var(--arc-spacing-medium);user-select:none}#header span{font-size:var(--arc-font-size-large);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#body{flex:1 1 auto;padding:var(--arc-spacing-medium);padding-top:var(--arc-spacing-normal);border-top:var(--arc-border-width) var(--arc-border-style) rgb(var(--arc-color-default));overflow:auto;-webkit-overflow-scrolling:touch}#footer{text-align:right;padding:var(--arc-spacing-medium)}#overlay{display:block;position:fixed;top:0;right:0;bottom:0;left:0;background-image:var(--arc-overlay-gradient);pointer-events:all}:host([contained]) #overlay{position:absolute}`],k([Bt("#main")],Qn.prototype,"drawer",void 0),k([Bt("#panel")],Qn.prototype,"panel",void 0),k([Bt("#overlay")],Qn.prototype,"overlay",void 0),k([Q({type:Boolean,reflect:!0})],Qn.prototype,"open",void 0),k([Q({type:Boolean,reflect:!0})],Qn.prototype,"contained",void 0),k([Q({reflect:!0})],Qn.prototype,"placement",void 0),k([Q({type:String})],Qn.prototype,"label",void 0),k([Vn("open",{waitUntilFirstUpdate:!0})],Qn.prototype,"handleOpenChange",null),yn("drawer.showTop",{keyframes:[{opacity:0,transform:"translateY(-100%)"},{opacity:1,transform:"translateY(0)"}],options:{duration:500,easing:"ease"}}),yn("drawer.hideTop",{keyframes:[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-100%)"}],options:{duration:500,easing:"ease"}}),yn("drawer.showEnd",{keyframes:[{opacity:0,transform:"translateX(100%)"},{opacity:1,transform:"translateX(0)"}],options:{duration:500,easing:"ease"}}),yn("drawer.hideEnd",{keyframes:[{opacity:1,transform:"translateX(0)"},{opacity:0,transform:"translateX(100%)"}],options:{duration:500,easing:"ease"}}),yn("drawer.showBottom",{keyframes:[{opacity:0,transform:"translateY(100%)"},{opacity:1,transform:"translateY(0)"}],options:{duration:500,easing:"ease"}}),yn("drawer.hideBottom",{keyframes:[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(100%)"}],options:{duration:500,easing:"ease"}}),yn("drawer.showStart",{keyframes:[{opacity:0,transform:"translateX(-100%)"},{opacity:1,transform:"translateX(0)"}],options:{duration:500,easing:"ease"}}),yn("drawer.hideStart",{keyframes:[{opacity:1,transform:"translateX(0)"},{opacity:0,transform:"translateX(-100%)"}],options:{duration:500,easing:"ease"}}),yn("drawer.denyClose",{keyframes:[{transform:"scale(1)"},{transform:"scale(1.01)"},{transform:"scale(1)"}],options:{duration:500}}),yn("drawer.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:500}}),yn("drawer.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:500}}),customElements.define(Qn.tag,Qn);class Do extends mt{constructor(){super(...arguments),this.row=!1}handleFocusIn(){const o=[...this.defaultSlot.assignedElements({flatten:!0})].find(s=>"ARC-RADIO"===s.tagName&&s.checked);null==o||o.focus()}render(){return Ce` <div id="main"> <label id="label"> <slot name="label">${this.label}</slot> </label> <div id="radioGroup" role="radiogroup" @focusin="${this.handleFocusIn}"> <slot></slot> </div> </div> `}}Do.tag="arc-radio-group",Do.styles=[Xt,Ge`:host{display:inline-flex}#radioGroup{display:grid;position:relative;right:var(--arc-spacing-small);border:none;padding:0;margin:0;min-width:0}@media (min-width:${49}rem){:host([row]) #radioGroup{grid-auto-flow:column}}`],k([Bt("slot:not([name])")],Do.prototype,"defaultSlot",void 0),k([Q({type:String})],Do.prototype,"label",void 0),k([Q({type:Boolean})],Do.prototype,"row",void 0),customElements.define(Do.tag,Do);const Pm={},rf=Rt(class extends Tc{constructor(u){if(super(u),3!==u.type&&1!==u.type&&4!==u.type)throw Error("The `live` directive is not allowed on child or event bindings");if(void 0!==u.strings)throw Error("`live` bindings can only contain a single expression")}render(u){return u}update(u,[o]){if(o===Nn||o===Le)return o;const s=u.element,c=u.name;if(3===u.type){if(o===s[c])return Nn}else if(4===u.type){if(!!o===s.hasAttribute(c))return Nn}else if(1===u.type&&s.getAttribute(c)===o+"")return Nn;return((h,p=Pm)=>{h._$AH=p})(u),o}});class Ir extends mt{constructor(){super(...arguments),this.disabled=!1,this.checked=!1}firstUpdated(){this.updateComplete.then(()=>{const o=this.getAllRadios(),s=o.find(c=>c.checked);o.forEach(c=>{c.input.tabIndex=-1}),s&&!s.disabled?s.input.tabIndex=0:o.length>0&&(this.getAllRadios({includeDisabled:!1})[0].input.tabIndex=0)})}handleCheckedChange(){this.checked&&(this.input.tabIndex=0,this.getSiblingRadios().forEach(o=>{o.input.tabIndex=-1,o.checked=!1}))}click(){this.input.click()}focus(o){this.input.focus(o)}blur(){this.input.blur()}getAllRadios(o={includeDisabled:!0}){const s=this.closest("arc-radio-group"),{includeDisabled:c}=o;return s?[...s.querySelectorAll("arc-radio")].filter(h=>h.name===this.name&&!(!c&&h.disabled)):[this]}getSiblingRadios(){return this.getAllRadios().filter(o=>o!==this)}handleClick(){this.checked||(this.checked=!0,Xe(this,ml))}handleKeyDown(o){if(["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(o.key)){const s=this.getAllRadios({includeDisabled:!1}),c=["ArrowUp","ArrowLeft"].includes(o.key)?-1:1;let h=s.indexOf(this)+c;h<0&&(h=s.length-1),h>s.length-1&&(h=0),this.getAllRadios().forEach(p=>{p.checked=!1,p.input.tabIndex=-1}),s[h].input.focus(),s[h].checked=!0,s[h].input.tabIndex=0,Xe(s[h],ml),o.preventDefault()}}render(){return Ce` <label id="main" @keydown="${this.handleKeyDown}"> <span id="radio"> <input type="radio" name="${it(this.name)}" .value="${it(this.value)}" ?checked="${rf(this.checked)}" ?disabled="${this.disabled}" aria-checked="${this.checked}" aria-disabled="${this.disabled}" @click="${this.handleClick}"> <arc-icon name="${this.checked?"radio-checked":"radio-unchecked"}" size="large" focusable="false"></arc-icon> </span> <span id="label"><slot></slot></span> </label> `}}Ir.tag="arc-radio",Ir.styles=[Xt,Ge`#main{display:inline-flex;align-items:center;vertical-align:middle;cursor:pointer}input{cursor:inherit;position:absolute;opacity:0;width:100%;height:100%;top:0;left:0;margin:0;padding:0;z-index:1}#radio{flex:0 0 auto;position:relative;display:inline-flex;align-items:center;justify-content:center}arc-icon{padding:var(--arc-spacing-small);border-radius:50%}#label{line-height:var(--arc-toggle-size);user-select:none}:host(:not([disabled])) #radio:hover arc-icon,:host(:not([disabled])) input:focus-visible+arc-icon{background:rgba(var(--arc-font-color),10%)}:host(:not([disabled])) #radio:active arc-icon{background:rgba(var(--arc-font-color),30%)}:host([disabled]) #main{opacity:.5;cursor:not-allowed}`],k([Bt('input[type="radio"]')],Ir.prototype,"input",void 0),k([Q({type:String})],Ir.prototype,"name",void 0),k([Q({type:String})],Ir.prototype,"value",void 0),k([Q({type:Boolean,reflect:!0})],Ir.prototype,"disabled",void 0),k([Q({type:Boolean,reflect:!0})],Ir.prototype,"checked",void 0),k([Vn("checked",{waitUntilFirstUpdate:!0})],Ir.prototype,"handleCheckedChange",null),customElements.define(Ir.tag,Ir);const en="default";class Qe extends mt{constructor(){super(...arguments),this.type="contained",this.color=en,this.size="medium",this.active=!1,this.disabled=!1,this.loading=!1,this.submit=!1}click(){this.button.click()}focus(o){this.button.focus(o)}blur(){this.button.blur()}handleClick(o){(this.disabled||this.loading)&&(o.preventDefault(),o.stopPropagation())}render(){const o=!!this.href,s=o?se`a`:se`button`,c=window.getComputedStyle(this),h=()=>{switch(this.type){case"outlined":return this.color===en?"rgb(var(--arc-font-color))":"var(--btn-background)";case"tab":return this.color===en?"rgb(var(--arc-color-primary))":"var(--btn-background)";default:return"primary"===this.color||"secondary"===this.color?"rgb(var(--arc-container-color))":"rgb(var(--arc-input-color))"}},p={height:`var(--arc-input-height-${this.size})`,padding:`0 var(--arc-spacing-${this.size})`,"--btn-color":c.getPropertyValue("--btn-color").length>0?null:h(),"--btn-background":c.getPropertyValue("--btn-background").length>0?null:`rgb(var(--arc-color-${this.color}))`};return Bs`
      <${s}
        id="button"
        style=${bl(p)}
        ?disabled=${it(o?void 0:this.disabled)}
        type=${this.submit?"submit":"button"}
        name=${it(o?void 0:this.name)}
        value=${it(o?void 0:this.value)}
        href=${it(this.href)}
        target=${it(this.target)}
        download=${it(this.download)}
        rel=${it(this.target?"noreferrer noopener":void 0)}
        role="button"
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @click=${this.handleClick}
      >
        <slot id="prefix" name="prefix"></slot>
        <slot id="label"></slot>
        <slot id="suffix" name="suffix"></slot>
        ${this.loading?Bs` <arc-spinner id="loader" style="--stroke-color: ${h()}"></arc-spinner>`:null}
      </${s}>
    `}}Qe.tag="arc-button",Qe.styles=[Xt,Ge`:host{display:inline-block;width:auto;cursor:pointer;--min-width:0}#button{display:inline-flex;align-items:center;justify-content:center;width:100%;min-width:var(--min-width);min-height:100%;border:none;border-radius:var(--arc-border-radius-medium);font-family:var(--arc-font-button);font-size:inherit;letter-spacing:inherit;font-weight:var(--arc-font-weight-semibold);text-decoration:none;user-select:none;white-space:nowrap;vertical-align:middle;padding:0;cursor:inherit;color:var(--btn-color);background-color:var(--btn-background);gap:var(--arc-spacing-small);box-shadow:var(--arc-input-box-shadow);outline:0;-webkit-appearance:none}:host([type=pill][size=small]) #button{border-radius:var(--arc-input-height-small)}:host([type=pill][size=medium]) #button{border-radius:var(--arc-input-height-medium)}:host([type=pill][size=large]) #button{border-radius:var(--arc-input-height-large)}:host([type=tile]) #button{border-radius:0}:host([type=tab]){height:100%}:host([type=tab]) #button{background:0 0;border-radius:0;box-shadow:none}:host([type=tab]:not([disabled])[active]) #button{border-bottom:calc(var(--arc-border-width) * 2) var(--arc-border-style) currentColor}:host([type=outlined]) #button{border:var(--arc-border-width) var(--arc-border-style) currentColor;background-color:transparent;box-shadow:none}:host(:not([type=tab]):not([type=outlined]):not([disabled]):not([loading])) #button:focus-visible,:host(:not([type=tab]):not([type=outlined]):not([disabled]):not([loading])) #button:hover{background-image:linear-gradient(var(--arc-hover-dark) 0 0)}:host([type=outlined]:not([disabled]):not([loading])) #button:focus-visible,:host([type=outlined]:not([disabled]):not([loading])) #button:hover,:host([type=tab]:not([disabled]):not([loading])) #button:focus-visible,:host([type=tab]:not([disabled]):not([loading])) #button:hover{background-color:currentColor;background-image:linear-gradient(var(--arc-hover-lighter) 0 0)}:host(:not([type=tab]):not([type=outlined]):not([disabled]):not([loading])) #button:active{background-image:linear-gradient(var(--arc-hover-darker) 0 0)}:host([type=outlined]:not([disabled]):not([loading])) #button:active,:host([type=tab]:not([disabled]):not([loading])) #button:active{background-image:linear-gradient(var(--arc-hover-light) 0 0)}:host([disabled]) #button{opacity:.5;box-shadow:none;cursor:not-allowed}:host([loading]) #label,:host([loading]) #prefix,:host([loading]) #suffix{visibility:hidden}#loader{position:absolute}slot{pointer-events:none}`],k([Bt("#button")],Qe.prototype,"button",void 0),k([Q({type:String,reflect:!0})],Qe.prototype,"type",void 0),k([Q({type:String,reflect:!0})],Qe.prototype,"color",void 0),k([Q({type:String,reflect:!0})],Qe.prototype,"size",void 0),k([Q({type:String})],Qe.prototype,"name",void 0),k([Q({type:String})],Qe.prototype,"value",void 0),k([Q({type:String})],Qe.prototype,"href",void 0),k([Q({type:String})],Qe.prototype,"target",void 0),k([Q({type:String})],Qe.prototype,"download",void 0),k([Q({type:Boolean,reflect:!0})],Qe.prototype,"active",void 0),k([Q({type:Boolean,reflect:!0})],Qe.prototype,"disabled",void 0),k([Q({type:Boolean,reflect:!0})],Qe.prototype,"loading",void 0),k([Q({type:Boolean,reflect:!0})],Qe.prototype,"submit",void 0),customElements.define(Qe.tag,Qe);class Pn extends mt{constructor(){super(...arguments),this._rootCssVariables={},this._defaultPreferences={theme:this.getTheme(),fontSize:oi.medium,lineHeight:Gn.normal,letterSpacing:Gn.normal,highLegibilityFonts:!1,highlightLinks:!1,plainText:!1},this._availableRootValues={fontSize:Object.values(oi),lineHeight:Object.values(Gn),letterSpacing:Object.values(Gn)},this._userPreferences=this._defaultPreferences,this.open=!1,this.radioTemplate=(o,s)=>Ce` <arc-radio-group id="${o}"> <span slot="label">${Vh(o)}</span> ${gc(s,c=>Ce` <arc-radio name="${o}" value="${c}" ?checked="${c===this._userPreferences[o]}" @arc-change="${this.handleOptionChange}">${Ls(c)} </arc-radio> `)} </arc-radio-group> `,this.booleanTemplate=()=>Ce`${Le}`}handlePreferenceChange(){var o=this;return fe(function*(){localStorage.setItem(Pn.tag,function(s){try{return JSON.stringify(s)}catch(c){throw new Error("Invalid JSON object")}}(o._userPreferences)),Object.keys(o._userPreferences).forEach(s=>o.updateRootValue(s,o._userPreferences[s])),Xe(o,"arc-accessibility-change",{detail:{preferences:o._userPreferences},bubbles:!0,composed:!0})})()}connectedCallback(){super.connectedCallback(),Object.keys(this._defaultPreferences).forEach(s=>this.storeRootValues(s));const o=localStorage.getItem(Pn.tag);o&&(this._userPreferences=function(s){try{return JSON.parse(s)}catch(c){throw new Error("Invalid JSON string")}}(o))}show(){this.open||(this.open=!0)}hide(){this.open&&(this.open=!1)}getTheme(){const o=document.querySelector("arc-container");return o?o.theme:qn.auto}storeRootValues(o){o in this._availableRootValues&&this._availableRootValues[o].forEach(s=>{const c=`--arc-${zi(o)}-${s}`;this._rootCssVariables[c]=Us(c)})}restoreRootValues(o){o in this._availableRootValues&&this._availableRootValues[o].forEach(s=>{const c=`--arc-${zi(o)}-${s}`;mc(c,this._rootCssVariables[c])})}updateRootValue(o,s){if(!(o in this._defaultPreferences))throw new Error("The provided key is not a valid UserPreference");if(!(o in this._availableRootValues))return;this.restoreRootValues(o);const c=this._availableRootValues[o],h=c.findIndex(y=>y===this._defaultPreferences[o]),p=c.findIndex(y=>y===s);if(p<0)throw new Error("The provided value does not exist as an available root value");const g=p-h;c.forEach((y,w)=>{let E=w+g;E>=c.length&&(E=c.length-1),mc(`--arc-${zi(o)}-${y}`,Us(`--arc-${zi(o)}-${c[E]}`))})}restoreRootDefaults(){Object.keys(this._defaultPreferences).forEach(o=>this.restoreRootValues(o)),this._userPreferences=this._defaultPreferences}handleOptionChange(o){const s=o.target,c=s.name,h=s.value;this._userPreferences=sc(qi({},this._userPreferences),{[c]:h})}render(){return Ce` <div id="main"> <arc-drawer id="drawer" @arc-hide="${this.hide}" ?open="${this.open}"> <div class="label" slot="label"> <arc-icon name="accessibility" size="large"></arc-icon> <span>Accessibility Controls (A)</span> </div> <div id="wrapper"> ${gc(pl,o=>Ce` <div class="label"> <span>${Vh(o.name)}</span> <arc-icon name="${o.icon}"></arc-icon> </div> <div class="options"> ${gc(Object.entries(o.options),s=>{const[c,h]=s;return Ce`${p=Array.isArray(h),g=()=>this.radioTemplate(c,h),y=()=>this.booleanTemplate(),p?g():null==y?void 0:y()}`;var p,g,y})} </div> `)} </div> <arc-button type="tab" slot="footer" @click="${this.restoreRootDefaults}">Restore defaults</arc-button> </arc-drawer> </div> `}}Pn.tag="arc-accessibility",Pn.styles=[Xt,Ge`#wrapper{display:grid;gap:var(--arc-spacing-small)}.label{display:flex;align-items:center;gap:var(--arc-spacing-small)}.options{display:flex;flex-wrap:wrap;gap:var(--arc-spacing-small)}.boolean-option{height:5rem}`],k([eo()],Pn.prototype,"_userPreferences",void 0),k([Q({type:Boolean,reflect:!0})],Pn.prototype,"open",void 0),k([Vn("_userPreferences")],Pn.prototype,"handlePreferenceChange",null),customElements.define(Pn.tag,Pn);class So extends mt{constructor(){super(...arguments),this.tabs=5,this.handleTabChange=o=>{const s=o.target.assignedElements({flatten:!0}).filter(c=>"ARC-ICON-BUTTON"===c.tagName);this.tabCount=s.length,this.tabCount>this.tabs&&this.log(`Please limit your tab count to a maximum of ${this.tabs} tabs`)},this.log=o=>console.log(o)}render(){return Ce` <nav id="main" aria-label="mobile navigation"> <slot @slotchange="${this.handleTabChange}"></slot> </nav> `}}So.tag="arc-bottombar",So.styles=[Xt,Ge`:host{height:var(--arc-bottom-height);background:rgb(var(--arc-background-color))}#main{height:inherit;display:grid;grid-auto-flow:column;grid-auto-columns:1fr}`],k([eo()],So.prototype,"tabs",void 0),k([eo()],So.prototype,"tabCount",void 0),customElements.define(So.tag,So);class Rr extends mt{constructor(){super(...arguments),this.theme=qn.auto,this.fullscreen=!1,this.getTheme=o=>function(s){const c=(s||new Date).getHours();return c>=19||c<7}(o)?qn.dark:qn.light,this.handleAccessibilityChange=o=>{const{preferences:s}=o.detail,{theme:c}=s;this.theme=c&&c in qn?c:this._appPreferredTheme}}handleThemeChange(){this.theme in qn&&qn[this.theme]!==qn.auto||(this.theme=this.getTheme())}connectedCallback(){super.connectedCallback(),document.addEventListener("keypress",this.handleKeyDown.bind(this)),this.theme in qn&&(this._appPreferredTheme=this.theme)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keypress",this.handleKeyDown.bind(this))}showAccessibility(){this.accessibility.open=!0}handleKeyDown(o){o.composedPath().some(s=>fl.includes(s.tagName))||"a"===o.key&&(o.preventDefault(),this.accessibility.open=!this.accessibility.open)}render(){return Ce` <div id="main"> <slot id="nav" name="nav" @arc-show-accessibility="${this.showAccessibility}"></slot> <div id="container" class="${Qi({fullscreen:this.fullscreen})}"> <slot name="side"></slot> <div id="content"> <slot></slot> </div> </div> <arc-accessibility id="accessibility" @arc-accessibility-change="${this.handleAccessibilityChange}"></arc-accessibility> <slot name="bottom"> <arc-bottombar> <arc-icon-button name="${"home"}" href="/" label="Return home">Home</arc-icon-button> <arc-icon-button name="${El}" label="Accessibility panel" @click="${this.showAccessibility}">Accessibility</arc-icon-button> </arc-bottombar> </slot> </div> `}}Rr.tag="arc-container",Rr.styles=[Xt,Ge`#main{height:100%;display:flex;flex-direction:column;background:rgb(var(--arc-background-color));color:rgb(var(--arc-font-color))}#container{flex:1 1 100%;display:flex;overflow:hidden;gap:0;padding:0}::slotted(arc-sidebar){display:none}#content{flex:1 1 100%;overflow:auto;background:rgb(var(--arc-container-color))}::slotted(arc-bottombar),arc-bottombar{display:block}@media (min-width:${49}rem){#container:not(.fullscreen){gap:var(--arc-spacing-normal);padding:var(--arc-spacing-normal) var(--arc-spacing-medium)}::slotted(arc-sidebar){display:block}::slotted(arc-bottombar),arc-bottombar{display:none}}`],k([Bt("#main")],Rr.prototype,"container",void 0),k([Bt("#accessibility")],Rr.prototype,"accessibility",void 0),k([Q({type:String,reflect:!0})],Rr.prototype,"theme",void 0),k([Q({type:Boolean})],Rr.prototype,"fullscreen",void 0),k([Vn("theme")],Rr.prototype,"handleThemeChange",null),customElements.define(Rr.tag,Rr);var ln="top",Cn="bottom",tn="right",Vt="left",ii=[ln,Cn,tn,Vt],Dl=ii.reduce(function(u,o){return u.concat([o+"-start",o+"-end"])},[]),re=[].concat(ii,["auto"]).reduce(function(u,o){return u.concat([o,o+"-start",o+"-end"])},[]),Ic=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function hr(u){return u?(u.nodeName||"").toLowerCase():null}function Et(u){if(null==u)return window;if("[object Window]"!==u.toString()){var o=u.ownerDocument;return o&&o.defaultView||window}return u}function To(u){return u instanceof Et(u).Element||u instanceof Element}function Yn(u){return u instanceof Et(u).HTMLElement||u instanceof HTMLElement}function Mr(u){return"undefined"!=typeof ShadowRoot&&(u instanceof Et(u).ShadowRoot||u instanceof ShadowRoot)}var Zn={name:"applyStyles",enabled:!0,phase:"write",fn:function(u){var o=u.state;Object.keys(o.elements).forEach(function(s){var c=o.styles[s]||{},h=o.attributes[s]||{},p=o.elements[s];Yn(p)&&hr(p)&&(Object.assign(p.style,c),Object.keys(h).forEach(function(g){var y=h[g];!1===y?p.removeAttribute(g):p.setAttribute(g,!0===y?"":y)}))})},effect:function(u){var o=u.state,s={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(o.elements.popper.style,s.popper),o.styles=s,o.elements.arrow&&Object.assign(o.elements.arrow.style,s.arrow),function(){Object.keys(o.elements).forEach(function(c){var h=o.elements[c],p=o.attributes[c]||{},g=Object.keys(o.styles.hasOwnProperty(c)?o.styles[c]:s[c]).reduce(function(y,w){return y[w]="",y},{});Yn(h)&&hr(h)&&(Object.assign(h.style,g),Object.keys(p).forEach(function(y){h.removeAttribute(y)}))})}},requires:["computeStyles"]};function Or(u){return u.split("-")[0]}var si=Math.max,wn=Math.min,ai=Math.round;function ci(u,o){void 0===o&&(o=!1);var s=u.getBoundingClientRect(),c=1,h=1;if(Yn(u)&&o){var p=u.offsetHeight,g=u.offsetWidth;g>0&&(c=ai(s.width)/g||1),p>0&&(h=ai(s.height)/p||1)}return{width:s.width/c,height:s.height/h,top:s.top/h,right:s.right/c,bottom:s.bottom/h,left:s.left/c,x:s.left/c,y:s.top/h}}function Rc(u){var o=ci(u),s=u.offsetWidth,c=u.offsetHeight;return Math.abs(o.width-s)<=1&&(s=o.width),Math.abs(o.height-c)<=1&&(c=o.height),{x:u.offsetLeft,y:u.offsetTop,width:s,height:c}}function of(u,o){var s=o.getRootNode&&o.getRootNode();if(u.contains(o))return!0;if(s&&Mr(s)){var c=o;do{if(c&&u.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function be(u){return Et(u).getComputedStyle(u)}function Hm(u){return["table","td","th"].indexOf(hr(u))>=0}function Ao(u){return((To(u)?u.ownerDocument:u.document)||window.document).documentElement}function Nr(u){return"html"===hr(u)?u:u.assignedSlot||u.parentNode||(Mr(u)?u.host:null)||Ao(u)}function $e(u){return Yn(u)&&"fixed"!==be(u).position?u.offsetParent:null}function to(u){for(var o=Et(u),s=$e(u);s&&Hm(s)&&"static"===be(s).position;)s=$e(s);return s&&("html"===hr(s)||"body"===hr(s)&&"static"===be(s).position)?o:s||function(c){var h=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Yn(c)&&"fixed"===be(c).position)return null;for(var p=Nr(c);Yn(p)&&["html","body"].indexOf(hr(p))<0;){var g=be(p);if("none"!==g.transform||"none"!==g.perspective||"paint"===g.contain||-1!==["transform","perspective"].indexOf(g.willChange)||h&&"filter"===g.willChange||h&&g.filter&&"none"!==g.filter)return p;p=p.parentNode}return null}(u)||o}function Yi(u){return["top","bottom"].indexOf(u)>=0?"x":"y"}function Io(u,o,s){return si(u,wn(o,s))}function Mc(u){return Object.assign({},{top:0,right:0,bottom:0,left:0},u)}function fr(u,o){return o.reduce(function(s,c){return s[c]=u,s},{})}var Zi={name:"arrow",enabled:!0,phase:"main",fn:function(u){var o,Te,Ee,s=u.state,c=u.name,h=u.options,p=s.elements.arrow,g=s.modifiersData.popperOffsets,y=Or(s.placement),w=Yi(y),E=[Vt,tn].indexOf(y)>=0?"height":"width";if(p&&g){var _=(Ee=s,Mc("number"!=typeof(Te="function"==typeof(Te=h.padding)?Te(Object.assign({},Ee.rects,{placement:Ee.placement})):Te)?Te:fr(Te,ii))),S=Rc(p),I="y"===w?ln:Vt,M="y"===w?Cn:tn,x=s.rects.reference[E]+s.rects.reference[w]-g[w]-s.rects.popper[E],L=g[w]-s.rects.reference[w],B=to(p),q=B?"y"===w?B.clientHeight||0:B.clientWidth||0:0,Be=q/2-S[E]/2+(x/2-L/2),Ze=Io(_[I],Be,q-S[E]-_[M]);s.modifiersData[c]=((o={})[w]=Ze,o.centerOffset=Ze-Be,o)}},effect:function(u){var o=u.state,s=u.options.element,c=void 0===s?"[data-popper-arrow]":s;null!=c&&("string"!=typeof c||(c=o.elements.popper.querySelector(c)))&&of(o.elements.popper,c)&&(o.elements.arrow=c)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ui(u){return u.split("-")[1]}var qs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sl(u){var o,s=u.popper,c=u.popperRect,h=u.placement,p=u.variation,g=u.offsets,y=u.position,w=u.gpuAcceleration,E=u.adaptive,_=u.roundOffsets,S=u.isFixed,I=g.x,M=void 0===I?0:I,x=g.y,L=void 0===x?0:x,B="function"==typeof _?_({x:M,y:L}):{x:M,y:L};M=B.x,L=B.y;var q=g.hasOwnProperty("x"),ve=g.hasOwnProperty("y"),Y=Vt,Pe=ln,Be=window;if(E){var Ze=to(s),we="clientHeight",Te="clientWidth";Ze===Et(s)&&"static"!==be(Ze=Ao(s)).position&&"absolute"===y&&(we="scrollHeight",Te="scrollWidth"),Ze=Ze,(h===ln||(h===Vt||h===tn)&&"end"===p)&&(Pe=Cn,L-=(S&&Be.visualViewport?Be.visualViewport.height:Ze[we])-c.height,L*=w?1:-1),(h===Vt||(h===ln||h===Cn)&&"end"===p)&&(Y=tn,M-=(S&&Be.visualViewport?Be.visualViewport.width:Ze[Te])-c.width,M*=w?1:-1)}var Ee,Lt,fo,jn,Ae=Object.assign({position:y},E&&qs),Ie=!0===_?(fo=(Lt={x:M,y:L}).y,jn=window.devicePixelRatio||1,{x:ai(Lt.x*jn)/jn||0,y:ai(fo*jn)/jn||0}):{x:M,y:L};return M=Ie.x,L=Ie.y,Object.assign({},Ae,w?((Ee={})[Pe]=ve?"0":"",Ee[Y]=q?"0":"",Ee.transform=(Be.devicePixelRatio||1)<=1?"translate("+M+"px, "+L+"px)":"translate3d("+M+"px, "+L+"px, 0)",Ee):((o={})[Pe]=ve?L+"px":"",o[Y]=q?M+"px":"",o.transform="",o))}var Ji={passive:!0},Tl={left:"right",right:"left",bottom:"top",top:"bottom"};function Xi(u){return u.replace(/left|right|bottom|top/g,function(o){return Tl[o]})}var Ro={start:"end",end:"start"};function Al(u){return u.replace(/start|end/g,function(o){return Ro[o]})}function Gs(u){var o=Et(u);return{scrollLeft:o.pageXOffset,scrollTop:o.pageYOffset}}function bt(u){return ci(Ao(u)).left+Gs(u).scrollLeft}function qt(u){var o=be(u);return/auto|scroll|overlay|hidden/.test(o.overflow+o.overflowY+o.overflowX)}function Ot(u){return["html","body","#document"].indexOf(hr(u))>=0?u.ownerDocument.body:Yn(u)&&qt(u)?u:Ot(Nr(u))}function xn(u,o){var s;void 0===o&&(o=[]);var c=Ot(u),h=c===(null==(s=u.ownerDocument)?void 0:s.body),p=Et(c),g=h?[p].concat(p.visualViewport||[],qt(c)?c:[]):c,y=o.concat(g);return h?y:y.concat(xn(Nr(g)))}function kr(u){return Object.assign({},u,{left:u.x,top:u.y,right:u.x+u.width,bottom:u.y+u.height})}function En(u,o){return"viewport"===o?kr((c=Et(s=u),g=(h=Ao(s)).clientWidth,y=h.clientHeight,w=0,E=0,(p=c.visualViewport)&&(g=p.width,y=p.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(w=p.offsetLeft,E=p.offsetTop)),{width:g,height:y,x:w+bt(s),y:E})):To(o)?function(s){var c=ci(s);return c.top=c.top+s.clientTop,c.left=c.left+s.clientLeft,c.bottom=c.top+s.clientHeight,c.right=c.left+s.clientWidth,c.width=s.clientWidth,c.height=s.clientHeight,c.x=c.left,c.y=c.top,c}(o):kr(function(s){var c,h=Ao(s),p=Gs(s),g=null==(c=s.ownerDocument)?void 0:c.body,y=si(h.scrollWidth,h.clientWidth,g?g.scrollWidth:0,g?g.clientWidth:0),w=si(h.scrollHeight,h.clientHeight,g?g.scrollHeight:0,g?g.clientHeight:0),E=-p.scrollLeft+bt(s),_=-p.scrollTop;return"rtl"===be(g||h).direction&&(E+=si(h.clientWidth,g?g.clientWidth:0)-y),{width:y,height:w,x:E,y:_}}(Ao(u)));var s,c,h,p,g,y,w,E}function Ks(u){var o,s=u.reference,c=u.element,h=u.placement,p=h?Or(h):null,g=h?ui(h):null,y=s.x+s.width/2-c.width/2,w=s.y+s.height/2-c.height/2;switch(p){case ln:o={x:y,y:s.y-c.height};break;case Cn:o={x:y,y:s.y+s.height};break;case tn:o={x:s.x+s.width,y:w};break;case Vt:o={x:s.x-c.width,y:w};break;default:o={x:s.x,y:s.y}}var E=p?Yi(p):null;if(null!=E){var _="y"===E?"height":"width";switch(g){case"start":o[E]=o[E]-(s[_]/2-c[_]/2);break;case"end":o[E]=o[E]+(s[_]/2-c[_]/2)}}return o}function Pr(u,o){void 0===o&&(o={});var c=o.placement,h=void 0===c?u.placement:c,p=o.boundary,g=void 0===p?"clippingParents":p,y=o.rootBoundary,w=void 0===y?"viewport":y,E=o.elementContext,_=void 0===E?"popper":E,S=o.altBoundary,I=void 0!==S&&S,M=o.padding,x=void 0===M?0:M,L=Mc("number"!=typeof x?x:fr(x,ii)),q=u.rects.popper,ve=u.elements[I?"popper"===_?"reference":"popper":_],Y=function zs(u,o,s){var y,w,E,c="clippingParents"===o?(w=xn(Nr(y=u)),To(E=["absolute","fixed"].indexOf(be(y).position)>=0&&Yn(y)?to(y):y)?w.filter(function(_){return To(_)&&of(_,E)&&"body"!==hr(_)}):[]):[].concat(o),h=[].concat(c,[s]),g=h.reduce(function(y,w){var E=En(u,w);return y.top=si(E.top,y.top),y.right=wn(E.right,y.right),y.bottom=wn(E.bottom,y.bottom),y.left=si(E.left,y.left),y},En(u,h[0]));return g.width=g.right-g.left,g.height=g.bottom-g.top,g.x=g.left,g.y=g.top,g}(To(ve)?ve:ve.contextElement||Ao(u.elements.popper),g,w),Pe=ci(u.elements.reference),Be=Ks({reference:Pe,element:q,strategy:"absolute",placement:h}),Ze=kr(Object.assign({},q,Be)),we="popper"===_?Ze:Pe,Te={top:Y.top-we.top+L.top,bottom:we.bottom-Y.bottom+L.bottom,left:Y.left-we.left+L.left,right:we.right-Y.right+L.right},Ee=u.modifiersData.offset;if("popper"===_&&Ee){var Ae=Ee[h];Object.keys(Te).forEach(function(Ie){var Lt=[tn,Cn].indexOf(Ie)>=0?1:-1,Hn=[ln,Cn].indexOf(Ie)>=0?"y":"x";Te[Ie]+=Ae[Hn]*Lt})}return Te}var Mo={name:"flip",enabled:!0,phase:"main",fn:function(u){var o=u.state,s=u.options,c=u.name;if(!o.modifiersData[c]._skip){for(var h=s.mainAxis,p=void 0===h||h,g=s.altAxis,y=void 0===g||g,w=s.fallbackPlacements,E=s.padding,_=s.boundary,S=s.rootBoundary,I=s.altBoundary,M=s.flipVariations,x=void 0===M||M,L=s.allowedAutoPlacements,B=o.options.placement,q=Or(B),ve=w||(q!==B&&x?function(In){if("auto"===Or(In))return[];var vr=Xi(In);return[Al(In),vr,Al(vr)]}(B):[Xi(B)]),Y=[B].concat(ve).reduce(function(In,vr){return In.concat("auto"===Or(vr)?function Ws(u,o){void 0===o&&(o={});var h=o.boundary,p=o.rootBoundary,g=o.padding,y=o.flipVariations,w=o.allowedAutoPlacements,E=void 0===w?re:w,_=ui(o.placement),S=_?y?Dl:Dl.filter(function(x){return ui(x)===_}):ii,I=S.filter(function(x){return E.indexOf(x)>=0});0===I.length&&(I=S);var M=I.reduce(function(x,L){return x[L]=Pr(u,{placement:L,boundary:h,rootBoundary:p,padding:g})[Or(L)],x},{});return Object.keys(M).sort(function(x,L){return M[x]-M[L]})}(o,{placement:vr,boundary:_,rootBoundary:S,padding:E,flipVariations:x,allowedAutoPlacements:L}):vr)},[]),Pe=o.rects.reference,Be=o.rects.popper,Ze=new Map,we=!0,Te=Y[0],Ee=0;Ee<Y.length;Ee++){var Ae=Y[Ee],Ie=Or(Ae),Lt="start"===ui(Ae),Hn=[ln,Cn].indexOf(Ie)>=0,fo=Hn?"width":"height",jn=Pr(o,{placement:Ae,boundary:_,rootBoundary:S,altBoundary:I,padding:E}),An=Hn?Lt?tn:Vt:Lt?Cn:ln;Pe[fo]>Be[fo]&&(An=Xi(An));var zo=Xi(An),ki=[];if(p&&ki.push(jn[Ie]<=0),y&&ki.push(jn[An]<=0,jn[zo]<=0),ki.every(function(In){return In})){Te=Ae,we=!1;break}Ze.set(Ae,ki)}if(we)for(var Pi=function(In){var vr=Y.find(function(du){var _s=Ze.get(du);if(_s)return _s.slice(0,In).every(function(_a){return _a})});if(vr)return Te=vr,"break"},po=x?3:1;po>0&&"break"!==Pi(po);po--);o.placement!==Te&&(o.modifiersData[c]._skip=!0,o.placement=Te,o.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Nt(u,o,s){return void 0===s&&(s={x:0,y:0}),{top:u.top-o.height-s.y,right:u.right-o.width+s.x,bottom:u.bottom-o.height+s.y,left:u.left-o.width-s.x}}function Il(u){return[ln,tn,Cn,Vt].some(function(o){return u[o]>=0})}var Fn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(u){var o=u.state,s=u.name,c=o.rects.reference,h=o.rects.popper,p=o.modifiersData.preventOverflow,g=Pr(o,{elementContext:"reference"}),y=Pr(o,{altBoundary:!0}),w=Nt(g,c),E=Nt(y,h,p),_=Il(w),S=Il(E);o.modifiersData[s]={referenceClippingOffsets:w,popperEscapeOffsets:E,isReferenceHidden:_,hasPopperEscaped:S},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":S})}},j={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(u){var o=u.state,c=u.name,h=u.options.offset,p=void 0===h?[0,0]:h,g=re.reduce(function(_,S){return _[S]=(M=o.rects,x=p,L=Or(I=S),B=[Vt,ln].indexOf(L)>=0?-1:1,ve=(ve=(q="function"==typeof x?x(Object.assign({},M,{placement:I})):x)[0])||0,Y=((Y=q[1])||0)*B,[Vt,tn].indexOf(L)>=0?{x:Y,y:ve}:{x:ve,y:Y}),_;var I,M,x,L,B,q,ve,Y},{}),y=g[o.placement],E=y.y;null!=o.modifiersData.popperOffsets&&(o.modifiersData.popperOffsets.x+=y.x,o.modifiersData.popperOffsets.y+=E),o.modifiersData[c]=g}},ye={name:"popperOffsets",enabled:!0,phase:"read",fn:function(u){var o=u.state;o.modifiersData[u.name]=Ks({reference:o.rects.reference,element:o.rects.popper,strategy:"absolute",placement:o.placement})},data:{}},Ye={name:"preventOverflow",enabled:!0,phase:"main",fn:function(u){var Aa,Ut,o=u.state,s=u.options,c=u.name,h=s.mainAxis,p=void 0===h||h,g=s.altAxis,y=void 0!==g&&g,I=s.tether,M=void 0===I||I,x=s.tetherOffset,L=void 0===x?0:x,B=Pr(o,{boundary:s.boundary,rootBoundary:s.rootBoundary,padding:s.padding,altBoundary:s.altBoundary}),q=Or(o.placement),ve=ui(o.placement),Y=!ve,Pe=Yi(q),Be="x"===Pe?"y":"x",Ze=o.modifiersData.popperOffsets,we=o.rects.reference,Te=o.rects.popper,Ee="function"==typeof L?L(Object.assign({},o.rects,{placement:o.placement})):L,Ae="number"==typeof Ee?{mainAxis:Ee,altAxis:Ee}:Object.assign({mainAxis:0,altAxis:0},Ee),Ie=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,Lt={x:0,y:0};if(Ze){if(p){var Hn,fo="y"===Pe?ln:Vt,jn="y"===Pe?Cn:tn,An="y"===Pe?"height":"width",zo=Ze[Pe],ki=zo+B[fo],Pi=zo-B[jn],po=M?-Te[An]/2:0,In="start"===ve?we[An]:Te[An],vr="start"===ve?-Te[An]:-we[An],du=o.elements.arrow,_s=M&&du?Rc(du):{width:0,height:0},_a=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},wd=_a[fo],Ed=_a[jn],Da=Io(0,we[An],_s[An]),bd=Y?we[An]/2-po-Da-wd-Ae.mainAxis:In-Da-wd-Ae.mainAxis,Sa=Y?-we[An]/2+po+Da+Ed+Ae.mainAxis:vr+Da+Ed+Ae.mainAxis,hu=o.elements.arrow&&to(o.elements.arrow),_d=null!=(Hn=null==Ie?void 0:Ie[Pe])?Hn:0,pt=zo+Sa-_d,Dd=Io(M?wn(ki,zo+bd-_d-(hu?"y"===Pe?hu.clientTop||0:hu.clientLeft||0:0)):ki,zo,M?si(Pi,pt):Pi);Ze[Pe]=Dd,Lt[Pe]=Dd-zo}if(y){var Sd,Ko=Ze[Be],Ta="y"===Be?"height":"width",Ad=Ko+B["x"===Pe?ln:Vt],Id=Ko-B["x"===Pe?Cn:tn],gu=-1!==[ln,Vt].indexOf(q),xf=null!=(Sd=null==Ie?void 0:Ie[Be])?Sd:0,Ff=gu?Ad:Ko-we[Ta]-Te[Ta]-xf+Ae.altAxis,xi=gu?Ko+we[Ta]+Te[Ta]-xf-Ae.altAxis:Id,Zt=M&&gu?(Ut=Io(Ff,Ko,Aa=xi))>Aa?Aa:Ut:Io(M?Ff:Ad,Ko,M?xi:Id);Ze[Be]=Zt,Lt[Be]=Zt-Ko}o.modifiersData[c]=Lt}},requiresIfExists:["offset"]};function bn(u,o,s){void 0===s&&(s=!1);var c,h,S,I,M,x,p=Yn(o),g=Yn(o)&&(I=(S=o).getBoundingClientRect(),M=ai(I.width)/S.offsetWidth||1,x=ai(I.height)/S.offsetHeight||1,1!==M||1!==x),y=Ao(o),w=ci(u,g),E={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(p||!p&&!s)&&(("body"!==hr(o)||qt(y))&&(E=(c=o)!==Et(c)&&Yn(c)?{scrollLeft:(h=c).scrollLeft,scrollTop:h.scrollTop}:Gs(c)),Yn(o)?((_=ci(o,!0)).x+=o.clientLeft,_.y+=o.clientTop):y&&(_.x=bt(y))),{x:w.left+E.scrollLeft-_.x,y:w.top+E.scrollTop-_.y,width:w.width,height:w.height}}function Oo(u){var o=new Map,s=new Set,c=[];function h(p){s.add(p.name),[].concat(p.requires||[],p.requiresIfExists||[]).forEach(function(g){if(!s.has(g)){var y=o.get(g);y&&h(y)}}),c.push(p)}return u.forEach(function(p){o.set(p.name,p)}),u.forEach(function(p){s.has(p.name)||h(p)}),c}var No={placement:"bottom",modifiers:[],strategy:"absolute"};function le(){for(var u=arguments.length,o=new Array(u),s=0;s<u;s++)o[s]=arguments[s];return!o.some(function(c){return!(c&&"function"==typeof c.getBoundingClientRect)})}var di=function Ys(u){void 0===u&&(u={});var s=u.defaultModifiers,c=void 0===s?[]:s,h=u.defaultOptions,p=void 0===h?No:h;return function(g,y,w){void 0===w&&(w=p);var E,_,S={placement:"bottom",orderedModifiers:[],options:Object.assign({},No,p),modifiersData:{},elements:{reference:g,popper:y},attributes:{},styles:{}},I=[],M=!1,x={state:S,setOptions:function(B){var q="function"==typeof B?B(S.options):B;L(),S.options=Object.assign({},p,S.options,q),S.scrollParents={reference:To(g)?xn(g):g.contextElement?xn(g.contextElement):[],popper:xn(y)};var we,Te,Be=function(we){var Te=Oo(we);return Ic.reduce(function(Ee,Ae){return Ee.concat(Te.filter(function(Ie){return Ie.phase===Ae}))},[])}((we=[].concat(c,S.options.modifiers),Te=we.reduce(function(Ee,Ae){var Ie=Ee[Ae.name];return Ee[Ae.name]=Ie?Object.assign({},Ie,Ae,{options:Object.assign({},Ie.options,Ae.options),data:Object.assign({},Ie.data,Ae.data)}):Ae,Ee},{}),Object.keys(Te).map(function(Ee){return Te[Ee]})));return S.orderedModifiers=Be.filter(function(we){return we.enabled}),S.orderedModifiers.forEach(function(we){var Ee=we.options,Ie=we.effect;if("function"==typeof Ie){var Lt=Ie({state:S,name:we.name,instance:x,options:void 0===Ee?{}:Ee});I.push(Lt||function(){})}}),x.update()},forceUpdate:function(){if(!M){var B=S.elements,q=B.reference,ve=B.popper;if(le(q,ve)){S.rects={reference:bn(q,to(ve),"fixed"===S.options.strategy),popper:Rc(ve)},S.reset=!1,S.placement=S.options.placement,S.orderedModifiers.forEach(function(Ae){return S.modifiersData[Ae.name]=Object.assign({},Ae.data)});for(var Pe=0;Pe<S.orderedModifiers.length;Pe++)if(!0!==S.reset){var Be=S.orderedModifiers[Pe],Ze=Be.fn,we=Be.options;"function"==typeof Ze&&(S=Ze({state:S,options:void 0===we?{}:we,name:Be.name,instance:x})||S)}else S.reset=!1,Pe=-1}}},update:(E=function(){return new Promise(function(B){x.forceUpdate(),B(S)})},function(){return _||(_=new Promise(function(B){Promise.resolve().then(function(){_=void 0,B(E())})})),_}),destroy:function(){L(),M=!0}};if(!le(g,y))return x;function L(){I.forEach(function(B){return B()}),I=[]}return x.setOptions(w).then(function(B){!M&&w.onFirstUpdate&&w.onFirstUpdate(B)}),x}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(u){var o=u.state,s=u.instance,c=u.options,h=c.scroll,p=void 0===h||h,g=c.resize,y=void 0===g||g,w=Et(o.elements.popper),E=[].concat(o.scrollParents.reference,o.scrollParents.popper);return p&&E.forEach(function(_){_.addEventListener("scroll",s.update,Ji)}),y&&w.addEventListener("resize",s.update,Ji),function(){p&&E.forEach(function(_){_.removeEventListener("scroll",s.update,Ji)}),y&&w.removeEventListener("resize",s.update,Ji)}},data:{}},ye,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(u){var o=u.state,s=u.options,c=s.gpuAcceleration,h=void 0===c||c,p=s.adaptive,g=void 0===p||p,y=s.roundOffsets,w=void 0===y||y,_={placement:Or(o.placement),variation:ui(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:h,isFixed:"fixed"===o.options.strategy};null!=o.modifiersData.popperOffsets&&(o.styles.popper=Object.assign({},o.styles.popper,Sl(Object.assign({},_,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:g,roundOffsets:w})))),null!=o.modifiersData.arrow&&(o.styles.arrow=Object.assign({},o.styles.arrow,Sl(Object.assign({},_,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:w})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})},data:{}},Zn,j,Mo,Ye,Zi,Fn]});class st extends mt{constructor(){super(...arguments),this.placement="bottom-start",this.distance=0,this.skidding=0,this.open=!1,this.disabled=!1,this.hoist=!1,this.handleTriggerKeyUp=o=>{" "===o.key&&o.preventDefault()}}handleOpenChange(){var o=this;return fe(function*(){if(!o.disabled)if(o.updateAccessibleTrigger(),o.open){Xe(o,zn),document.addEventListener("keydown",o.handleDocumentKeyDown),document.addEventListener("mousedown",o.handleDocumentMouseDown),yield dr(o),o.popover.update(),o.panel.hidden=!1;const{keyframes:s,options:c}=Wn(o,"dropdown.show");yield We(o.panel,s,c),Xe(o,kn)}else{Xe(o,yc),document.removeEventListener("keydown",o.handleDocumentKeyDown),document.removeEventListener("mousedown",o.handleDocumentMouseDown),yield dr(o);const{keyframes:s,options:c}=Wn(o,"dropdown.hide");yield We(o.panel,s,c),o.panel.hidden=!0,Xe(o,Ki)}})()}handlePopoverOptionsChange(){this.popover&&this.popover.setOptions({placement:this.placement,strategy:this.hoist?"fixed":"absolute",modifiers:[{name:"flip",options:{boundary:"viewport"}},{name:"offset",options:{offset:[this.skidding,this.distance]}}]})}connectedCallback(){super.connectedCallback(),this.handlePanelSelect=this.handlePanelSelect.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentMouseDown=this.handleDocumentMouseDown.bind(this),this.updateComplete.then(()=>{this.popover=di(this.trigger,this.positioner,{placement:this.placement,strategy:this.hoist?"fixed":"absolute",modifiers:[{name:"flip",options:{boundary:"viewport"}},{name:"offset",options:{offset:[this.skidding,this.distance]}}]})})}firstUpdated(){this.panel.hidden=!this.open}disconnectedCallback(){super.disconnectedCallback(),this.hide(),this.popover.destroy()}focusOnTrigger(){const o=this.triggerSlot.assignedElements({flatten:!0})[0];o&&"function"==typeof o.focus&&o.focus()}getMenu(){return this.panel.querySelector("slot").assignedElements({flatten:!0}).filter(o=>"ARC-MENU"===o.tagName)[0]}handleDocumentKeyDown(o){var s;if("Escape"===o.key)return this.hide(),void this.focusOnTrigger();"Tab"===o.key&&this.open&&"ARC-MENU-ITEM"===(null===(s=document.activeElement)||void 0===s?void 0:s.tagName)&&(o.preventDefault(),this.hide(),this.focusOnTrigger())}handleDocumentMouseDown(o){o.composedPath().includes(this)||this.hide()}handleTriggerKeyDown(o){const s=this.getMenu(),c=s?[...s.querySelectorAll("arc-menu-item")]:[],h=c[0],p=c[c.length-1];if("Escape"===o.key)return this.focusOnTrigger(),void this.hide();if([" ","Enter"].includes(o.key))return o.preventDefault(),void this.handleTriggerClick();if(["ArrowDown","ArrowUp"].includes(o.key)){if(o.preventDefault(),this.open||this.show(),"ArrowDown"===o.key&&h)return s.setCurrentItem(h),void h.focus();if("ArrowUp"===o.key&&p)return s.setCurrentItem(p),void p.focus()}this.open&&s&&!["Tab","Shift","Meta","Ctrl","Alt"].includes(o.key)&&s.typeToSelect(o.key)}handlePanelSelect(o){"ARC-MENU"===o.target.tagName&&(this.hide(),this.focusOnTrigger())}handleTriggerClick(){this.open?this.hide():this.show()}updateAccessibleTrigger(){if(this.trigger){const o=this.triggerSlot.assignedElements({flatten:!0}).find(s=>Cc(s).start);o&&(o.setAttribute("aria-haspopup","true"),o.setAttribute("aria-expanded",this.open?"true":"false"))}}show(){var o=this;return fe(function*(){o.open||(o.open=!0,yield Fs(o,kn))})()}hide(){var o=this;return fe(function*(){o.open&&(o.open=!1,yield Fs(o,Ki))})()}render(){return Ce` <div id="main"> <span id="trigger" @click="${this.handleTriggerClick}" @keydown="${this.handleTriggerKeyDown}" @keyup="${this.handleTriggerKeyUp}"> <slot id="triggerSlot" name="trigger" @slotchange="${this.updateAccessibleTrigger}"></slot> </span> <div id="positioner"> <div id="panel" role="menu" aria-hidden="${this.open?"false":"true"}" aria-labelledby="main" @arc-select="${this.handlePanelSelect}"> <slot></slot> </div> </div> </div> `}}st.tag="arc-dropdown",st.styles=[Xt,Ge`:host{display:inline-flex;align-items:center}#main,#trigger{display:inline-flex;align-items:center;justify-content:center;width:100%;height:100%}#positioner{position:absolute;z-index:var(--arc-z-index-dropdown)}#panel{max-height:var(--arc-panel-height);min-width:var(--arc-panel-width);background-color:rgb(var(--arc-container-color));box-shadow:var(--arc-box-shadow);overflow:auto;overscroll-behavior:none;pointer-events:none}:host([open]) #panel{pointer-events:all}#positioner[data-popper-placement^=top] #panel{transform-origin:bottom}#positioner[data-popper-placement^=bottom] #panel{transform-origin:top}#positioner[data-popper-placement^=left] #panel{transform-origin:right}#positioner[data-popper-placement^=right] #panel{transform-origin:left}`],k([Bt("#trigger")],st.prototype,"trigger",void 0),k([Bt("#triggerSlot")],st.prototype,"triggerSlot",void 0),k([Bt("#panel")],st.prototype,"panel",void 0),k([Bt("#positioner")],st.prototype,"positioner",void 0),k([Q({type:String})],st.prototype,"placement",void 0),k([Q({type:Number})],st.prototype,"distance",void 0),k([Q({type:Number})],st.prototype,"skidding",void 0),k([Q({type:Boolean,reflect:!0})],st.prototype,"open",void 0),k([Q({type:Boolean,reflect:!0})],st.prototype,"disabled",void 0),k([Q({type:Boolean,reflect:!0})],st.prototype,"hoist",void 0),k([Vn("open",{waitUntilFirstUpdate:!0})],st.prototype,"handleOpenChange",null),k([Vn("distance"),Vn("hoist"),Vn("placement"),Vn("skidding")],st.prototype,"handlePopoverOptionsChange",null),yn("dropdown.show",{keyframes:[{opacity:0,transform:"scale(0.9)"},{opacity:1,transform:"scale(1)"}],options:{duration:150,easing:"ease"}}),yn("dropdown.hide",{keyframes:[{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.9)"}],options:{duration:150,easing:"ease"}}),customElements.define(st.tag,st);class yt extends mt{constructor(){super(...arguments),this.typeToSelectString=""}getAllItems(o={includeDisabled:!0}){const{includeDisabled:s}=o;return[...this.defaultSlot.assignedElements({flatten:!0})].filter(c=>"menuitem"===c.getAttribute("role")&&!(!s&&c.disabled))}getCurrentItem(){return this.getAllItems({includeDisabled:!1}).find(o=>"0"===o.getAttribute("tabindex"))}setCurrentItem(o){const s=this.getAllItems({includeDisabled:!1}),c=o.disabled?s[0]:o;s.forEach(h=>h.setAttribute("tabindex",h===c?"0":"-1"))}typeToSelect(o){const s=this.getAllItems({includeDisabled:!1});clearTimeout(this.typeToSelectTimeout),this.typeToSelectTimeout=setTimeout(()=>{this.typeToSelectString=""},750),this.typeToSelectString+=o.toLowerCase();for(const c of s)if(Nm(c.shadowRoot.querySelector("slot:not([name])")).toLowerCase().trim().substring(0,this.typeToSelectString.length)===this.typeToSelectString){this.setCurrentItem(c),c.focus();break}}handleClick(o){const s=o.target.closest("arc-menu-item");s&&!s.disabled&&Xe(this,"arc-select",{detail:{item:s}})}handleKeyDown(o){if("Enter"===o.key){const s=this.getCurrentItem();o.preventDefault(),s&&s.click()}if(" "===o.key&&o.preventDefault(),["ArrowDown","ArrowUp","Home","End"].includes(o.key)){const s=this.getAllItems({includeDisabled:!1}),c=this.getCurrentItem();let h=c?s.indexOf(c):0;s.length&&(o.preventDefault(),"ArrowDown"===o.key?h++:"ArrowUp"===o.key?h--:"Home"===o.key?h=0:"End"===o.key&&(h=s.length-1),h<0&&(h=0),h>s.length-1&&(h=s.length-1),this.setCurrentItem(s[h]),s[h].focus())}this.typeToSelect(o.key)}handleSlotChange(){const o=this.getAllItems({includeDisabled:!1});o.length&&this.setCurrentItem(o[0])}render(){return Ce` <div id="main" role="menu" @click="${this.handleClick}" @keydown="${this.handleKeyDown}"> <slot @slotchange="${this.handleSlotChange}"></slot> </div> `}}yt.tag="arc-menu",yt.styles=[Xt,Ge`:host{display:block}`],k([Bt("#menu")],yt.prototype,"menu",void 0),k([Bt("slot")],yt.prototype,"defaultSlot",void 0),customElements.define(yt.tag,yt);class Jn extends mt{constructor(){super(...arguments),this.value="",this.disabled=!1}firstUpdated(){this.setAttribute("role","menuitem")}handleDisabledChange(){this.setAttribute("aria-disabled",String(this.disabled))}render(){return Ce` <div id="main"> <span id="prefix"> <slot name="prefix"></slot> </span> <span id="label"> <slot></slot> </span> <span id="suffix"> <slot name="suffix"></slot> </span> </div> `}}Jn.tag="arc-menu-item",Jn.styles=[Xt,Ge`:host{display:block}#main{position:relative;display:flex;align-items:stretch;text-align:left;padding:var(--arc-spacing-small) var(--arc-spacing-medium);transition:var(--arc-transition-fast) fill;user-select:none;white-space:nowrap;cursor:pointer}#label,#prefix,#suffix{display:flex;flex:0 0 auto;align-items:center}#prefix ::slotted(*){margin-right:var(--arc-spacing-x-small)}#label{flex:1 1 auto;max-width:30ch;overflow:hidden}#label *{display:inline-block;overflow:hidden;text-overflow:ellipsis ' ...'}#suffix ::slotted(*){margin-left:var(--arc-spacing-x-small)}:host(:focus){outline:0}:host(:not([disabled]):focus-visible) #main,:host(:not([disabled]):hover) #main{background-color:currentColor;background-image:linear-gradient(var(--arc-hover-lighter) 0 0)}:host([disabled]) #main{opacity:.5;outline:0;cursor:not-allowed}`],k([Q()],Jn.prototype,"value",void 0),k([Q({type:Boolean,reflect:!0})],Jn.prototype,"disabled",void 0),k([Vn("disabled")],Jn.prototype,"handleDisabledChange",null),customElements.define(Jn.tag,Jn);const hi=Ce` <svg width="512" height="159" viewBox="0 0 512 159" fill="currentColor" xmlns="http://www.w3.org/2000/svg"> <title id="title" lang="en">Arup logo</title> <path d="M331.03 146.348C302.146 146.348 289.628 133.297 284.742 125.522C279.153 116.521 278.43 104.335 278.43 94.7163V31.8024C278.43 31.1942 278.439 30.5858 278.449 29.9586C278.554 23.4 278.658 17.2028 268.47 16.8796H265.228V11.6328H317.459L317.495 16.9176L316.565 16.9081C312.668 16.8701 309.701 17.9061 307.592 19.9877C305.093 22.4686 303.819 26.4417 303.819 31.8024V101.008C303.819 124.438 314.007 136.32 334.102 136.32C345.469 136.32 355.031 132.964 361.011 126.872C370.676 116.882 371.448 103.936 371.448 88.0436V31.6124C371.448 23.267 370.62 16.8891 360.163 16.8891H357.445V11.6328H395.97V16.8891H394.343C386.627 16.8891 382.16 19.2939 382.16 31.6124V89.0037C382.167 127.594 365.439 146.348 331.03 146.348Z"/> <path d="M460.357 143.553H408.078V138.325L408.962 138.297C421.216 137.945 421.842 134.029 421.842 122.775V31.7264C421.842 20.0162 421.386 17.2408 409.476 16.8891L408.592 16.8606V11.6328H461.926C493.434 11.6328 509.916 30.1011 509.916 48.3411C509.916 69.2143 491.305 85.5629 467.552 85.5629L455.785 85.3918V76.1529C455.785 76.1529 460.243 76.1054 461.867 76.1054C476.486 76.1054 484.005 65.0511 484.005 48.5978C484.005 31.4602 473.018 19.9402 456.669 19.9402L446.157 19.9117V124.895C446.157 135.92 448.152 137.916 459.483 138.287L460.367 138.316V143.553H460.357Z"/> <path d="M268.611 143.553H230.943L190.642 82.2647V74.7842L191.459 74.6987C205.593 73.2064 218.862 65.0701 218.862 46.6968C218.862 31.2797 207.77 20.5201 191.887 20.5201H181.013V124.895C181.013 136.263 186.232 137.394 193.608 137.736L194.472 137.774V143.544H143.364V138.24L144.229 138.192C155.312 137.574 156.88 134.799 156.88 124.885V30.2816C156.471 18.5715 155.749 17.0697 144.267 16.8891L143.373 16.8796V11.6328H198.427C219.423 11.6328 243.945 20.8621 243.945 46.887C243.945 62.3991 234.546 73.5296 215.991 79.9834L236.903 110.856C239.183 114.354 247.567 124.524 251.322 128.668C258.479 136.367 263.63 137.432 267.043 138.135L268.611 138.468V143.553Z"/> <path d="M134.287 143.553H84.4139V138.401L85.2978 138.373C91.3906 138.164 95.164 136.833 95.164 130.883C95.164 128.221 93.0825 123.013 91.9608 120.209L83.8532 100.818H38.8088L30.5299 119.676C27.783 125.902 26.9846 128.155 26.9846 131.073C26.9846 135.36 26.9846 138.192 37.0123 138.373L37.9059 138.392V143.563H1.93879V138.401L2.83226 138.382C9.96102 138.221 13.668 134.599 18.7057 122.88L67.495 11.6328H72.5042L72.7417 12.1841L121.674 127.404C125.2 135.987 126.036 138.021 133.422 138.325L134.296 138.363V143.553H134.287ZM42.5062 91.8932H80.2031L61.7729 47.1817L42.5062 91.8932Z"/> </svg> `;class rt extends mt{constructor(){super(...arguments),this.showDropdown=!1,this.navTabs=[],this.tabs=5,this.arup=!0}handleTabCountChange(){this.updateTemplate()}handleTabChange(o){const s=o.target.assignedElements({flatten:!0});this.navTabs=s.filter(c=>"ARC-BUTTON"===c.tagName||"ARC-ICON-BUTTON"===c.tagName),this.updateTemplate()}updateTemplate(){this.showDropdown=this.navTabs.length>this.tabs,[...this.navTabs].forEach(o=>{o.style.display=this.showDropdown?"none":"initial"})}emitAccessibility(){Xe(this,"arc-show-accessibility")}render(){const o=Ce` ${gc(this.navTabs,c=>Ce` <arc-menu-item ?disabled="${c.disabled}" @click="${()=>c.click()}"> ${c.name?Ce` <arc-icon name="${c.name}" slot="prefix"></arc-icon> `:Le} ${c.textContent||c.label||c.name||"Invalid label"} </arc-menu-item> `)} `,s=Ce` ${this.logo?Ce`<img id="tool-logo" src="${this.logo}" alt="tool-logo">`:Le} <slot id="tool-name" name="name"></slot> `;return Ce` <nav id="main" aria-label="primary navigation"> <div id="left"> ${this.home?Ce` <a id="logoWrapper" href="${it(this.home)}" rel="noreferrer noopener" role="button" aria-label="tool logo"> ${s} </a> `:Ce` <div id="logoWrapper">${s}</div> `} </div> <div id="right"> <div id="tabs"> <slot id="tabSlot" @slotchange="${this.handleTabChange}"></slot> ${this.showDropdown?Ce` <arc-dropdown hoist> <arc-icon-button slot="trigger" name="${"menu"}"></arc-icon-button> <arc-menu>${o}</arc-menu> </arc-dropdown> `:Le} <arc-icon-button id="accessibility" name="${El}" label="Accessibility panel" @click="${this.emitAccessibility}"></arc-icon-button> <slot name="user"></slot> </div> ${this.arup?Ce`<span id="company-logo">${hi}</span>`:Le} </div> </nav> `}}rt.tag="arc-navbar",rt.styles=[Xt,Ge`:host{height:var(--arc-navbar-height);background:rgb(var(--arc-container-color));z-index:1;--logo-height:var(--arc-brand-height)}#left,#logoWrapper,#main,#right,#tabs{display:grid;grid-auto-flow:column;overflow:hidden}#main{height:inherit;width:100%;padding:0 var(--arc-spacing-medium) 0 var(--arc-spacing-medium);box-shadow:var(--arc-box-shadow);user-select:none}#left{justify-content:flex-start}#logoWrapper{align-items:center;gap:var(--arc-spacing-small);text-decoration:none;color:inherit}#tool-logo{height:var(--logo-height);width:auto}#tool-name{display:flex;overflow:hidden}#tool-name::slotted(*){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#tool-logo+#tool-name{display:none}#right{justify-content:flex-end;gap:var(--arc-spacing-small)}#tabSlot{display:none}::slotted(arc-button){border-left:var(--arc-border-width) var(--arc-border-style) rgb(var(--arc-color-default));border-right:var(--arc-border-width) var(--arc-border-style) rgb(var(--arc-color-default))}::slotted(arc-icon-button){margin:0 var(--arc-spacing-x-small) 0 var(--arc-spacing-x-small)}#accessibility{display:none}#company-logo{color:rgb(var(--arc-color-primary));display:flex;align-items:center}#company-logo>svg{height:var(--arc-brand-height);width:auto}@media (min-width:${49}rem){#accessibility,#tabSlot,#tool-logo+#tool-name{display:flex}}`],k([Bt("#tabSlot")],rt.prototype,"tabSlot",void 0),k([eo()],rt.prototype,"showDropdown",void 0),k([eo()],rt.prototype,"navTabs",void 0),k([Q({type:String,reflect:!0})],rt.prototype,"home",void 0),k([Q({type:String})],rt.prototype,"logo",void 0),k([Q({type:Number,reflect:!0})],rt.prototype,"tabs",void 0),k([Q({type:Boolean,reflect:!0,converter:u=>!u||"false"!==u})],rt.prototype,"arup",void 0),k([Vn("tabs",{waitUntilFirstUpdate:!0})],rt.prototype,"handleTabCountChange",null),customElements.define(rt.tag,rt);class Fe extends mt{constructor(){super(...arguments),this.open=!0,this.handleSlots=o=>{o.target.assignedElements({flatten:!0}).length>1&&this.content.classList.add("gap")},this.toggleOpenState=()=>{this.open=!this.open,Xe(this,`${this.open?zn:yc}`,{detail:{open:this.open}})}}render(){return this.open?Ce` <div id="sidebar"> <div id="title"> <span>${this.title}</span> <arc-icon-button id="toggleClose" name="${"arrow-left"}" label="Close sidebar" @click="${this.toggleOpenState}"></arc-icon-button> </div> <div id="content"> <slot @slotchange="${this.handleSlots}"></slot> </div> </div> `:Ce` <arc-icon-button id="toggleOpen" name="${"arrow-right"}" label="Open sidebar" @click="${this.toggleOpenState}"></arc-icon-button> `}}Fe.tag="arc-sidebar",Fe.styles=[Xt,Ge`:host{--gap-distance:var(--arc-spacing-normal);--sidebar-width:clamp(15rem, 30%, var(--arc-sidebar-width));transform:translateX(-1.5rem);transition:width .5s ease 0s;width:0}:host([open]){transform:translateX(0);width:var(--sidebar-width);overflow:auto}#content,#sidebar{height:100%;display:flex;flex-direction:column}#title{display:flex;justify-content:space-between;align-items:center;padding:var(--arc-spacing-small);padding-left:var(--arc-spacing-medium);user-select:none}#title span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#content ::slotted(*){flex:1 1 100%}#content.gap{gap:var(--gap-distance)}#toggleOpen::part(icon){padding:var(--arc-spacing-normal) .25rem var(--arc-spacing-normal) .25rem;border-radius:0}#title,#toggleOpen,::slotted(*){background:rgb(var(--arc-container-color))}`],k([Bt("#content")],Fe.prototype,"content",void 0),k([Q({type:Boolean,reflect:!0})],Fe.prototype,"open",void 0),k([Q({type:String})],Fe.prototype,"title",void 0),customElements.define(Fe.tag,Fe);var Nc=function(u,o){return(Nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])})(u,o)};function nn(u,o){function s(){this.constructor=u}Nc(u,o),u.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}var De=function(){return De=Object.assign||function(u){for(var o,s=1,c=arguments.length;s<c;s++)for(var h in o=arguments[s])Object.prototype.hasOwnProperty.call(o,h)&&(u[h]=o[h]);return u},De.apply(this,arguments)};function F(u,o,s,c){return new(s||(s=Promise))(function(h,p){function g(E){try{w(c.next(E))}catch(_){p(_)}}function y(E){try{w(c.throw(E))}catch(_){p(_)}}function w(E){var _;E.done?h(E.value):(_=E.value,_ instanceof s?_:new s(function(S){S(_)})).then(g,y)}w((c=c.apply(u,o||[])).next())})}function U(u,o){var s,c,h,p,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p;function y(w){return function(E){return function(_){if(s)throw new TypeError("Generator is already executing.");for(;g;)try{if(s=1,c&&(h=2&_[0]?c.return:_[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,_[1])).done)return h;switch(c=0,h&&(_=[2&_[0],h.value]),_[0]){case 0:case 1:h=_;break;case 4:return g.label++,{value:_[1],done:!1};case 5:g.label++,c=_[1],_=[0];continue;case 7:_=g.ops.pop(),g.trys.pop();continue;default:if(!((h=(h=g.trys).length>0&&h[h.length-1])||6!==_[0]&&2!==_[0])){g=0;continue}if(3===_[0]&&(!h||_[1]>h[0]&&_[1]<h[3])){g.label=_[1];break}if(6===_[0]&&g.label<h[1]){g.label=h[1],h=_;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(_);break}h[2]&&g.ops.pop(),g.trys.pop();continue}_=o.call(u,g)}catch(S){_=[6,S],c=0}finally{s=h=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([w,E])}}}function Zs(u,o){var s="function"==typeof Symbol&&u[Symbol.iterator];if(!s)return u;var c,h,p=s.call(u),g=[];try{for(;(void 0===o||o-- >0)&&!(c=p.next()).done;)g.push(c.value)}catch(y){h={error:y}}finally{try{c&&!c.done&&(s=p.return)&&s.call(p)}finally{if(h)throw h.error}}return g}function es(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(Zs(arguments[o]));return u}var _n=function(u,o){return(_n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])})(u,o)};function Ln(u,o){function s(){this.constructor=u}_n(u,o),u.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}var rn=function(){return rn=Object.assign||function(u){for(var o,s=1,c=arguments.length;s<c;s++)for(var h in o=arguments[s])Object.prototype.hasOwnProperty.call(o,h)&&(u[h]=o[h]);return u},rn.apply(this,arguments)};function ae(u,o,s,c){return new(s||(s=Promise))(function(h,p){function g(E){try{w(c.next(E))}catch(_){p(_)}}function y(E){try{w(c.throw(E))}catch(_){p(_)}}function w(E){var _;E.done?h(E.value):(_=E.value,_ instanceof s?_:new s(function(S){S(_)})).then(g,y)}w((c=c.apply(u,o||[])).next())})}function ce(u,o){var s,c,h,p,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p;function y(w){return function(E){return function(_){if(s)throw new TypeError("Generator is already executing.");for(;g;)try{if(s=1,c&&(h=2&_[0]?c.return:_[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,_[1])).done)return h;switch(c=0,h&&(_=[2&_[0],h.value]),_[0]){case 0:case 1:h=_;break;case 4:return g.label++,{value:_[1],done:!1};case 5:g.label++,c=_[1],_=[0];continue;case 7:_=g.ops.pop(),g.trys.pop();continue;default:if(!((h=(h=g.trys).length>0&&h[h.length-1])||6!==_[0]&&2!==_[0])){g=0;continue}if(3===_[0]&&(!h||_[1]>h[0]&&_[1]<h[3])){g.label=_[1];break}if(6===_[0]&&g.label<h[1]){g.label=h[1],h=_;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(_);break}h[2]&&g.ops.pop(),g.trys.pop();continue}_=o.call(u,g)}catch(S){_=[6,S],c=0}finally{s=h=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([w,E])}}}function kc(){for(var u=0,o=0,s=arguments.length;o<s;o++)u+=arguments[o].length;var c=Array(u),h=0;for(o=0;o<s;o++)for(var p=arguments[o],g=0,y=p.length;g<y;g++,h++)c[h]=p[g];return c}var no,Gt,Pc,pe,ts,H={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},xc=[H.OPENID_SCOPE,H.PROFILE_SCOPE,H.OFFLINE_ACCESS_SCOPE],sf=kc(xc,[H.EMAIL_SCOPE]);(function(u){u.CONTENT_TYPE="Content-Type",u.RETRY_AFTER="Retry-After",u.CCS_HEADER="X-AnchorMailbox",u.WWWAuthenticate="WWW-Authenticate",u.AuthenticationInfo="Authentication-Info"})(no||(no={})),function(u){u.ID_TOKEN="idtoken",u.CLIENT_INFO="client.info",u.ADAL_ID_TOKEN="adal.idtoken",u.ERROR="error",u.ERROR_DESC="error.description",u.ACTIVE_ACCOUNT="active-account"}(Gt||(Gt={})),function(u){u.COMMON="common",u.ORGANIZATIONS="organizations",u.CONSUMERS="consumers"}(Pc||(Pc={})),function(u){u.CLIENT_ID="client_id",u.REDIRECT_URI="redirect_uri",u.RESPONSE_TYPE="response_type",u.RESPONSE_MODE="response_mode",u.GRANT_TYPE="grant_type",u.CLAIMS="claims",u.SCOPE="scope",u.ERROR="error",u.ERROR_DESCRIPTION="error_description",u.ACCESS_TOKEN="access_token",u.ID_TOKEN="id_token",u.REFRESH_TOKEN="refresh_token",u.EXPIRES_IN="expires_in",u.STATE="state",u.NONCE="nonce",u.PROMPT="prompt",u.SESSION_STATE="session_state",u.CLIENT_INFO="client_info",u.CODE="code",u.CODE_CHALLENGE="code_challenge",u.CODE_CHALLENGE_METHOD="code_challenge_method",u.CODE_VERIFIER="code_verifier",u.CLIENT_REQUEST_ID="client-request-id",u.X_CLIENT_SKU="x-client-SKU",u.X_CLIENT_VER="x-client-VER",u.X_CLIENT_OS="x-client-OS",u.X_CLIENT_CPU="x-client-CPU",u.X_CLIENT_CURR_TELEM="x-client-current-telemetry",u.X_CLIENT_LAST_TELEM="x-client-last-telemetry",u.X_MS_LIB_CAPABILITY="x-ms-lib-capability",u.POST_LOGOUT_URI="post_logout_redirect_uri",u.ID_TOKEN_HINT="id_token_hint",u.DEVICE_CODE="device_code",u.CLIENT_SECRET="client_secret",u.CLIENT_ASSERTION="client_assertion",u.CLIENT_ASSERTION_TYPE="client_assertion_type",u.TOKEN_TYPE="token_type",u.REQ_CNF="req_cnf",u.OBO_ASSERTION="assertion",u.REQUESTED_TOKEN_USE="requested_token_use",u.ON_BEHALF_OF="on_behalf_of",u.FOCI="foci",u.CCS_HEADER="X-AnchorMailbox",u.RETURN_SPA_CODE="return_spa_code",u.LOGOUT_HINT="logout_hint"}(pe||(pe={})),function(u){u.ACCESS_TOKEN="access_token",u.XMS_CC="xms_cc"}(ts||(ts={}));var Js,fi={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create"};!function(u){u.ACCOUNT="account",u.SID="sid",u.LOGIN_HINT="login_hint",u.ID_TOKEN="id_token",u.DOMAIN_HINT="domain_hint",u.ORGANIZATIONS="organizations",u.CONSUMERS="consumers",u.ACCOUNT_ID="accountIdentifier",u.HOMEACCOUNT_ID="homeAccountIdentifier"}(Js||(Js={}));var Fc,Lc,ro,dn,he,pi,oo,af={PLAIN:"plain",S256:"S256"};(function(u){u.QUERY="query",u.FRAGMENT="fragment",u.FORM_POST="form_post"})(Fc||(Fc={})),function(u){u.IMPLICIT_GRANT="implicit",u.AUTHORIZATION_CODE_GRANT="authorization_code",u.CLIENT_CREDENTIALS_GRANT="client_credentials",u.RESOURCE_OWNER_PASSWORD_GRANT="password",u.REFRESH_TOKEN_GRANT="refresh_token",u.DEVICE_CODE_GRANT="device_code",u.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"}(Lc||(Lc={})),function(u){u.MSSTS_ACCOUNT_TYPE="MSSTS",u.ADFS_ACCOUNT_TYPE="ADFS",u.MSAV1_ACCOUNT_TYPE="MSA",u.GENERIC_ACCOUNT_TYPE="Generic"}(ro||(ro={})),function(u){u.CACHE_KEY_SEPARATOR="-",u.CLIENT_INFO_SEPARATOR="."}(dn||(dn={})),function(u){u.ID_TOKEN="IdToken",u.ACCESS_TOKEN="AccessToken",u.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",u.REFRESH_TOKEN="RefreshToken"}(he||(he={})),function(u){u.ACCOUNT="Account",u.CREDENTIAL="Credential",u.ID_TOKEN="IdToken",u.ACCESS_TOKEN="AccessToken",u.REFRESH_TOKEN="RefreshToken",u.APP_METADATA="AppMetadata",u.TEMPORARY="TempCache",u.TELEMETRY="Telemetry",u.UNDEFINED="Undefined",u.THROTTLING="Throttling"}(pi||(pi={})),function(u){u[u.ADFS=1001]="ADFS",u[u.MSA=1002]="MSA",u[u.MSSTS=1003]="MSSTS",u[u.GENERIC=1004]="GENERIC",u[u.ACCESS_TOKEN=2001]="ACCESS_TOKEN",u[u.REFRESH_TOKEN=2002]="REFRESH_TOKEN",u[u.ID_TOKEN=2003]="ID_TOKEN",u[u.APP_METADATA=3001]="APP_METADATA",u[u.UNDEFINED=9999]="UNDEFINED"}(oo||(oo={}));var zt,Uc="authority-metadata";!function(u){u.CONFIG="config",u.CACHE="cache",u.NETWORK="network"}(zt||(zt={}));var ot,Pt={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"};!function(u){u.BEARER="Bearer",u.POP="pop",u.SSH="ssh-cert"}(ot||(ot={}));var Xs,ko,xr,Po,Fr,ea="throttling";(function(u){u.username="username",u.password="password"})(Xs||(Xs={})),function(u){u[u.httpSuccess=200]="httpSuccess",u[u.httpBadRequest=400]="httpBadRequest"}(ko||(ko={})),function(u){u.FAILED_AUTO_DETECTION="1",u.INTERNAL_CACHE="2",u.ENVIRONMENT_VARIABLE="3",u.IMDS="4"}(xr||(xr={})),function(u){u.CONFIGURED_MATCHES_DETECTED="1",u.CONFIGURED_NO_AUTO_DETECTION="2",u.CONFIGURED_NOT_DETECTED="3",u.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",u.AUTO_DETECTION_REQUESTED_FAILED="5"}(Po||(Po={})),function(u){u.NO_CACHE_HIT="0",u.FORCE_REFRESH="1",u.NO_CACHED_ACCESS_TOKEN="2",u.CACHED_ACCESS_TOKEN_EXPIRED="3",u.REFRESH_CACHED_ACCESS_TOKEN="4"}(Fr||(Fr={}));var xt,X=function(u){function o(s,c,h){var p=this;return p=u.call(this,c?s+": "+c:s)||this,Object.setPrototypeOf(p,o.prototype),p.errorCode=s||H.EMPTY_STRING,p.errorMessage=c||"",p.subError=h||"",p.name="AuthError",p}return Ln(o,u),o.prototype.setCorrelationId=function(s){this.correlationId=s},o.createUnexpectedError=function(s){return new o("unexpected_error","Unexpected error in authentication.: "+s)},o}(Error),gi={createNewGuid:function(){throw X.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw X.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw X.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return ae(this,void 0,void 0,function(){return ce(this,function(u){throw X.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")})})},getPublicKeyThumbprint:function(){return ae(this,void 0,void 0,function(){return ce(this,function(u){throw X.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")})})},removeTokenBindingKey:function(){return ae(this,void 0,void 0,function(){return ce(this,function(u){throw X.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")})})},clearKeystore:function(){return ae(this,void 0,void 0,function(){return ce(this,function(u){throw X.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")})})},signJwt:function(){return ae(this,void 0,void 0,function(){return ce(this,function(u){throw X.createUnexpectedError("Crypto interface - signJwt() has not been implemented")})})},hashString:function(){return ae(this,void 0,void 0,function(){return ce(this,function(u){throw X.createUnexpectedError("Crypto interface - hashString() has not been implemented")})})}},rs_code="token_refresh_required",z=function(u){function o(s,c){var h=u.call(this,s,c)||this;return h.name="ClientAuthError",Object.setPrototypeOf(h,o.prototype),h}return Ln(o,u),o.createClientInfoDecodingError=function(s){return new o("client_info_decoding_error","The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause. Failed with error: "+s)},o.createClientInfoEmptyError=function(){return new o("client_info_empty_error","The client info was empty. Please review the trace to determine the root cause.")},o.createTokenParsingError=function(s){return new o("token_parsing_error","Token cannot be parsed. Please review stack trace to determine root cause. Failed with error: "+s)},o.createTokenNullOrEmptyError=function(s){return new o("null_or_empty_token","The token is null or empty. Please review the trace to determine the root cause. Raw Token Value: "+s)},o.createEndpointDiscoveryIncompleteError=function(s){return new o("endpoints_resolution_error","Error: could not resolve endpoints. Please check network and try again. Detail: "+s)},o.createNetworkError=function(s,c){return new o("network_error","Network request failed. Please check network trace to determine root cause. | Fetch client threw: "+c+" | Attempted to reach: "+s.split("?")[0])},o.createUnableToGetOpenidConfigError=function(s){return new o("openid_config_error","Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints. Attempted to retrieve endpoints from: "+s)},o.createHashNotDeserializedError=function(s){return new o("hash_not_deserialized","The hash parameters could not be deserialized. Please review the trace to determine the root cause. Given Object: "+s)},o.createInvalidStateError=function(s,c){return new o("invalid_state","State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState(). Invalid State: "+s+", Root Err: "+c)},o.createStateMismatchError=function(){return new o("state_mismatch","State mismatch error. Please check your network. Continued requests may cause cache overflow.")},o.createStateNotFoundError=function(s){return new o("state_not_found","State not found:  "+s)},o.createNonceMismatchError=function(){return new o("nonce_mismatch","Nonce mismatch error. This may be caused by a race condition in concurrent requests.")},o.createNonceNotFoundError=function(s){return new o("nonce_not_found","nonce not found:  "+s)},o.createMultipleMatchingTokensInCacheError=function(){return new o("multiple_matching_tokens","The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account..")},o.createMultipleMatchingAccountsInCacheError=function(){return new o("multiple_matching_accounts","The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account")},o.createMultipleMatchingAppMetadataInCacheError=function(){return new o("multiple_matching_appMetadata","The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata")},o.createTokenRequestCannotBeMadeError=function(){return new o("request_cannot_be_made","Token request cannot be made without authorization code or refresh token.")},o.createAppendEmptyScopeToSetError=function(s){return new o("cannot_append_empty_scope","Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info. Given Scope: "+s)},o.createRemoveEmptyScopeFromSetError=function(s){return new o("cannot_remove_empty_scope","Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info. Given Scope: "+s)},o.createAppendScopeSetError=function(s){return new o("cannot_append_scopeset","Cannot append ScopeSet due to error. Detail Error: "+s)},o.createEmptyInputScopeSetError=function(){return new o("empty_input_scopeset","Empty input ScopeSet cannot be processed.")},o.createDeviceCodeCancelledError=function(){return new o("device_code_polling_cancelled","Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.")},o.createDeviceCodeExpiredError=function(){return new o("device_code_expired","Device code is expired.")},o.createDeviceCodeUnknownError=function(){return new o("device_code_unknown_error","Device code stopped polling for unknown reasons.")},o.createNoAccountInSilentRequestError=function(){return new o("no_account_in_silent_request","Please pass an account object, silent flow is not supported without account information")},o.createNullOrUndefinedCacheRecord=function(){return new o("invalid_cache_record","Cache record object was null or undefined.")},o.createInvalidCacheEnvironmentError=function(){return new o("invalid_cache_environment","Invalid environment when attempting to create cache entry")},o.createNoAccountFoundError=function(){return new o("no_account_found","No account found in cache for given key.")},o.createCachePluginError=function(){return new o("no cache plugin set on CacheManager","ICachePlugin needs to be set before using readFromStorage or writeFromStorage")},o.createNoCryptoObjectError=function(s){return new o("no_crypto_object","No crypto object detected. This is required for the following operation: "+s)},o.createInvalidCacheTypeError=function(){return new o("invalid_cache_type","Invalid cache type")},o.createUnexpectedAccountTypeError=function(){return new o("unexpected_account_type","Unexpected account type.")},o.createUnexpectedCredentialTypeError=function(){return new o("unexpected_credential_type","Unexpected credential type.")},o.createInvalidAssertionError=function(){return new o("invalid_assertion","Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515")},o.createInvalidCredentialError=function(){return new o("invalid_client_credential","Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential")},o.createRefreshRequiredError=function(){return new o(rs_code,"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.")},o.createUserTimeoutReachedError=function(){return new o("user_timeout_reached","User defined timeout for device code polling reached")},o.createTokenClaimsRequiredError=function(){return new o("token_claims_cnf_required_for_signedjwt","Cannot generate a POP jwt if the token_claims are not populated")},o.createNoAuthCodeInServerResponseError=function(){return new o("authorization_code_missing_from_server_response","Server response does not contain an authorization code to proceed")},o.createBindingKeyNotRemovedError=function(){return new o("binding_key_not_removed","Could not remove the credential's binding key from storage.")},o.createLogoutNotSupportedError=function(){return new o("end_session_endpoint_not_supported","Provided authority does not support logout.")},o}(X),$=function(){function u(){}return u.decodeAuthToken=function(o){if(u.isEmpty(o))throw z.createTokenNullOrEmptyError(o);var s=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(o);if(!s||s.length<4)throw z.createTokenParsingError("Given token is malformed: "+JSON.stringify(o));return{header:s[1],JWSPayload:s[2],JWSSig:s[3]}},u.isEmpty=function(o){return void 0===o||!o||0===o.length},u.isEmptyObj=function(o){if(o&&!u.isEmpty(o))try{var s=JSON.parse(o);return 0===Object.keys(s).length}catch(c){}return!0},u.startsWith=function(o,s){return 0===o.indexOf(s)},u.endsWith=function(o,s){return o.length>=s.length&&o.lastIndexOf(s)===o.length-s.length},u.queryStringToObject=function(o){var s={},c=o.split("&"),h=function(p){return decodeURIComponent(p.replace(/\+/g," "))};return c.forEach(function(p){if(p.trim()){var g=p.split(/=(.+)/g,2),y=g[0],w=g[1];y&&w&&(s[h(y)]=h(w))}}),s},u.trimArrayEntries=function(o){return o.map(function(s){return s.trim()})},u.removeEmptyStringsFromArray=function(o){return o.filter(function(s){return!u.isEmpty(s)})},u.jsonParseHelper=function(o){try{return JSON.parse(o)}catch(s){return null}},u.matchPattern=function(o,s){return new RegExp(o.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(s)},u}();!function(u){u[u.Error=0]="Error",u[u.Warning=1]="Warning",u[u.Info=2]="Info",u[u.Verbose=3]="Verbose",u[u.Trace=4]="Trace"}(xt||(xt={}));var pr,gr=function(){function u(o,s,c){this.level=xt.Info,this.localCallback=o.loggerCallback||function(){},this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level="number"==typeof o.logLevel?o.logLevel:xt.Info,this.correlationId=o.correlationId||"",this.packageName=s||H.EMPTY_STRING,this.packageVersion=c||H.EMPTY_STRING}return u.prototype.clone=function(o,s,c){return new u({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:c||this.correlationId},o,s)},u.prototype.logMessage=function(o,s){if(!(s.logLevel>this.level||!this.piiLoggingEnabled&&s.containsPii)){var c=(new Date).toUTCString(),h=($.isEmpty(s.correlationId)?$.isEmpty(this.correlationId)?"["+c+"]":"["+c+"] : ["+this.correlationId+"]":"["+c+"] : ["+s.correlationId+"]")+" : "+this.packageName+"@"+this.packageVersion+" : "+xt[s.logLevel]+" - "+o;this.executeCallback(s.logLevel,h,s.containsPii||!1)}},u.prototype.executeCallback=function(o,s,c){this.localCallback&&this.localCallback(o,s,c)},u.prototype.error=function(o,s){this.logMessage(o,{logLevel:xt.Error,containsPii:!1,correlationId:s||""})},u.prototype.errorPii=function(o,s){this.logMessage(o,{logLevel:xt.Error,containsPii:!0,correlationId:s||""})},u.prototype.warning=function(o,s){this.logMessage(o,{logLevel:xt.Warning,containsPii:!1,correlationId:s||""})},u.prototype.warningPii=function(o,s){this.logMessage(o,{logLevel:xt.Warning,containsPii:!0,correlationId:s||""})},u.prototype.info=function(o,s){this.logMessage(o,{logLevel:xt.Info,containsPii:!1,correlationId:s||""})},u.prototype.infoPii=function(o,s){this.logMessage(o,{logLevel:xt.Info,containsPii:!0,correlationId:s||""})},u.prototype.verbose=function(o,s){this.logMessage(o,{logLevel:xt.Verbose,containsPii:!1,correlationId:s||""})},u.prototype.verbosePii=function(o,s){this.logMessage(o,{logLevel:xt.Verbose,containsPii:!0,correlationId:s||""})},u.prototype.trace=function(o,s){this.logMessage(o,{logLevel:xt.Trace,containsPii:!1,correlationId:s||""})},u.prototype.tracePii=function(o,s){this.logMessage(o,{logLevel:xt.Trace,containsPii:!0,correlationId:s||""})},u.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},u}();!function(u){u[u.None=0]="None",u.AzurePublic="https://login.microsoftonline.com",u.AzureChina="https://login.chinacloudapi.cn",u.AzureGermany="https://login.microsoftonline.de",u.AzureUsGovernment="https://login.microsoftonline.us"}(pr||(pr={}));var so,yi=function(){function u(){}return u.prototype.generateAccountId=function(){return u.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},u.prototype.generateCredentialId=function(){return u.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},u.prototype.generateTarget=function(){return u.generateTargetForCacheKey(this.target)},u.prototype.generateCredentialKey=function(){return u.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},u.prototype.generateType=function(){switch(this.credentialType){case he.ID_TOKEN:return oo.ID_TOKEN;case he.ACCESS_TOKEN:case he.ACCESS_TOKEN_WITH_AUTH_SCHEME:return oo.ACCESS_TOKEN;case he.REFRESH_TOKEN:return oo.REFRESH_TOKEN;default:throw z.createUnexpectedCredentialTypeError()}},u.getCredentialType=function(o){return-1!==o.indexOf(he.ACCESS_TOKEN.toLowerCase())?-1!==o.indexOf(he.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())?he.ACCESS_TOKEN_WITH_AUTH_SCHEME:he.ACCESS_TOKEN:-1!==o.indexOf(he.ID_TOKEN.toLowerCase())?he.ID_TOKEN:-1!==o.indexOf(he.REFRESH_TOKEN.toLowerCase())?he.REFRESH_TOKEN:H.NOT_DEFINED},u.generateCredentialCacheKey=function(o,s,c,h,p,g,y,w,E){return[this.generateAccountIdForCacheKey(o,s),this.generateCredentialIdForCacheKey(c,h,p,y),this.generateTargetForCacheKey(g),this.generateClaimsHashForCacheKey(E),this.generateSchemeForCacheKey(w)].join(dn.CACHE_KEY_SEPARATOR).toLowerCase()},u.generateAccountIdForCacheKey=function(o,s){return[o,s].join(dn.CACHE_KEY_SEPARATOR).toLowerCase()},u.generateCredentialIdForCacheKey=function(o,s,c,h){return[o,o===he.REFRESH_TOKEN&&h||s,c||""].join(dn.CACHE_KEY_SEPARATOR).toLowerCase()},u.generateTargetForCacheKey=function(o){return(o||"").toLowerCase()},u.generateClaimsHashForCacheKey=function(o){return(o||"").toLowerCase()},u.generateSchemeForCacheKey=function(o){return o&&o.toLowerCase()!==ot.BEARER.toLowerCase()?o.toLowerCase():""},u}(),Ke=function(u){function o(s,c){var h=u.call(this,s,c)||this;return h.name="ClientConfigurationError",Object.setPrototypeOf(h,o.prototype),h}return Ln(o,u),o.createRedirectUriEmptyError=function(){return new o("redirect_uri_empty","A redirect URI is required for all calls, and none has been set.")},o.createPostLogoutRedirectUriEmptyError=function(){return new o("post_logout_uri_empty","A post logout redirect has not been set.")},o.createClaimsRequestParsingError=function(s){return new o("claims_request_parsing_error","Could not parse the given claims request object. Given value: "+s)},o.createInsecureAuthorityUriError=function(s){return new o("authority_uri_insecure","Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options Given URI: "+s)},o.createUrlParseError=function(s){return new o("url_parse_error","URL could not be parsed into appropriate segments. Given Error: "+s)},o.createUrlEmptyError=function(){return new o("empty_url_error","URL was empty or null.")},o.createEmptyScopesArrayError=function(){return new o("empty_input_scopes_error","Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.")},o.createClientIdSingleScopeError=function(s){return new o("clientid_input_scopes_error","Client ID can only be provided as a single scope. Given Scopes: "+s)},o.createInvalidPromptError=function(s){return new o("invalid_prompt_value","Supported prompt values are 'login', 'select_account', 'consent', 'create' and 'none'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest Given value: "+s)},o.createInvalidClaimsRequestError=function(){return new o("invalid_claims","Given claims parameter must be a stringified JSON object.")},o.createEmptyLogoutRequestError=function(){return new o("logout_request_empty","The logout request was null or undefined.")},o.createEmptyTokenRequestError=function(){return new o("token_request_empty","Token request was empty and not found in cache.")},o.createInvalidCodeChallengeMethodError=function(){return new o("invalid_code_challenge_method",'code_challenge_method passed is invalid. Valid values are "plain" and "S256".')},o.createInvalidCodeChallengeParamsError=function(){return new o("pkce_params_missing","Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request")},o.createInvalidCloudDiscoveryMetadataError=function(){return new o("invalid_cloud_discovery_metadata","Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields")},o.createInvalidAuthorityMetadataError=function(){return new o("invalid_authority_metadata","Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.")},o.createUntrustedAuthorityError=function(){return new o("untrusted_authority","The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.")},o.createInvalidAzureCloudInstanceError=function(){return new o("invalid_azure_cloud_instance","Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values")},o.createMissingSshJwkError=function(){return new o("missing_ssh_jwk","Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.")},o.createMissingSshKidError=function(){return new o("missing_ssh_kid","Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.")},o.createMissingNonceAuthenticationHeadersError=function(){return new o("missing_nonce_authentication_header","Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.")},o.createInvalidAuthenticationHeaderError=function(s,c){return new o("invalid_authentication_header","Invalid authentication header provided. Invalid header: "+s+". Details: "+c)},o}(z),mr=function(){function u(o){var s=this,c=o?$.trimArrayEntries(kc(o)):[],h=c?$.removeEmptyStringsFromArray(c):[];this.validateInputScopes(h),this.scopes=new Set,h.forEach(function(p){return s.scopes.add(p)})}return u.fromString=function(o){return new u((o||"").split(" "))},u.prototype.validateInputScopes=function(o){if(!o||o.length<1)throw Ke.createEmptyScopesArrayError()},u.prototype.containsScope=function(o){var s=new u(this.printScopesLowerCase().split(" "));return!$.isEmpty(o)&&s.scopes.has(o.toLowerCase())},u.prototype.containsScopeSet=function(o){var s=this;return!(!o||o.scopes.size<=0)&&this.scopes.size>=o.scopes.size&&o.asArray().every(function(c){return s.containsScope(c)})},u.prototype.containsOnlyOIDCScopes=function(){var o=this,s=0;return sf.forEach(function(c){o.containsScope(c)&&(s+=1)}),this.scopes.size===s},u.prototype.appendScope=function(o){$.isEmpty(o)||this.scopes.add(o.trim())},u.prototype.appendScopes=function(o){var s=this;try{o.forEach(function(c){return s.appendScope(c)})}catch(c){throw z.createAppendScopeSetError(c)}},u.prototype.removeScope=function(o){if($.isEmpty(o))throw z.createRemoveEmptyScopeFromSetError(o);this.scopes.delete(o.trim())},u.prototype.removeOIDCScopes=function(){var o=this;sf.forEach(function(s){o.scopes.delete(s)})},u.prototype.unionScopeSets=function(o){if(!o)throw z.createEmptyInputScopeSetError();var s=new Set;return o.scopes.forEach(function(c){return s.add(c.toLowerCase())}),this.scopes.forEach(function(c){return s.add(c.toLowerCase())}),s},u.prototype.intersectingScopeSets=function(o){if(!o)throw z.createEmptyInputScopeSetError();o.containsOnlyOIDCScopes()||o.removeOIDCScopes();var s=this.unionScopeSets(o),c=o.getScopeCount(),h=this.getScopeCount();return s.size<h+c},u.prototype.getScopeCount=function(){return this.scopes.size},u.prototype.asArray=function(){var o=[];return this.scopes.forEach(function(s){return o.push(s)}),o},u.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):""},u.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},u}();function ua(u,o){if($.isEmpty(u))throw z.createClientInfoEmptyError();try{var s=o.base64Decode(u);return JSON.parse(s)}catch(c){throw z.createClientInfoDecodingError(c)}}function ao(u){if($.isEmpty(u))throw z.createClientInfoDecodingError("Home account ID was empty.");var o=u.split(dn.CLIENT_INFO_SEPARATOR,2);return{uid:o[0],utid:o.length<2?H.EMPTY_STRING:o[1]}}!function(u){u[u.Default=0]="Default",u[u.Adfs=1]="Adfs"}(so||(so={}));var on,Ft=function(){function u(){}return u.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(dn.CACHE_KEY_SEPARATOR).toLowerCase()},u.prototype.generateAccountKey=function(){return u.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},u.prototype.generateType=function(){switch(this.authorityType){case ro.ADFS_ACCOUNT_TYPE:return oo.ADFS;case ro.MSAV1_ACCOUNT_TYPE:return oo.MSA;case ro.MSSTS_ACCOUNT_TYPE:return oo.MSSTS;case ro.GENERIC_ACCOUNT_TYPE:return oo.GENERIC;default:throw z.createUnexpectedAccountTypeError()}},u.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims}},u.generateAccountCacheKey=function(o){return[o.homeAccountId,o.environment||"",o.tenantId||""].join(dn.CACHE_KEY_SEPARATOR).toLowerCase()},u.createAccount=function(o,s,c,h,p,g,y,w){var E,_,S,I,M,x,L=new u;L.authorityType=ro.MSSTS_ACCOUNT_TYPE,L.clientInfo=o,L.homeAccountId=s;var B=w||h&&h.getPreferredCache();if(!B)throw z.createInvalidCacheEnvironmentError();return L.environment=B,L.realm=(null===(E=null==c?void 0:c.claims)||void 0===E?void 0:E.tid)||"",L.oboAssertion=p,c&&(L.idTokenClaims=c.claims,L.localAccountId=(null===(_=null==c?void 0:c.claims)||void 0===_?void 0:_.oid)||(null===(S=null==c?void 0:c.claims)||void 0===S?void 0:S.sub)||"",L.username=(null===(I=null==c?void 0:c.claims)||void 0===I?void 0:I.preferred_username)||((null===(M=null==c?void 0:c.claims)||void 0===M?void 0:M.emails)?c.claims.emails[0]:""),L.name=null===(x=null==c?void 0:c.claims)||void 0===x?void 0:x.name),L.cloudGraphHostName=g,L.msGraphHost=y,L},u.createGenericAccount=function(o,s,c,h,p,g,y){var w,E,_,S,I=new u;I.authorityType=c&&c.authorityType===so.Adfs?ro.ADFS_ACCOUNT_TYPE:ro.GENERIC_ACCOUNT_TYPE,I.homeAccountId=o,I.realm="",I.oboAssertion=h;var M=y||c&&c.getPreferredCache();if(!M)throw z.createInvalidCacheEnvironmentError();return s&&(I.localAccountId=(null===(w=null==s?void 0:s.claims)||void 0===w?void 0:w.oid)||(null===(E=null==s?void 0:s.claims)||void 0===E?void 0:E.sub)||"",I.username=(null===(_=null==s?void 0:s.claims)||void 0===_?void 0:_.upn)||"",I.name=(null===(S=null==s?void 0:s.claims)||void 0===S?void 0:S.name)||"",I.idTokenClaims=null==s?void 0:s.claims),I.environment=M,I.cloudGraphHostName=p,I.msGraphHost=g,I},u.generateHomeAccountId=function(o,s,c,h,p){var g,y=(null===(g=null==p?void 0:p.claims)||void 0===g?void 0:g.sub)?p.claims.sub:H.EMPTY_STRING;if(s===so.Adfs)return y;if(o)try{var w=ua(o,h);if(!$.isEmpty(w.uid)&&!$.isEmpty(w.utid))return""+w.uid+dn.CLIENT_INFO_SEPARATOR+w.utid}catch(E){}return c.verbose("No client info in response"),y},u.isAccountEntity=function(o){return!!o&&o.hasOwnProperty("homeAccountId")&&o.hasOwnProperty("environment")&&o.hasOwnProperty("realm")&&o.hasOwnProperty("localAccountId")&&o.hasOwnProperty("username")&&o.hasOwnProperty("authorityType")},u.accountInfoIsEqual=function(o,s,c){if(!o||!s)return!1;var h=!0;if(c){var p=o.idTokenClaims||{},g=s.idTokenClaims||{};h=p.iat===g.iat&&p.nonce===g.nonce}return o.homeAccountId===s.homeAccountId&&o.localAccountId===s.localAccountId&&o.username===s.username&&o.tenantId===s.tenantId&&o.environment===s.environment&&h},u}(),er=function(){function u(o,s){if($.isEmpty(o))throw z.createTokenNullOrEmptyError(o);this.rawToken=o,this.claims=u.extractTokenClaims(o,s)}return u.extractTokenClaims=function(o,s){var c=$.decodeAuthToken(o);try{var p=s.base64Decode(c.JWSPayload);return JSON.parse(p)}catch(g){throw z.createTokenParsingError(g)}},u}(),Sn=function(){function u(o,s){this.clientId=o,this.cryptoImpl=s}return u.prototype.getAllAccounts=function(){var o=this,s=this.getAccountsFilteredBy(),c=Object.keys(s).map(function(h){return s[h]});return c.length<1?[]:c.map(function(h){var p=u.toObject(new Ft,h).getAccountInfo(),g=o.readIdTokenFromCache(o.clientId,p);return g&&!p.idTokenClaims&&(p.idTokenClaims=new er(g.secret,o.cryptoImpl).claims),p})},u.prototype.saveCacheRecord=function(o){return ae(this,void 0,void 0,function(){return ce(this,function(s){switch(s.label){case 0:if(!o)throw z.createNullOrUndefinedCacheRecord();return o.account&&this.setAccount(o.account),o.idToken&&this.setIdTokenCredential(o.idToken),o.accessToken?[4,this.saveAccessToken(o.accessToken)]:[3,2];case 1:s.sent(),s.label=2;case 2:return o.refreshToken&&this.setRefreshTokenCredential(o.refreshToken),o.appMetadata&&this.setAppMetadata(o.appMetadata),[2]}})})},u.prototype.saveAccessToken=function(o){return ae(this,void 0,void 0,function(){var s,c,h,p,g=this;return ce(this,function(y){switch(y.label){case 0:return s=this.getCredentialsFilteredBy({clientId:o.clientId,credentialType:o.credentialType,environment:o.environment,homeAccountId:o.homeAccountId,realm:o.realm,tokenType:o.tokenType,requestedClaimsHash:o.requestedClaimsHash}),c=mr.fromString(o.target),(h=Object.keys(s.accessTokens).map(function(w){return s.accessTokens[w]}))?(p=[],h.forEach(function(w){mr.fromString(w.target).intersectingScopeSets(c)&&p.push(g.removeCredential(w))}),[4,Promise.all(p)]):[3,2];case 1:y.sent(),y.label=2;case 2:return this.setAccessTokenCredential(o),[2]}})})},u.prototype.getAccountsFilteredBy=function(o){return this.getAccountsFilteredByInternal(o?o.homeAccountId:"",o?o.environment:"",o?o.realm:"")},u.prototype.getAccountsFilteredByInternal=function(o,s,c){var h=this,p=this.getKeys(),g={};return p.forEach(function(y){var w=h.getAccount(y);w&&(o&&!h.matchHomeAccountId(w,o)||s&&!h.matchEnvironment(w,s)||c&&!h.matchRealm(w,c)||(g[y]=w))}),g},u.prototype.getCredentialsFilteredBy=function(o){return this.getCredentialsFilteredByInternal(o.homeAccountId,o.environment,o.credentialType,o.clientId,o.familyId,o.realm,o.target,o.oboAssertion,o.tokenType,o.keyId,o.requestedClaimsHash)},u.prototype.getCredentialsFilteredByInternal=function(o,s,c,h,p,g,y,w,E,_,S){var I=this,M=this.getKeys(),x={idTokens:{},accessTokens:{},refreshTokens:{}};return M.forEach(function(L){var B=yi.getCredentialType(L);if(B!==H.NOT_DEFINED){var q=I.getSpecificCredential(L,B);if(q&&(!w||I.matchOboAssertion(q,w))&&(!o||I.matchHomeAccountId(q,o))&&(!s||I.matchEnvironment(q,s))&&(!g||I.matchRealm(q,g))&&(!c||I.matchCredentialType(q,c))&&(!h||I.matchClientId(q,h))&&(!p||I.matchFamilyId(q,p))&&(!y||I.matchTarget(q,y))&&(!S&&!q.requestedClaimsHash||q.requestedClaimsHash===S)){if(c===he.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(E&&!I.matchTokenType(q,E)||E===ot.SSH&&_&&!I.matchKeyId(q,_)))return;var ve=I.updateCredentialCacheKey(L,q);switch(B){case he.ID_TOKEN:x.idTokens[ve]=q;break;case he.ACCESS_TOKEN:case he.ACCESS_TOKEN_WITH_AUTH_SCHEME:x.accessTokens[ve]=q;break;case he.REFRESH_TOKEN:x.refreshTokens[ve]=q}}}}),x},u.prototype.getAppMetadataFilteredBy=function(o){return this.getAppMetadataFilteredByInternal(o.environment,o.clientId)},u.prototype.getAppMetadataFilteredByInternal=function(o,s){var c=this,h=this.getKeys(),p={};return h.forEach(function(g){if(c.isAppMetadata(g)){var y=c.getAppMetadata(g);y&&(o&&!c.matchEnvironment(y,o)||s&&!c.matchClientId(y,s)||(p[g]=y))}}),p},u.prototype.getAuthorityMetadataByAlias=function(o){var s=this,c=this.getAuthorityMetadataKeys(),h=null;return c.forEach(function(p){if(s.isAuthorityMetadata(p)&&-1!==p.indexOf(s.clientId)){var g=s.getAuthorityMetadata(p);g&&-1!==g.aliases.indexOf(o)&&(h=g)}}),h},u.prototype.removeAllAccounts=function(){return ae(this,void 0,void 0,function(){var o,s,c=this;return ce(this,function(h){switch(h.label){case 0:return o=this.getKeys(),s=[],o.forEach(function(p){c.getAccount(p)&&s.push(c.removeAccount(p))}),[4,Promise.all(s)];case 1:return h.sent(),[2,!0]}})})},u.prototype.removeAccount=function(o){return ae(this,void 0,void 0,function(){var s;return ce(this,function(c){switch(c.label){case 0:if(!(s=this.getAccount(o)))throw z.createNoAccountFoundError();return[4,this.removeAccountContext(s)];case 1:return[2,c.sent()&&this.removeItem(o,pi.ACCOUNT)]}})})},u.prototype.removeAccountContext=function(o){return ae(this,void 0,void 0,function(){var s,c,h,p=this;return ce(this,function(g){switch(g.label){case 0:return s=this.getKeys(),c=o.generateAccountId(),h=[],s.forEach(function(y){var w=yi.getCredentialType(y);if(w!==H.NOT_DEFINED){var E=p.getSpecificCredential(y,w);E&&c===E.generateAccountId()&&h.push(p.removeCredential(E))}}),[4,Promise.all(h)];case 1:return g.sent(),[2,!0]}})})},u.prototype.removeCredential=function(o){return ae(this,void 0,void 0,function(){var s,c;return ce(this,function(h){switch(h.label){case 0:if(s=o.generateCredentialKey(),o.credentialType.toLowerCase()!==he.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(o.tokenType!==ot.POP)return[3,4];if(!(c=o.keyId))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(c)];case 2:return h.sent(),[3,4];case 3:throw h.sent(),z.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(s,pi.CREDENTIAL)]}})})},u.prototype.removeAppMetadata=function(){var o=this;return this.getKeys().forEach(function(s){o.isAppMetadata(s)&&o.removeItem(s,pi.APP_METADATA)}),!0},u.prototype.readCacheRecord=function(o,s,c,h){var p=this.readAccountFromCache(o),g=this.readIdTokenFromCache(s,o),y=this.readAccessTokenFromCache(s,o,c),w=this.readRefreshTokenFromCache(s,o,!1),E=this.readAppMetadataFromCache(h,s);return p&&g&&(p.idTokenClaims=new er(g.secret,this.cryptoImpl).claims),{account:p,idToken:g,accessToken:y,refreshToken:w,appMetadata:E}},u.prototype.readAccountFromCache=function(o){var s=Ft.generateAccountCacheKey(o);return this.getAccount(s)},u.prototype.readIdTokenFromCache=function(o,s){var h=this.getCredentialsFilteredBy({homeAccountId:s.homeAccountId,environment:s.environment,credentialType:he.ID_TOKEN,clientId:o,realm:s.tenantId}),p=Object.keys(h.idTokens).map(function(y){return h.idTokens[y]}),g=p.length;if(g<1)return null;if(g>1)throw z.createMultipleMatchingTokensInCacheError();return p[0]},u.prototype.readAccessTokenFromCache=function(o,s,c){var h=new mr(c.scopes||[]),p=c.authenticationScheme||ot.BEARER,g=p&&p.toLowerCase()!==ot.BEARER.toLowerCase()?he.ACCESS_TOKEN_WITH_AUTH_SCHEME:he.ACCESS_TOKEN,y={homeAccountId:s.homeAccountId,environment:s.environment,credentialType:g,clientId:o,realm:s.tenantId,target:h.printScopesLowerCase(),tokenType:p,keyId:c.sshKid,requestedClaimsHash:c.requestedClaimsHash},w=this.getCredentialsFilteredBy(y),E=Object.keys(w.accessTokens).map(function(S){return w.accessTokens[S]}),_=E.length;if(_<1)return null;if(_>1)throw z.createMultipleMatchingTokensInCacheError();return E[0]},u.prototype.readRefreshTokenFromCache=function(o,s,c){var g=this.getCredentialsFilteredBy({homeAccountId:s.homeAccountId,environment:s.environment,credentialType:he.REFRESH_TOKEN,clientId:o,familyId:c?"1":void 0}),y=Object.keys(g.refreshTokens).map(function(w){return g.refreshTokens[w]});return y.length<1?null:y[0]},u.prototype.readAppMetadataFromCache=function(o,s){var h=this.getAppMetadataFilteredBy({environment:o,clientId:s}),p=Object.keys(h).map(function(y){return h[y]}),g=p.length;if(g<1)return null;if(g>1)throw z.createMultipleMatchingAppMetadataInCacheError();return p[0]},u.prototype.isAppMetadataFOCI=function(o,s){var c=this.readAppMetadataFromCache(o,s);return!(!c||"1"!==c.familyId)},u.prototype.matchHomeAccountId=function(o,s){return!(!o.homeAccountId||s!==o.homeAccountId)},u.prototype.matchOboAssertion=function(o,s){return!(!o.oboAssertion||s!==o.oboAssertion)},u.prototype.matchEnvironment=function(o,s){var c=this.getAuthorityMetadataByAlias(s);return!!(c&&c.aliases.indexOf(o.environment)>-1)},u.prototype.matchCredentialType=function(o,s){return o.credentialType&&s.toLowerCase()===o.credentialType.toLowerCase()},u.prototype.matchClientId=function(o,s){return!(!o.clientId||s!==o.clientId)},u.prototype.matchFamilyId=function(o,s){return!(!o.familyId||s!==o.familyId)},u.prototype.matchRealm=function(o,s){return!(!o.realm||s!==o.realm)},u.prototype.matchTarget=function(o,s){if(o.credentialType!==he.ACCESS_TOKEN&&o.credentialType!==he.ACCESS_TOKEN_WITH_AUTH_SCHEME||!o.target)return!1;var c=mr.fromString(o.target),h=mr.fromString(s);return h.containsOnlyOIDCScopes()?h.removeScope(H.OFFLINE_ACCESS_SCOPE):h.removeOIDCScopes(),c.containsScopeSet(h)},u.prototype.matchTokenType=function(o,s){return!(!o.tokenType||o.tokenType!==s)},u.prototype.matchKeyId=function(o,s){return!(!o.keyId||o.keyId!==s)},u.prototype.isAppMetadata=function(o){return-1!==o.indexOf("appmetadata")},u.prototype.isAuthorityMetadata=function(o){return-1!==o.indexOf(Uc)},u.prototype.generateAuthorityMetadataCacheKey=function(o){return Uc+"-"+this.clientId+"-"+o},u.prototype.getSpecificCredential=function(o,s){switch(s){case he.ID_TOKEN:return this.getIdTokenCredential(o);case he.ACCESS_TOKEN:case he.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(o);case he.REFRESH_TOKEN:return this.getRefreshTokenCredential(o);default:return null}},u.toObject=function(o,s){for(var c in s)o[c]=s[c];return o},u}(),Wl=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Ln(o,u),o.prototype.setAccount=function(){throw X.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},o.prototype.getAccount=function(){throw X.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},o.prototype.setIdTokenCredential=function(){throw X.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},o.prototype.getIdTokenCredential=function(){throw X.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},o.prototype.setAccessTokenCredential=function(){throw X.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},o.prototype.getAccessTokenCredential=function(){throw X.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},o.prototype.setRefreshTokenCredential=function(){throw X.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},o.prototype.getRefreshTokenCredential=function(){throw X.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},o.prototype.setAppMetadata=function(){throw X.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},o.prototype.getAppMetadata=function(){throw X.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},o.prototype.setServerTelemetry=function(){throw X.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},o.prototype.getServerTelemetry=function(){throw X.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},o.prototype.setAuthorityMetadata=function(){throw X.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},o.prototype.getAuthorityMetadata=function(){throw X.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},o.prototype.getAuthorityMetadataKeys=function(){throw X.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},o.prototype.setThrottlingCache=function(){throw X.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},o.prototype.getThrottlingCache=function(){throw X.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},o.prototype.removeItem=function(){throw X.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},o.prototype.containsKey=function(){throw X.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},o.prototype.getKeys=function(){throw X.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},o.prototype.clear=function(){return ae(this,void 0,void 0,function(){return ce(this,function(s){throw X.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")})})},o.prototype.updateCredentialCacheKey=function(){throw X.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},o}(Sn),Ql={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1,proxyUrl:""},co={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:xt.Info,correlationId:""},cs={sendGetRequestAsync:function(){return ae(this,void 0,void 0,function(){return ce(this,function(u){throw X.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")})})},sendPostRequestAsync:function(){return ae(this,void 0,void 0,function(){return ce(this,function(u){throw X.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")})})}},gf={sku:H.SKU,version:"6.1.0",cpu:"",os:""},mf={clientSecret:"",clientAssertion:void 0},us={azureCloudInstance:pr.None,tenant:""+H.DEFAULT_COMMON_TENANT},ls=function(u){function o(s,c,h){var p=u.call(this,s,c,h)||this;return p.name="ServerError",Object.setPrototypeOf(p,o.prototype),p}return Ln(o,u),o}(X),la=function(){function u(){}return u.generateThrottlingStorageKey=function(o){return ea+"."+JSON.stringify(o)},u.preProcess=function(o,s){var c,h=u.generateThrottlingStorageKey(s),p=o.getThrottlingCache(h);if(p){if(p.throttleTime<Date.now())return void o.removeItem(h,pi.THROTTLING);throw new ls((null===(c=p.errorCodes)||void 0===c?void 0:c.join(" "))||H.EMPTY_STRING,p.errorMessage,p.subError)}},u.postProcess=function(o,s,c){if(u.checkResponseStatus(c)||u.checkResponseForRetryAfter(c)){var h={throttleTime:u.calculateThrottleTime(parseInt(c.headers[no.RETRY_AFTER])),error:c.body.error,errorCodes:c.body.error_codes,errorMessage:c.body.error_description,subError:c.body.suberror};o.setThrottlingCache(u.generateThrottlingStorageKey(s),h)}},u.checkResponseStatus=function(o){return 429===o.status||o.status>=500&&o.status<600},u.checkResponseForRetryAfter=function(o){return!!o.headers&&o.headers.hasOwnProperty(no.RETRY_AFTER)&&(o.status<200||o.status>=300)},u.calculateThrottleTime=function(o){var s=o<=0?0:o,c=Date.now()/1e3;return Math.floor(1e3*Math.min(c+(s||60),c+3600))},u.removeThrottle=function(o,s,c,h){var g=this.generateThrottlingStorageKey({clientId:s,authority:c.authority,scopes:c.scopes,homeAccountIdentifier:h,claims:c.claims,authenticationScheme:c.authenticationScheme,resourceRequestMethod:c.resourceRequestMethod,resourceRequestUri:c.resourceRequestUri,shrClaims:c.shrClaims,sshKid:c.sshKid});return o.removeItem(g,pi.THROTTLING)},u}(),jm=function(){function u(o,s){this.networkClient=o,this.cacheManager=s}return u.prototype.sendPostRequest=function(o,s,c){return ae(this,void 0,void 0,function(){var h,p;return ce(this,function(g){switch(g.label){case 0:la.preProcess(this.cacheManager,o),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(s,c)];case 2:return h=g.sent(),[3,4];case 3:throw(p=g.sent())instanceof X?p:z.createNetworkError(s,p);case 4:return la.postProcess(this.cacheManager,o,h),[2,h]}})})},u}();!function(u){u.HOME_ACCOUNT_ID="home_account_id",u.UPN="UPN"}(on||(on={}));var Yl,vi=function(){function u(o){var s,c,h,p,g,y,w,E,_,S,I,M,x,L;this.config=(h=(s=o).authOptions,p=s.systemOptions,g=s.loggerOptions,y=s.storageInterface,w=s.networkInterface,E=s.cryptoInterface,_=s.clientCredentials,S=s.libraryInfo,I=s.serverTelemetryManager,M=s.persistencePlugin,x=s.serializableCache,L=rn(rn({},co),g),{authOptions:(c=h,rn({clientCapabilities:[],azureCloudOptions:us},c)),systemOptions:rn(rn({},Ql),p),loggerOptions:L,storageInterface:y||new Wl(h.clientId,gi),networkInterface:w||cs,cryptoInterface:E||gi,clientCredentials:_||mf,libraryInfo:rn(rn({},gf),S),serverTelemetryManager:I||null,persistencePlugin:M||null,serializableCache:x||null}),this.logger=new gr(this.config.loggerOptions,"@azure/msal-common","6.1.0"),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new jm(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority}return u.prototype.createTokenRequestHeaders=function(o){var s={};if(s[no.CONTENT_TYPE]=H.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&o)switch(o.type){case on.HOME_ACCOUNT_ID:try{var c=ao(o.credential);s[no.CCS_HEADER]="Oid:"+c.uid+"@"+c.utid}catch(h){this.logger.verbose("Could not parse home account ID for CCS Header: "+h)}break;case on.UPN:s[no.CCS_HEADER]="UPN: "+o.credential}return s},u.prototype.executePostToTokenEndpoint=function(o,s,c,h){return ae(this,void 0,void 0,function(){var p;return ce(this,function(g){switch(g.label){case 0:return[4,this.networkManager.sendPostRequest(h,o,{body:s,headers:c,proxyUrl:this.config.systemOptions.proxyUrl})];case 1:return p=g.sent(),this.config.serverTelemetryManager&&p.status<500&&429!==p.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,p]}})})},u.prototype.updateAuthority=function(o){if(!o.discoveryComplete())throw z.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=o},u}(),uo=function(){function u(){}return u.validateRedirectUri=function(o){if($.isEmpty(o))throw Ke.createRedirectUriEmptyError()},u.validatePrompt=function(o){var s=[];for(var c in fi)s.push(fi[c]);if(s.indexOf(o)<0)throw Ke.createInvalidPromptError(o)},u.validateClaims=function(o){try{JSON.parse(o)}catch(s){throw Ke.createInvalidClaimsRequestError()}},u.validateCodeChallengeParams=function(o,s){if($.isEmpty(o)||$.isEmpty(s))throw Ke.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(s)},u.validateCodeChallengeMethod=function(o){if([af.PLAIN,af.S256].indexOf(o)<0)throw Ke.createInvalidCodeChallengeMethodError()},u.sanitizeEQParams=function(o,s){return o?(s.forEach(function(c,h){o[h]&&delete o[h]}),o):{}},u}(),lo=function(){function u(){this.parameters=new Map}return u.prototype.addResponseTypeCode=function(){this.parameters.set(pe.RESPONSE_TYPE,encodeURIComponent(H.CODE_RESPONSE_TYPE))},u.prototype.addResponseMode=function(o){this.parameters.set(pe.RESPONSE_MODE,encodeURIComponent(o||Fc.QUERY))},u.prototype.addScopes=function(o,s){void 0===s&&(s=!0);var c=s?kc(o||[],xc):o||[],h=new mr(c);this.parameters.set(pe.SCOPE,encodeURIComponent(h.printScopes()))},u.prototype.addClientId=function(o){this.parameters.set(pe.CLIENT_ID,encodeURIComponent(o))},u.prototype.addRedirectUri=function(o){uo.validateRedirectUri(o),this.parameters.set(pe.REDIRECT_URI,encodeURIComponent(o))},u.prototype.addPostLogoutRedirectUri=function(o){uo.validateRedirectUri(o),this.parameters.set(pe.POST_LOGOUT_URI,encodeURIComponent(o))},u.prototype.addIdTokenHint=function(o){this.parameters.set(pe.ID_TOKEN_HINT,encodeURIComponent(o))},u.prototype.addDomainHint=function(o){this.parameters.set(Js.DOMAIN_HINT,encodeURIComponent(o))},u.prototype.addLoginHint=function(o){this.parameters.set(Js.LOGIN_HINT,encodeURIComponent(o))},u.prototype.addCcsUpn=function(o){this.parameters.set(no.CCS_HEADER,encodeURIComponent("UPN:"+o))},u.prototype.addCcsOid=function(o){this.parameters.set(no.CCS_HEADER,encodeURIComponent("Oid:"+o.uid+"@"+o.utid))},u.prototype.addSid=function(o){this.parameters.set(Js.SID,encodeURIComponent(o))},u.prototype.addClaims=function(o,s){var c=this.addClientCapabilitiesToClaims(o,s);uo.validateClaims(c),this.parameters.set(pe.CLAIMS,encodeURIComponent(c))},u.prototype.addCorrelationId=function(o){this.parameters.set(pe.CLIENT_REQUEST_ID,encodeURIComponent(o))},u.prototype.addLibraryInfo=function(o){this.parameters.set(pe.X_CLIENT_SKU,o.sku),this.parameters.set(pe.X_CLIENT_VER,o.version),this.parameters.set(pe.X_CLIENT_OS,o.os),this.parameters.set(pe.X_CLIENT_CPU,o.cpu)},u.prototype.addPrompt=function(o){uo.validatePrompt(o),this.parameters.set(""+pe.PROMPT,encodeURIComponent(o))},u.prototype.addState=function(o){$.isEmpty(o)||this.parameters.set(pe.STATE,encodeURIComponent(o))},u.prototype.addNonce=function(o){this.parameters.set(pe.NONCE,encodeURIComponent(o))},u.prototype.addCodeChallengeParams=function(o,s){if(uo.validateCodeChallengeParams(o,s),!o||!s)throw Ke.createInvalidCodeChallengeParamsError();this.parameters.set(pe.CODE_CHALLENGE,encodeURIComponent(o)),this.parameters.set(pe.CODE_CHALLENGE_METHOD,encodeURIComponent(s))},u.prototype.addAuthorizationCode=function(o){this.parameters.set(pe.CODE,encodeURIComponent(o))},u.prototype.addDeviceCode=function(o){this.parameters.set(pe.DEVICE_CODE,encodeURIComponent(o))},u.prototype.addRefreshToken=function(o){this.parameters.set(pe.REFRESH_TOKEN,encodeURIComponent(o))},u.prototype.addCodeVerifier=function(o){this.parameters.set(pe.CODE_VERIFIER,encodeURIComponent(o))},u.prototype.addClientSecret=function(o){this.parameters.set(pe.CLIENT_SECRET,encodeURIComponent(o))},u.prototype.addClientAssertion=function(o){this.parameters.set(pe.CLIENT_ASSERTION,encodeURIComponent(o))},u.prototype.addClientAssertionType=function(o){this.parameters.set(pe.CLIENT_ASSERTION_TYPE,encodeURIComponent(o))},u.prototype.addOboAssertion=function(o){this.parameters.set(pe.OBO_ASSERTION,encodeURIComponent(o))},u.prototype.addRequestTokenUse=function(o){this.parameters.set(pe.REQUESTED_TOKEN_USE,encodeURIComponent(o))},u.prototype.addGrantType=function(o){this.parameters.set(pe.GRANT_TYPE,encodeURIComponent(o))},u.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},u.prototype.addExtraQueryParameters=function(o){var s=this;uo.sanitizeEQParams(o,this.parameters),Object.keys(o).forEach(function(c){s.parameters.set(c,o[c])})},u.prototype.addClientCapabilitiesToClaims=function(o,s){var c;if(o)try{c=JSON.parse(o)}catch(h){throw Ke.createInvalidClaimsRequestError()}else c={};return s&&s.length>0&&(c.hasOwnProperty(ts.ACCESS_TOKEN)||(c[ts.ACCESS_TOKEN]={}),c[ts.ACCESS_TOKEN][ts.XMS_CC]={values:s}),JSON.stringify(c)},u.prototype.addUsername=function(o){this.parameters.set(Xs.username,o)},u.prototype.addPassword=function(o){this.parameters.set(Xs.password,o)},u.prototype.addPopToken=function(o){$.isEmpty(o)||(this.parameters.set(pe.TOKEN_TYPE,ot.POP),this.parameters.set(pe.REQ_CNF,encodeURIComponent(o)))},u.prototype.addSshJwk=function(o){$.isEmpty(o)||(this.parameters.set(pe.TOKEN_TYPE,ot.SSH),this.parameters.set(pe.REQ_CNF,encodeURIComponent(o)))},u.prototype.addServerTelemetry=function(o){this.parameters.set(pe.X_CLIENT_CURR_TELEM,o.generateCurrentRequestHeaderValue()),this.parameters.set(pe.X_CLIENT_LAST_TELEM,o.generateLastRequestHeaderValue())},u.prototype.addThrottling=function(){this.parameters.set(pe.X_MS_LIB_CAPABILITY,"retry-after, h429")},u.prototype.addLogoutHint=function(o){this.parameters.set(pe.LOGOUT_HINT,encodeURIComponent(o))},u.prototype.createQueryString=function(){var o=new Array;return this.parameters.forEach(function(s,c){o.push(c+"="+s)}),o.join("&")},u}(),Fo=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Ln(o,u),o.createIdTokenEntity=function(s,c,h,p,g,y){var w=new o;return w.credentialType=he.ID_TOKEN,w.homeAccountId=s,w.environment=c,w.clientId=p,w.secret=h,w.realm=g,w.oboAssertion=y,w},o.isIdTokenEntity=function(s){return!!s&&s.hasOwnProperty("homeAccountId")&&s.hasOwnProperty("environment")&&s.hasOwnProperty("credentialType")&&s.hasOwnProperty("realm")&&s.hasOwnProperty("clientId")&&s.hasOwnProperty("secret")&&s.credentialType===he.ID_TOKEN},o}(yi),tr=function(){function u(){}return u.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},u.isTokenExpired=function(o,s){var c=Number(o)||0;return u.nowSeconds()+s>c},u.wasClockTurnedBack=function(o){return Number(o)>u.nowSeconds()},u.delay=function(o,s){return new Promise(function(c){return setTimeout(function(){return c(s)},o)})},u}(),ds=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Ln(o,u),o.createAccessTokenEntity=function(s,c,h,p,g,y,w,E,_,S,I,M,x,L,B){var q,ve,Y=new o;Y.homeAccountId=s,Y.credentialType=he.ACCESS_TOKEN,Y.secret=h;var Pe=tr.nowSeconds();if(Y.cachedAt=Pe.toString(),Y.expiresOn=w.toString(),Y.extendedExpiresOn=E.toString(),S&&(Y.refreshOn=S.toString()),Y.environment=c,Y.clientId=p,Y.realm=g,Y.target=y,Y.oboAssertion=M,Y.tokenType=$.isEmpty(I)?ot.BEARER:I,L&&(Y.requestedClaims=L,Y.requestedClaimsHash=B),(null===(q=Y.tokenType)||void 0===q?void 0:q.toLowerCase())!==ot.BEARER.toLowerCase())switch(Y.credentialType=he.ACCESS_TOKEN_WITH_AUTH_SCHEME,Y.tokenType){case ot.POP:var Be=er.extractTokenClaims(h,_);if(!(null===(ve=null==Be?void 0:Be.cnf)||void 0===ve?void 0:ve.kid))throw z.createTokenClaimsRequiredError();Y.keyId=Be.cnf.kid;break;case ot.SSH:Y.keyId=x}return Y},o.isAccessTokenEntity=function(s){return!!s&&s.hasOwnProperty("homeAccountId")&&s.hasOwnProperty("environment")&&s.hasOwnProperty("credentialType")&&s.hasOwnProperty("realm")&&s.hasOwnProperty("clientId")&&s.hasOwnProperty("secret")&&s.hasOwnProperty("target")&&(s.credentialType===he.ACCESS_TOKEN||s.credentialType===he.ACCESS_TOKEN_WITH_AUTH_SCHEME)},o}(yi),ho=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Ln(o,u),o.createRefreshTokenEntity=function(s,c,h,p,g,y){var w=new o;return w.clientId=p,w.credentialType=he.REFRESH_TOKEN,w.environment=c,w.homeAccountId=s,w.secret=h,w.oboAssertion=y,g&&(w.familyId=g),w},o.isRefreshTokenEntity=function(s){return!!s&&s.hasOwnProperty("homeAccountId")&&s.hasOwnProperty("environment")&&s.hasOwnProperty("credentialType")&&s.hasOwnProperty("clientId")&&s.hasOwnProperty("secret")&&s.credentialType===he.REFRESH_TOKEN},o}(yi),Zl=["interaction_required","consent_required","login_required"],Ci=["message_only","additional_action","basic_action","user_password_expired","consent_required"],yr=function(u){function o(s,c,h){var p=u.call(this,s,c,h)||this;return p.name="InteractionRequiredAuthError",Object.setPrototypeOf(p,o.prototype),p}return Ln(o,u),o.isInteractionRequiredError=function(s,c,h){var p=!!s&&Zl.indexOf(s)>-1,g=!!h&&Ci.indexOf(h)>-1,y=!!c&&Zl.some(function(w){return c.indexOf(w)>-1});return p||y||g},o.createNoTokensFoundError=function(){return new o("no_tokens_found","No refresh token found in the cache. Please sign-in.")},o}(X),$m=function(u,o,s,c,h){this.account=u||null,this.idToken=o||null,this.accessToken=s||null,this.refreshToken=c||null,this.appMetadata=h||null},Lo=function(){function u(){}return u.setRequestState=function(o,s,c){var h=u.generateLibraryState(o,c);return $.isEmpty(s)?h:""+h+H.RESOURCE_DELIM+s},u.generateLibraryState=function(o,s){if(!o)throw z.createNoCryptoObjectError("generateLibraryState");var c={id:o.createNewGuid()};s&&(c.meta=s);var h=JSON.stringify(c);return o.base64Encode(h)},u.parseRequestState=function(o,s){if(!o)throw z.createNoCryptoObjectError("parseRequestState");if($.isEmpty(s))throw z.createInvalidStateError(s,"Null, undefined or empty state");try{var c=s.split(H.RESOURCE_DELIM),h=c[0],p=c.length>1?c.slice(1).join(H.RESOURCE_DELIM):"",g=o.base64Decode(h),y=JSON.parse(g);return{userRequestState:$.isEmpty(p)?"":p,libraryState:y}}catch(w){throw z.createInvalidStateError(s,w)}},u}(),He=function(){function u(o){if(this._urlString=o,$.isEmpty(this._urlString))throw Ke.createUrlEmptyError();$.isEmpty(this.getHash())&&(this._urlString=u.canonicalizeUri(o))}return Object.defineProperty(u.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),u.canonicalizeUri=function(o){if(o){var s=o.toLowerCase();return $.endsWith(s,"?")?s=s.slice(0,-1):$.endsWith(s,"?/")&&(s=s.slice(0,-2)),$.endsWith(s,"/")||(s+="/"),s}return o},u.prototype.validateAsUri=function(){var o;try{o=this.getUrlComponents()}catch(s){throw Ke.createUrlParseError(s)}if(!o.HostNameAndPort||!o.PathSegments)throw Ke.createUrlParseError("Given url string: "+this.urlString);if(!o.Protocol||"https:"!==o.Protocol.toLowerCase())throw Ke.createInsecureAuthorityUriError(this.urlString)},u.appendQueryString=function(o,s){return $.isEmpty(s)?o:o.indexOf("?")<0?o+"?"+s:o+"&"+s},u.removeHashFromUrl=function(o){return u.canonicalizeUri(o.split("#")[0])},u.prototype.replaceTenantPath=function(o){var s=this.getUrlComponents(),c=s.PathSegments;return!o||0===c.length||c[0]!==Pc.COMMON&&c[0]!==Pc.ORGANIZATIONS||(c[0]=o),u.constructAuthorityUriFromObject(s)},u.prototype.getHash=function(){return u.parseHash(this.urlString)},u.prototype.getUrlComponents=function(){var o=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),s=this.urlString.match(o);if(!s)throw Ke.createUrlParseError("Given url string: "+this.urlString);var c={Protocol:s[1],HostNameAndPort:s[4],AbsolutePath:s[5],QueryString:s[7]},h=c.AbsolutePath.split("/");return h=h.filter(function(p){return p&&p.length>0}),c.PathSegments=h,!$.isEmpty(c.QueryString)&&c.QueryString.endsWith("/")&&(c.QueryString=c.QueryString.substring(0,c.QueryString.length-1)),c},u.getDomainFromUrl=function(o){var s=RegExp("^([^:/?#]+://)?([^/?#]*)"),c=o.match(s);if(!c)throw Ke.createUrlParseError("Given url string: "+o);return c[2]},u.getAbsoluteUrl=function(o,s){if(o[0]===H.FORWARD_SLASH){var c=new u(s).getUrlComponents();return c.Protocol+"//"+c.HostNameAndPort+o}return o},u.parseHash=function(o){var s=o.indexOf("#"),c=o.indexOf("#/");return c>-1?o.substring(c+2):s>-1?o.substring(s+1):""},u.constructAuthorityUriFromObject=function(o){return new u(o.Protocol+"//"+o.HostNameAndPort+"/"+o.PathSegments.join("/"))},u.getDeserializedHash=function(o){if($.isEmpty(o))return{};var s=u.parseHash(o),c=$.queryStringToObject($.isEmpty(s)?o:s);if(!c)throw z.createHashNotDeserializedError(JSON.stringify(c));return c},u.hashContainsKnownProperties=function(o){if($.isEmpty(o)||o.indexOf("=")<0)return!1;var s=u.getDeserializedHash(o);return!!(s.code||s.error_description||s.error||s.state)},u}();!function(u){u.SW="sw",u.UHW="uhw"}(Yl||(Yl={}));var da,Zc=function(){function u(o){this.cryptoUtils=o}return u.prototype.generateCnf=function(o){return ae(this,void 0,void 0,function(){var s;return ce(this,function(c){switch(c.label){case 0:return[4,this.generateKid(o)];case 1:return s=c.sent(),[2,this.cryptoUtils.base64Encode(JSON.stringify(s))]}})})},u.prototype.generateKid=function(o){return ae(this,void 0,void 0,function(){return ce(this,function(s){switch(s.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(o)];case 1:return[2,{kid:s.sent(),xms_ksl:Yl.SW}]}})})},u.prototype.signPopToken=function(o,s){var c;return ae(this,void 0,void 0,function(){var h;return ce(this,function(p){if(h=er.extractTokenClaims(o,this.cryptoUtils),!(null===(c=null==h?void 0:h.cnf)||void 0===c?void 0:c.kid))throw z.createTokenClaimsRequiredError();return[2,this.signPayload(o,h.cnf.kid,s)]})})},u.prototype.signPayload=function(o,s,c,h){return ae(this,void 0,void 0,function(){var p,g,y,w,E,_;return ce(this,function(S){switch(S.label){case 0:return p=c.resourceRequestMethod,y=c.shrClaims,w=c.shrNonce,E=(g=c.resourceRequestUri)?new He(g):void 0,_=null==E?void 0:E.getUrlComponents(),[4,this.cryptoUtils.signJwt(rn({at:o,ts:tr.nowSeconds(),m:null==p?void 0:p.toUpperCase(),u:null==_?void 0:_.HostNameAndPort,nonce:w||this.cryptoUtils.createNewGuid(),p:null==_?void 0:_.AbsolutePath,q:(null==_?void 0:_.QueryString)?[[],_.QueryString]:void 0,client_claims:y||void 0},h),s)];case 1:return[2,S.sent()]}})})},u}(),Uo=function(){function u(){}return u.prototype.generateAppMetadataKey=function(){return u.generateAppMetadataCacheKey(this.environment,this.clientId)},u.generateAppMetadataCacheKey=function(o,s){return["appmetadata",o,s].join(dn.CACHE_KEY_SEPARATOR).toLowerCase()},u.createAppMetadataEntity=function(o,s,c){var h=new u;return h.clientId=o,h.environment=s,c&&(h.familyId=c),h},u.isAppMetadataEntity=function(o,s){return!!s&&0===o.indexOf("appmetadata")&&s.hasOwnProperty("clientId")&&s.hasOwnProperty("environment")},u}(),Jc=function(){function u(o,s){this.cache=o,this.hasChanged=s}return Object.defineProperty(u.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),u}(),wi=function(){function u(o,s,c,h,p,g){this.clientId=o,this.cacheStorage=s,this.cryptoObj=c,this.logger=h,this.serializableCache=p,this.persistencePlugin=g}return u.prototype.validateServerAuthorizationCodeResponse=function(o,s,c){if(!o.state||!s)throw z.createStateNotFoundError(o.state?"Cached State":"Server State");if(decodeURIComponent(o.state)!==decodeURIComponent(s))throw z.createStateMismatchError();if(o.error||o.error_description||o.suberror)throw yr.isInteractionRequiredError(o.error,o.error_description,o.suberror)?new yr(o.error||H.EMPTY_STRING,o.error_description,o.suberror):new ls(o.error||H.EMPTY_STRING,o.error_description,o.suberror);o.client_info&&ua(o.client_info,c)},u.prototype.validateTokenResponse=function(o){if(o.error||o.error_description||o.suberror){if(yr.isInteractionRequiredError(o.error,o.error_description,o.suberror))throw new yr(o.error,o.error_description,o.suberror);throw new ls(o.error,o.error_codes+" - ["+o.timestamp+"]: "+o.error_description+" - Correlation ID: "+o.correlation_id+" - Trace ID: "+o.trace_id,o.suberror)}},u.prototype.handleServerTokenResponse=function(o,s,c,h,p,g,y){return ae(this,void 0,void 0,function(){var w,E,_,S,I;return ce(this,function(M){switch(M.label){case 0:if(o.id_token&&(w=new er(o.id_token||H.EMPTY_STRING,this.cryptoObj),p&&!$.isEmpty(p.nonce)&&w.claims.nonce!==p.nonce))throw z.createNonceMismatchError();this.homeAccountIdentifier=Ft.generateHomeAccountId(o.client_info||H.EMPTY_STRING,s.authorityType,this.logger,this.cryptoObj,w),p&&p.state&&(E=Lo.parseRequestState(this.cryptoObj,p.state)),o.key_id=o.key_id||h.sshKid||void 0,_=this.generateCacheRecord(o,s,c,h,w,g,p),M.label=1;case 1:return M.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),S=new Jc(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(S)]):[3,3];case 2:M.sent(),M.label=3;case 3:return y&&_.account&&(I=_.account.generateAccountKey(),!this.cacheStorage.getAccount(I))?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,u.generateAuthenticationResult(this.cryptoObj,s,_,!1,h,w,E)]):[4,this.cacheStorage.saveCacheRecord(_)];case 4:return M.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&S?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(S)]):[3,7];case 6:M.sent(),M.label=7;case 7:return[7];case 8:return[2,u.generateAuthenticationResult(this.cryptoObj,s,_,!1,h,w,E,o.spa_code)]}})})},u.prototype.generateCacheRecord=function(o,s,c,h,p,g,y){var w,E,_=s.getPreferredCache();if($.isEmpty(_))throw z.createInvalidCacheEnvironmentError();!$.isEmpty(o.id_token)&&p&&(w=Fo.createIdTokenEntity(this.homeAccountIdentifier,_,o.id_token||H.EMPTY_STRING,this.clientId,p.claims.tid||H.EMPTY_STRING,g),E=this.generateAccountEntity(o,p,s,g,y));var S=null;if(!$.isEmpty(o.access_token)){var I=o.scope?mr.fromString(o.scope):new mr(h.scopes||[]),M=("string"==typeof o.expires_in?parseInt(o.expires_in,10):o.expires_in)||0,x=("string"==typeof o.ext_expires_in?parseInt(o.ext_expires_in,10):o.ext_expires_in)||0,L=("string"==typeof o.refresh_in?parseInt(o.refresh_in,10):o.refresh_in)||void 0,B=c+M,q=B+x,ve=L&&L>0?c+L:void 0;S=ds.createAccessTokenEntity(this.homeAccountIdentifier,_,o.access_token||H.EMPTY_STRING,this.clientId,p?p.claims.tid||H.EMPTY_STRING:s.tenant,I.printScopes(),B,q,this.cryptoObj,ve,o.token_type,g,o.key_id,h.claims,h.requestedClaimsHash)}var Y=null;$.isEmpty(o.refresh_token)||(Y=ho.createRefreshTokenEntity(this.homeAccountIdentifier,_,o.refresh_token||H.EMPTY_STRING,this.clientId,o.foci,g));var Pe=null;return $.isEmpty(o.foci)||(Pe=Uo.createAppMetadataEntity(this.clientId,_,o.foci)),new $m(E,w,S,Y,Pe)},u.prototype.generateAccountEntity=function(o,s,c,h,p){var y=p?p.cloud_graph_host_name:"",w=p?p.msgraph_host:"";if(c.authorityType===so.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),Ft.createGenericAccount(this.homeAccountIdentifier,s,c,h,y,w);if($.isEmpty(o.client_info)&&"AAD"===c.protocolMode)throw z.createClientInfoEmptyError();return o.client_info?Ft.createAccount(o.client_info,this.homeAccountIdentifier,s,c,h,y,w):Ft.createGenericAccount(this.homeAccountIdentifier,s,c,h,y,w)},u.generateAuthenticationResult=function(o,s,c,h,p,g,y,w){var E,_,S;return ae(this,void 0,void 0,function(){var I,M,x,L,B;return ce(this,function(Y){switch(Y.label){case 0:return I="",M=[],x=null,B=H.EMPTY_STRING,c.accessToken?c.accessToken.tokenType!==ot.POP?[3,2]:[4,new Zc(o).signPopToken(c.accessToken.secret,p)]:[3,4];case 1:return I=Y.sent(),[3,3];case 2:I=c.accessToken.secret,Y.label=3;case 3:M=mr.fromString(c.accessToken.target).asArray(),x=new Date(1e3*Number(c.accessToken.expiresOn)),L=new Date(1e3*Number(c.accessToken.extendedExpiresOn)),Y.label=4;case 4:return c.appMetadata&&(B="1"===c.appMetadata.familyId?"1":H.EMPTY_STRING),[2,{authority:s.canonicalAuthority,uniqueId:(null==g?void 0:g.claims.oid)||(null==g?void 0:g.claims.sub)||H.EMPTY_STRING,tenantId:(null==g?void 0:g.claims.tid)||H.EMPTY_STRING,scopes:M,account:c.account?c.account.getAccountInfo():null,idToken:g?g.rawToken:H.EMPTY_STRING,idTokenClaims:g?g.claims:{},accessToken:I,fromCache:h,expiresOn:x,correlationId:p.correlationId,extExpiresOn:L,familyId:B,tokenType:(null===(E=c.accessToken)||void 0===E?void 0:E.tokenType)||H.EMPTY_STRING,state:y?y.userRequestState:H.EMPTY_STRING,cloudGraphHostName:(null===(_=c.account)||void 0===_?void 0:_.cloudGraphHostName)||H.EMPTY_STRING,msGraphHost:(null===(S=c.account)||void 0===S?void 0:S.msGraphHost)||H.EMPTY_STRING,code:w}]}})})},u}(),fs=function(u){function o(s){var c=u.call(this,s)||this;return c.includeRedirectUri=!0,c}return Ln(o,u),o.prototype.getAuthCodeUrl=function(s){return ae(this,void 0,void 0,function(){var c;return ce(this,function(h){return c=this.createAuthCodeUrlQueryString(s),[2,He.appendQueryString(this.authority.authorizationEndpoint,c)]})})},o.prototype.acquireToken=function(s,c){return ae(this,void 0,void 0,function(){var h,p,g;return ce(this,function(y){switch(y.label){case 0:if(this.logger.info("in acquireToken call"),!s||$.isEmpty(s.code))throw z.createTokenRequestCannotBeMadeError();return h=tr.nowSeconds(),[4,this.executeTokenRequest(this.authority,s)];case 1:return p=y.sent(),(g=new wi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(p.body),[4,g.handleServerTokenResponse(p.body,this.authority,h,s,c)];case 2:return[2,y.sent()]}})})},o.prototype.handleFragmentResponse=function(s,c){var h=new wi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),p=new He(s),g=He.getDeserializedHash(p.getHash());if(h.validateServerAuthorizationCodeResponse(g,c,this.cryptoUtils),!g.code)throw z.createNoAuthCodeInServerResponseError();return rn(rn({},g),{code:g.code})},o.prototype.getLogoutUri=function(s){if(!s)throw Ke.createEmptyLogoutRequestError();var c=this.createLogoutUrlQueryString(s);return He.appendQueryString(this.authority.endSessionEndpoint,c)},o.prototype.executeTokenRequest=function(s,c){return ae(this,void 0,void 0,function(){var h,p,g,y,w,E,_;return ce(this,function(S){switch(S.label){case 0:return h={clientId:this.config.authOptions.clientId,authority:s.canonicalAuthority,scopes:c.scopes,claims:c.claims,authenticationScheme:c.authenticationScheme,resourceRequestMethod:c.resourceRequestMethod,resourceRequestUri:c.resourceRequestUri,shrClaims:c.shrClaims,sshKid:c.sshKid},[4,this.createTokenRequestBody(c)];case 1:if(p=S.sent(),g=this.createTokenQueryParameters(c),y=void 0,c.clientInfo)try{w=ua(c.clientInfo,this.cryptoUtils),y={credential:""+w.uid+dn.CLIENT_INFO_SEPARATOR+w.utid,type:on.HOME_ACCOUNT_ID}}catch(I){this.logger.verbose("Could not parse client info for CCS Header: "+I)}return E=this.createTokenRequestHeaders(y||c.ccsCredential),_=$.isEmpty(g)?s.tokenEndpoint:s.tokenEndpoint+"?"+g,[2,this.executePostToTokenEndpoint(_,p,E,h)]}})})},o.prototype.createTokenQueryParameters=function(s){var c=new lo;return s.tokenQueryParameters&&c.addExtraQueryParameters(s.tokenQueryParameters),c.createQueryString()},o.prototype.createTokenRequestBody=function(s){return ae(this,void 0,void 0,function(){var c,h,p,g,y,w,E;return ce(this,function(_){switch(_.label){case 0:return(c=new lo).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?c.addRedirectUri(s.redirectUri):uo.validateRedirectUri(s.redirectUri),c.addScopes(s.scopes),c.addAuthorizationCode(s.code),c.addLibraryInfo(this.config.libraryInfo),c.addThrottling(),this.serverTelemetryManager&&c.addServerTelemetry(this.serverTelemetryManager),s.codeVerifier&&c.addCodeVerifier(s.codeVerifier),this.config.clientCredentials.clientSecret&&c.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(c.addClientAssertion((h=this.config.clientCredentials.clientAssertion).assertion),c.addClientAssertionType(h.assertionType)),c.addGrantType(Lc.AUTHORIZATION_CODE_GRANT),c.addClientInfo(),s.authenticationScheme!==ot.POP?[3,2]:[4,new Zc(this.cryptoUtils).generateCnf(s)];case 1:return p=_.sent(),c.addPopToken(p),[3,3];case 2:if(s.authenticationScheme===ot.SSH){if(!s.sshJwk)throw Ke.createMissingSshJwkError();c.addSshJwk(s.sshJwk)}_.label=3;case 3:if(g=s.correlationId||this.config.cryptoInterface.createNewGuid(),c.addCorrelationId(g),(!$.isEmptyObj(s.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&c.addClaims(s.claims,this.config.authOptions.clientCapabilities),y=void 0,s.clientInfo)try{w=ua(s.clientInfo,this.cryptoUtils),y={credential:""+w.uid+dn.CLIENT_INFO_SEPARATOR+w.utid,type:on.HOME_ACCOUNT_ID}}catch(S){this.logger.verbose("Could not parse client info for CCS Header: "+S)}else y=s.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&y)switch(y.type){case on.HOME_ACCOUNT_ID:try{w=ao(y.credential),c.addCcsOid(w)}catch(S){this.logger.verbose("Could not parse home account ID for CCS Header: "+S)}break;case on.UPN:c.addCcsUpn(y.credential)}return s.tokenBodyParameters&&c.addExtraQueryParameters(s.tokenBodyParameters),!s.enableSpaAuthorizationCode||s.tokenBodyParameters&&s.tokenBodyParameters[pe.RETURN_SPA_CODE]||c.addExtraQueryParameters(((E={})[pe.RETURN_SPA_CODE]="1",E)),[2,c.createQueryString()]}})})},o.prototype.createAuthCodeUrlQueryString=function(s){var c=new lo;c.addClientId(this.config.authOptions.clientId);var h=kc(s.scopes||[],s.extraScopesToConsent||[]);c.addScopes(h),c.addRedirectUri(s.redirectUri);var p=s.correlationId||this.config.cryptoInterface.createNewGuid();if(c.addCorrelationId(p),c.addResponseMode(s.responseMode),c.addResponseTypeCode(),c.addLibraryInfo(this.config.libraryInfo),c.addClientInfo(),s.codeChallenge&&s.codeChallengeMethod&&c.addCodeChallengeParams(s.codeChallenge,s.codeChallengeMethod),s.prompt&&c.addPrompt(s.prompt),s.domainHint&&c.addDomainHint(s.domainHint),s.prompt!==fi.SELECT_ACCOUNT)if(s.sid&&s.prompt===fi.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),c.addSid(s.sid);else if(s.account){var g=this.extractAccountSid(s.account);if(g&&s.prompt===fi.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),c.addSid(g);try{var y=ao(s.account.homeAccountId);c.addCcsOid(y)}catch(w){this.logger.verbose("Could not parse home account ID for CCS Header: "+w)}}else if(s.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),c.addLoginHint(s.loginHint),c.addCcsUpn(s.loginHint);else if(s.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),c.addLoginHint(s.account.username);try{y=ao(s.account.homeAccountId),c.addCcsOid(y)}catch(w){this.logger.verbose("Could not parse home account ID for CCS Header: "+w)}}}else s.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),c.addLoginHint(s.loginHint),c.addCcsUpn(s.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return s.nonce&&c.addNonce(s.nonce),s.state&&c.addState(s.state),(!$.isEmpty(s.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&c.addClaims(s.claims,this.config.authOptions.clientCapabilities),s.extraQueryParameters&&c.addExtraQueryParameters(s.extraQueryParameters),c.createQueryString()},o.prototype.createLogoutUrlQueryString=function(s){var c=new lo;return s.postLogoutRedirectUri&&c.addPostLogoutRedirectUri(s.postLogoutRedirectUri),s.correlationId&&c.addCorrelationId(s.correlationId),s.idTokenHint&&c.addIdTokenHint(s.idTokenHint),s.state&&c.addState(s.state),s.logoutHint&&c.addLogoutHint(s.logoutHint),s.extraQueryParameters&&c.addExtraQueryParameters(s.extraQueryParameters),c.createQueryString()},o.prototype.extractAccountSid=function(s){return s.idTokenClaims&&s.idTokenClaims.sid||null},o}(vi),ps=function(u){function o(s){return u.call(this,s)||this}return Ln(o,u),o.prototype.acquireToken=function(s){return ae(this,void 0,void 0,function(){var c,h,p;return ce(this,function(g){switch(g.label){case 0:return c=tr.nowSeconds(),[4,this.executeTokenRequest(s,this.authority)];case 1:return h=g.sent(),(p=new wi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(h.body),[2,p.handleServerTokenResponse(h.body,this.authority,c,s,void 0,void 0,!0)]}})})},o.prototype.acquireTokenByRefreshToken=function(s){return ae(this,void 0,void 0,function(){var h;return ce(this,function(p){if(!s)throw Ke.createEmptyTokenRequestError();if(!s.account)throw z.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(s.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(s,!0)]}catch(g){if(h=g instanceof ls&&"invalid_grant"===g.errorCode&&"client_mismatch"===g.subError,g instanceof yr&&"no_tokens_found"===g.errorCode||h)return[2,this.acquireTokenWithCachedRefreshToken(s,!1)];throw g}return[2,this.acquireTokenWithCachedRefreshToken(s,!1)]})})},o.prototype.acquireTokenWithCachedRefreshToken=function(s,c){return ae(this,void 0,void 0,function(){var h,p;return ce(this,function(g){if(!(h=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,s.account,c)))throw yr.createNoTokensFoundError();return p=rn(rn({},s),{refreshToken:h.secret,authenticationScheme:s.authenticationScheme||ot.BEARER,ccsCredential:{credential:s.account.homeAccountId,type:on.HOME_ACCOUNT_ID}}),[2,this.acquireToken(p)]})})},o.prototype.executeTokenRequest=function(s,c){return ae(this,void 0,void 0,function(){var h,p,g,y,w;return ce(this,function(E){switch(E.label){case 0:return[4,this.createTokenRequestBody(s)];case 1:return h=E.sent(),p=this.createTokenQueryParameters(s),g=this.createTokenRequestHeaders(s.ccsCredential),y={clientId:this.config.authOptions.clientId,authority:c.canonicalAuthority,scopes:s.scopes,claims:s.claims,authenticationScheme:s.authenticationScheme,resourceRequestMethod:s.resourceRequestMethod,resourceRequestUri:s.resourceRequestUri,shrClaims:s.shrClaims,sshKid:s.sshKid},w=He.appendQueryString(c.tokenEndpoint,p),[2,this.executePostToTokenEndpoint(w,h,g,y)]}})})},o.prototype.createTokenQueryParameters=function(s){var c=new lo;return s.tokenQueryParameters&&c.addExtraQueryParameters(s.tokenQueryParameters),c.createQueryString()},o.prototype.createTokenRequestBody=function(s){return ae(this,void 0,void 0,function(){var c,h,p,g,y;return ce(this,function(w){switch(w.label){case 0:return(c=new lo).addClientId(this.config.authOptions.clientId),c.addScopes(s.scopes),c.addGrantType(Lc.REFRESH_TOKEN_GRANT),c.addClientInfo(),c.addLibraryInfo(this.config.libraryInfo),c.addThrottling(),this.serverTelemetryManager&&c.addServerTelemetry(this.serverTelemetryManager),h=s.correlationId||this.config.cryptoInterface.createNewGuid(),c.addCorrelationId(h),c.addRefreshToken(s.refreshToken),this.config.clientCredentials.clientSecret&&c.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(c.addClientAssertion((p=this.config.clientCredentials.clientAssertion).assertion),c.addClientAssertionType(p.assertionType)),s.authenticationScheme!==ot.POP?[3,2]:[4,new Zc(this.cryptoUtils).generateCnf(s)];case 1:return g=w.sent(),c.addPopToken(g),[3,3];case 2:if(s.authenticationScheme===ot.SSH){if(!s.sshJwk)throw Ke.createMissingSshJwkError();c.addSshJwk(s.sshJwk)}w.label=3;case 3:if((!$.isEmptyObj(s.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&c.addClaims(s.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&s.ccsCredential)switch(s.ccsCredential.type){case on.HOME_ACCOUNT_ID:try{y=ao(s.ccsCredential.credential),c.addCcsOid(y)}catch(E){this.logger.verbose("Could not parse home account ID for CCS Header: "+E)}break;case on.UPN:c.addCcsUpn(s.ccsCredential.credential)}return[2,c.createQueryString()]}})})},o}(vi),yf=function(u){function o(s){return u.call(this,s)||this}return Ln(o,u),o.prototype.acquireToken=function(s){return ae(this,void 0,void 0,function(){var c;return ce(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this.acquireCachedToken(s)];case 1:return[2,h.sent()];case 2:if((c=h.sent())instanceof z&&c.errorCode===rs_code)return[2,new ps(this.config).acquireTokenByRefreshToken(s)];throw c;case 3:return[2]}})})},o.prototype.acquireCachedToken=function(s){var c,h,p,g;return ae(this,void 0,void 0,function(){var y,w;return ce(this,function(E){switch(E.label){case 0:if(!s)throw Ke.createEmptyTokenRequestError();if(s.forceRefresh)throw null===(c=this.serverTelemetryManager)||void 0===c||c.setCacheOutcome(Fr.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),z.createRefreshRequiredError();if(!s.account)throw z.createNoAccountInSilentRequestError();if(y=s.authority||this.authority.getPreferredCache(),!(w=this.cacheManager.readCacheRecord(s.account,this.config.authOptions.clientId,s,y)).accessToken)throw null===(h=this.serverTelemetryManager)||void 0===h||h.setCacheOutcome(Fr.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),z.createRefreshRequiredError();if(tr.wasClockTurnedBack(w.accessToken.cachedAt)||tr.isTokenExpired(w.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(p=this.serverTelemetryManager)||void 0===p||p.setCacheOutcome(Fr.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),z.createRefreshRequiredError();if(w.accessToken.refreshOn&&tr.isTokenExpired(w.accessToken.refreshOn,0))throw null===(g=this.serverTelemetryManager)||void 0===g||g.setCacheOutcome(Fr.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),z.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(w,s)];case 1:return[2,E.sent()]}})})},o.prototype.generateResultFromCacheRecord=function(s,c){return ae(this,void 0,void 0,function(){var h;return ce(this,function(p){switch(p.label){case 0:return s.idToken&&(h=new er(s.idToken.secret,this.config.cryptoInterface)),[4,wi.generateAuthenticationResult(this.cryptoUtils,this.authority,s,!0,c,h)];case 1:return[2,p.sent()]}})})},o}(vi);function Jl(u){return u.hasOwnProperty("authorization_endpoint")&&u.hasOwnProperty("token_endpoint")&&u.hasOwnProperty("issuer")}!function(u){u.AAD="AAD",u.OIDC="OIDC"}(da||(da={}));var Qt,nr,qe,Ei,vt,G,Xl,ha=function(){function u(){this.expiresAt=tr.nowSeconds()+86400}return u.prototype.updateCloudDiscoveryMetadata=function(o,s){this.aliases=o.aliases,this.preferred_cache=o.preferred_cache,this.preferred_network=o.preferred_network,this.aliasesFromNetwork=s},u.prototype.updateEndpointMetadata=function(o,s){this.authorization_endpoint=o.authorization_endpoint,this.token_endpoint=o.token_endpoint,this.end_session_endpoint=o.end_session_endpoint,this.issuer=o.issuer,this.endpointsFromNetwork=s},u.prototype.updateCanonicalAuthority=function(o){this.canonical_authority=o},u.prototype.resetExpiresAt=function(){this.expiresAt=tr.nowSeconds()+86400},u.prototype.isExpired=function(){return this.expiresAt<=tr.nowSeconds()},u.isAuthorityMetadataEntity=function(o,s){return!!s&&0===o.indexOf(Uc)&&s.hasOwnProperty("aliases")&&s.hasOwnProperty("preferred_cache")&&s.hasOwnProperty("preferred_network")&&s.hasOwnProperty("canonical_authority")&&s.hasOwnProperty("authorization_endpoint")&&s.hasOwnProperty("token_endpoint")&&s.hasOwnProperty("issuer")&&s.hasOwnProperty("aliasesFromNetwork")&&s.hasOwnProperty("endpointsFromNetwork")&&s.hasOwnProperty("expiresAt")},u}(),ed=function(){function u(o){this.networkInterface=o}return u.prototype.detectRegion=function(o,s,c){return ae(this,void 0,void 0,function(){var h,p,g,y,w;return ce(this,function(E){switch(E.label){case 0:if(h=o)return[3,8];p=u.IMDS_OPTIONS,c&&(p.proxyUrl=c),E.label=1;case 1:return E.trys.push([1,6,,7]),[4,this.getRegionFromIMDS(H.IMDS_VERSION,p)];case 2:return(g=E.sent()).status===ko.httpSuccess&&(h=g.body,s.region_source=xr.IMDS),g.status!==ko.httpBadRequest?[3,5]:[4,this.getCurrentVersion(p)];case 3:return(y=E.sent())?[4,this.getRegionFromIMDS(y,p)]:(s.region_source=xr.FAILED_AUTO_DETECTION,[2,null]);case 4:(w=E.sent()).status===ko.httpSuccess&&(h=w.body,s.region_source=xr.IMDS),E.label=5;case 5:return[3,7];case 6:return E.sent(),s.region_source=xr.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:s.region_source=xr.ENVIRONMENT_VARIABLE,E.label=9;case 9:return h||(s.region_source=xr.FAILED_AUTO_DETECTION),[2,h||null]}})})},u.prototype.getRegionFromIMDS=function(o,s){return ae(this,void 0,void 0,function(){return ce(this,function(c){return[2,this.networkInterface.sendGetRequestAsync(H.IMDS_ENDPOINT+"?api-version="+o+"&format=text",s,H.IMDS_TIMEOUT)]})})},u.prototype.getCurrentVersion=function(o){return ae(this,void 0,void 0,function(){var s;return ce(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(H.IMDS_ENDPOINT+"?format=json",o)];case 1:return(s=c.sent()).status===ko.httpBadRequest&&s.body&&s.body["newest-versions"]&&s.body["newest-versions"].length>0?[2,s.body["newest-versions"][0]]:[2,null];case 2:return c.sent(),[2,null];case 3:return[2]}})})},u.IMDS_OPTIONS={headers:{Metadata:"true"}},u}(),gs=function(){function u(o,s,c,h,p){this.canonicalAuthority=o,this._canonicalAuthority.validateAsUri(),this.networkInterface=s,this.cacheManager=c,this.authorityOptions=h,this.regionDiscovery=new ed(s),this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.proxyUrl=p||H.EMPTY_STRING}return Object.defineProperty(u.prototype,"authorityType",{get:function(){var o=this.canonicalAuthorityUrlComponents.PathSegments;return o.length&&o[0].toLowerCase()===H.ADFS?so.Adfs:so.Default},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(o){this._canonicalAuthority=new He(o),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var o=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(o)}throw z.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var o=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(o)}throw z.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var o=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(o)}throw z.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw z.createLogoutNotSupportedError();var o=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(o)}throw z.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var o=this.replacePath(this.metadata.issuer);return this.replaceTenant(o)}throw z.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),u.prototype.replaceTenant=function(o){return o.replace(/{tenant}|{tenantid}/g,this.tenant)},u.prototype.replacePath=function(o){var s=o,c=new He(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(function(h,p){var g=c[p];h!==g&&(s=s.replace("/"+g+"/","/"+h+"/"))}),s},Object.defineProperty(u.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===so.Adfs||this.protocolMode===da.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),u.prototype.discoveryComplete=function(){return!!this.metadata},u.prototype.resolveEndpointsAsync=function(){return ae(this,void 0,void 0,function(){var o,s,c,h;return ce(this,function(p){switch(p.label){case 0:return(o=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(o=new ha).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(o)];case 1:return s=p.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,o.preferred_network),[4,this.updateEndpointMetadata(o)];case 2:return c=p.sent(),s!==zt.CACHE&&c!==zt.CACHE&&(o.resetExpiresAt(),o.updateCanonicalAuthority(this.canonicalAuthority)),h=this.cacheManager.generateAuthorityMetadataCacheKey(o.preferred_cache),this.cacheManager.setAuthorityMetadata(h,o),this.metadata=o,[2]}})})},u.prototype.updateEndpointMetadata=function(o){var s;return ae(this,void 0,void 0,function(){var c,h,p;return ce(this,function(g){switch(g.label){case 0:return(c=this.getEndpointMetadataFromConfig())?(o.updateEndpointMetadata(c,!1),[2,zt.CONFIG]):this.isAuthoritySameType(o)&&o.endpointsFromNetwork&&!o.isExpired()?[2,zt.CACHE]:[4,this.getEndpointMetadataFromNetwork()];case 1:return(c=g.sent())?(null===(s=this.authorityOptions.azureRegionConfiguration)||void 0===s?void 0:s.azureRegion)?[4,this.regionDiscovery.detectRegion(this.authorityOptions.azureRegionConfiguration.environmentRegion,this.regionDiscoveryMetadata,this.proxyUrl)]:[3,3]:[3,4];case 2:h=g.sent(),p=this.authorityOptions.azureRegionConfiguration.azureRegion===H.AZURE_REGION_AUTO_DISCOVER_FLAG?h:this.authorityOptions.azureRegionConfiguration.azureRegion,this.regionDiscoveryMetadata.region_outcome=this.authorityOptions.azureRegionConfiguration.azureRegion===H.AZURE_REGION_AUTO_DISCOVER_FLAG?h?Po.AUTO_DETECTION_REQUESTED_SUCCESSFUL:Po.AUTO_DETECTION_REQUESTED_FAILED:h?this.authorityOptions.azureRegionConfiguration.azureRegion===h?Po.CONFIGURED_MATCHES_DETECTED:Po.CONFIGURED_NOT_DETECTED:Po.CONFIGURED_NO_AUTO_DETECTION,p&&(this.regionDiscoveryMetadata.region_used=p,c=u.replaceWithRegionalInformation(c,p)),g.label=3;case 3:return o.updateEndpointMetadata(c,!0),[2,zt.NETWORK];case 4:throw z.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},u.prototype.isAuthoritySameType=function(o){return new He(o.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},u.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(o){throw Ke.createInvalidAuthorityMetadataError()}return null},u.prototype.getEndpointMetadataFromNetwork=function(){return ae(this,void 0,void 0,function(){var o,s;return ce(this,function(c){switch(c.label){case 0:o={},this.proxyUrl&&(o.proxyUrl=this.proxyUrl),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,o)];case 2:return[2,Jl((s=c.sent()).body)?s.body:null];case 3:return c.sent(),[2,null];case 4:return[2]}})})},u.prototype.updateCloudDiscoveryMetadata=function(o){return ae(this,void 0,void 0,function(){var s;return ce(this,function(c){switch(c.label){case 0:return(s=this.getCloudDiscoveryMetadataFromConfig())?(o.updateCloudDiscoveryMetadata(s,!1),[2,zt.CONFIG]):this.isAuthoritySameType(o)&&o.aliasesFromNetwork&&!o.isExpired()?[2,zt.CACHE]:[4,this.getCloudDiscoveryMetadataFromNetwork()];case 1:if(s=c.sent())return o.updateCloudDiscoveryMetadata(s,!0),[2,zt.NETWORK];throw Ke.createUntrustedAuthorityError()}})})},u.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata)try{var o=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),s=u.getCloudDiscoveryMetadataFromNetworkResponse(o.metadata,this.hostnameAndPort);if(s)return s}catch(c){throw Ke.createInvalidCloudDiscoveryMetadataError()}return this.isInKnownAuthorities()?u.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort):null},u.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return ae(this,void 0,void 0,function(){var o,s,c,h,p;return ce(this,function(g){switch(g.label){case 0:o=""+H.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",s={},this.proxyUrl&&(s.proxyUrl=this.proxyUrl),c=null,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(o,s)];case 2:return h=g.sent(),0===(p=(y=h.body).hasOwnProperty("tenant_discovery_endpoint")&&y.hasOwnProperty("metadata")?h.body.metadata:[]).length?[2,null]:(c=u.getCloudDiscoveryMetadataFromNetworkResponse(p,this.hostnameAndPort),[3,4]);case 3:return g.sent(),[2,null];case 4:return c||(c=u.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,c]}var y})})},u.prototype.isInKnownAuthorities=function(){var o=this;return this.authorityOptions.knownAuthorities.filter(function(s){return He.getDomainFromUrl(s).toLowerCase()===o.hostnameAndPort}).length>0},u.generateAuthority=function(o,s){var c;return s&&s.azureCloudInstance!==pr.None&&(c=s.azureCloudInstance+"/"+(s.tenant?s.tenant:H.DEFAULT_COMMON_TENANT)+"/"),c||o},u.createCloudDiscoveryMetadataFromHost=function(o){return{preferred_network:o,preferred_cache:o,aliases:[o]}},u.getCloudDiscoveryMetadataFromNetworkResponse=function(o,s){for(var c=0;c<o.length;c++){var h=o[c];if(h.aliases.indexOf(s)>-1)return h}return null},u.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw z.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},u.prototype.isAlias=function(o){return this.metadata.aliases.indexOf(o)>-1},u.isPublicCloudAuthority=function(o){return H.KNOWN_PUBLIC_CLOUDS.indexOf(o)>=0},u.buildRegionalAuthorityString=function(o,s,c){var h=new He(o);h.validateAsUri();var p=h.getUrlComponents(),g=s+"."+p.HostNameAndPort;this.isPublicCloudAuthority(p.HostNameAndPort)&&(g=s+"."+H.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var y=He.constructAuthorityUriFromObject(rn(rn({},h.getUrlComponents()),{HostNameAndPort:g})).urlString;return c?y+"?"+c:y},u.replaceWithRegionalInformation=function(o,s){return o.authorization_endpoint=u.buildRegionalAuthorityString(o.authorization_endpoint,s),o.token_endpoint=u.buildRegionalAuthorityString(o.token_endpoint,s,"allowestsrnonmsi=true"),o.end_session_endpoint&&(o.end_session_endpoint=u.buildRegionalAuthorityString(o.end_session_endpoint,s)),o},u}(),Ho=function(){function u(){}return u.createDiscoveredInstance=function(o,s,c,h,p){return ae(this,void 0,void 0,function(){var g,y;return ce(this,function(w){switch(w.label){case 0:g=u.createInstance(o,s,c,h,p),w.label=1;case 1:return w.trys.push([1,3,,4]),[4,g.resolveEndpointsAsync()];case 2:return w.sent(),[2,g];case 3:throw y=w.sent(),z.createEndpointDiscoveryIncompleteError(y);case 4:return[2]}})})},u.createInstance=function(o,s,c,h,p){if($.isEmpty(o))throw Ke.createUrlEmptyError();return new gs(o,s,c,h,p)},u}(),fa=function(){function u(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return u.isServerTelemetryEntity=function(o,s){var c=0===o.indexOf(Pt.CACHE_KEY),h=!0;return s&&(h=s.hasOwnProperty("failedRequests")&&s.hasOwnProperty("errors")&&s.hasOwnProperty("cacheHits")),c&&h},u}(),pa=function(){function u(){}return u.isThrottlingEntity=function(o,s){var c=!1;o&&(c=0===o.indexOf(ea));var h=!0;return s&&(h=s.hasOwnProperty("throttleTime")),c&&h},u}(),ms={sendGetRequestAsync:function(){return Promise.reject(X.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(X.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},bi=function(){function u(o,s){this.cacheOutcome=Fr.NO_CACHE_HIT,this.cacheManager=s,this.apiId=o.apiId,this.correlationId=o.correlationId,this.wrapperSKU=o.wrapperSKU||H.EMPTY_STRING,this.wrapperVer=o.wrapperVer||H.EMPTY_STRING,this.telemetryCacheKey=Pt.CACHE_KEY+dn.CACHE_KEY_SEPARATOR+o.clientId}return u.prototype.generateCurrentRequestHeaderValue=function(){var o=""+this.apiId+Pt.VALUE_SEPARATOR+this.cacheOutcome,s=[this.wrapperSKU,this.wrapperVer].join(Pt.VALUE_SEPARATOR),c=[o,this.getRegionDiscoveryFields()].join(Pt.VALUE_SEPARATOR);return[Pt.SCHEMA_VERSION,c,s].join(Pt.CATEGORY_SEPARATOR)},u.prototype.generateLastRequestHeaderValue=function(){var o=this.getLastRequests(),s=u.maxErrorsToSend(o),c=o.failedRequests.slice(0,2*s).join(Pt.VALUE_SEPARATOR),h=o.errors.slice(0,s).join(Pt.VALUE_SEPARATOR),p=o.errors.length,g=[p,s<p?Pt.OVERFLOW_TRUE:Pt.OVERFLOW_FALSE].join(Pt.VALUE_SEPARATOR);return[Pt.SCHEMA_VERSION,o.cacheHits,c,h,g].join(Pt.CATEGORY_SEPARATOR)},u.prototype.cacheFailedRequest=function(o){var s=this.getLastRequests();s.errors.length>=Pt.MAX_CACHED_ERRORS&&(s.failedRequests.shift(),s.failedRequests.shift(),s.errors.shift()),s.failedRequests.push(this.apiId,this.correlationId),$.isEmpty(o.subError)?$.isEmpty(o.errorCode)?o&&o.toString()?s.errors.push(o.toString()):s.errors.push(Pt.UNKNOWN_ERROR):s.errors.push(o.errorCode):s.errors.push(o.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,s)},u.prototype.incrementCacheHits=function(){var o=this.getLastRequests();return o.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o),o.cacheHits},u.prototype.getLastRequests=function(){var o=new fa;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||o},u.prototype.clearTelemetryCache=function(){var o=this.getLastRequests(),s=u.maxErrorsToSend(o);if(s===o.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var c=new fa;c.failedRequests=o.failedRequests.slice(2*s),c.errors=o.errors.slice(s),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,c)}},u.maxErrorsToSend=function(o){var s,c=0,h=0,p=o.errors.length;for(s=0;s<p;s++){var y=o.failedRequests[2*s+1]||H.EMPTY_STRING,w=o.errors[s]||H.EMPTY_STRING;if(!((h+=(o.failedRequests[2*s]||H.EMPTY_STRING).toString().length+y.toString().length+w.length+3)<Pt.MAX_LAST_HEADER_BYTES))break;c+=1}return c},u.prototype.getRegionDiscoveryFields=function(){var o=[];return o.push(this.regionUsed||""),o.push(this.regionSource||""),o.push(this.regionOutcome||""),o.join(",")},u.prototype.updateRegionDiscoveryMetadata=function(o){this.regionUsed=o.region_used,this.regionSource=o.region_source,this.regionOutcome=o.region_outcome},u.prototype.setCacheOutcome=function(o){this.cacheOutcome=o},u}(),ys="msal",vf="msal.js.browser";(function(u){u.LocalStorage="localStorage",u.SessionStorage="sessionStorage",u.MemoryStorage="memoryStorage"})(Qt||(Qt={})),function(u){u.GET="GET",u.POST="POST"}(nr||(nr={})),function(u){u.AUTHORITY="authority",u.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",u.SESSION_STATE="session.state",u.REQUEST_STATE="request.state",u.NONCE_IDTOKEN="nonce.id_token",u.ORIGIN_URI="request.origin",u.RENEW_STATUS="token.renew.status",u.URL_HASH="urlHash",u.REQUEST_PARAMS="request.params",u.SCOPES="scopes",u.INTERACTION_STATUS_KEY="interaction.status",u.CCS_CREDENTIAL="ccs.credential",u.CORRELATION_ID="request.correlationId"}(qe||(qe={})),function(u){u.WRAPPER_SKU="wrapper.sku",u.WRAPPER_VER="wrapper.version"}(Ei||(Ei={})),function(u){u[u.acquireTokenRedirect=861]="acquireTokenRedirect",u[u.acquireTokenPopup=862]="acquireTokenPopup",u[u.ssoSilent=863]="ssoSilent",u[u.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",u[u.handleRedirectPromise=865]="handleRedirectPromise",u[u.acquireTokenByCode=866]="acquireTokenByCode",u[u.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",u[u.logout=961]="logout",u[u.logoutPopup=962]="logoutPopup"}(vt||(vt={})),function(u){u.Redirect="redirect",u.Popup="popup",u.Silent="silent",u.None="none"}(G||(G={})),function(u){u.Startup="startup",u.Login="login",u.Logout="logout",u.AcquireToken="acquireToken",u.SsoSilent="ssoSilent",u.HandleRedirect="handleRedirect",u.None="none"}(Xl||(Xl={}));var td,ke={scopes:xc};!function(u){u.React="@azure/msal-react",u.Angular="@azure/msal-angular"}(td||(td={}));var oe,Yt=function(){function u(){}return u.decimalToHex=function(o){for(var s=o.toString(16);s.length<2;)s="0"+s;return s},u}(),Bm=function(){function u(o){this.cryptoObj=o}return u.prototype.generateGuid=function(){try{var o=new Uint8Array(16);return this.cryptoObj.getRandomValues(o),o[6]|=64,o[6]&=79,o[8]|=128,o[8]&=191,Yt.decimalToHex(o[0])+Yt.decimalToHex(o[1])+Yt.decimalToHex(o[2])+Yt.decimalToHex(o[3])+"-"+Yt.decimalToHex(o[4])+Yt.decimalToHex(o[5])+"-"+Yt.decimalToHex(o[6])+Yt.decimalToHex(o[7])+"-"+Yt.decimalToHex(o[8])+Yt.decimalToHex(o[9])+"-"+Yt.decimalToHex(o[10])+Yt.decimalToHex(o[11])+Yt.decimalToHex(o[12])+Yt.decimalToHex(o[13])+Yt.decimalToHex(o[14])+Yt.decimalToHex(o[15])}catch(y){for(var s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",c="0123456789abcdef",h=0,p="",g=0;g<36;g++)"-"!==s[g]&&"4"!==s[g]&&(h=16*Math.random()|0),"x"===s[g]?p+=c[h]:"y"===s[g]?(h&=3,p+=c[h|=8]):p+=s[g];return p}},u.isGuid=function(o){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(o)},u}(),vs=function(){function u(){}return u.stringToUtf8Arr=function(o){for(var s,c=0,h=o.length,p=0;p<h;p++)c+=(s=o.charCodeAt(p))<128?1:s<2048?2:s<65536?3:s<2097152?4:s<67108864?5:6;for(var g=new Uint8Array(c),y=0,w=0;y<c;w++)(s=o.charCodeAt(w))<128?g[y++]=s:s<2048?(g[y++]=192+(s>>>6),g[y++]=128+(63&s)):s<65536?(g[y++]=224+(s>>>12),g[y++]=128+(s>>>6&63),g[y++]=128+(63&s)):s<2097152?(g[y++]=240+(s>>>18),g[y++]=128+(s>>>12&63),g[y++]=128+(s>>>6&63),g[y++]=128+(63&s)):s<67108864?(g[y++]=248+(s>>>24),g[y++]=128+(s>>>18&63),g[y++]=128+(s>>>12&63),g[y++]=128+(s>>>6&63),g[y++]=128+(63&s)):(g[y++]=252+(s>>>30),g[y++]=128+(s>>>24&63),g[y++]=128+(s>>>18&63),g[y++]=128+(s>>>12&63),g[y++]=128+(s>>>6&63),g[y++]=128+(63&s));return g},u.stringToArrayBuffer=function(o){for(var s=new ArrayBuffer(o.length),c=new Uint8Array(s),h=0;h<o.length;h++)c[h]=o.charCodeAt(h);return s},u.utf8ArrToString=function(o){for(var s="",c=void 0,h=o.length,p=0;p<h;p++)c=o[p],s+=String.fromCharCode(c>251&&c<254&&p+5<h?1073741824*(c-252)+(o[++p]-128<<24)+(o[++p]-128<<18)+(o[++p]-128<<12)+(o[++p]-128<<6)+o[++p]-128:c>247&&c<252&&p+4<h?(c-248<<24)+(o[++p]-128<<18)+(o[++p]-128<<12)+(o[++p]-128<<6)+o[++p]-128:c>239&&c<248&&p+3<h?(c-240<<18)+(o[++p]-128<<12)+(o[++p]-128<<6)+o[++p]-128:c>223&&c<240&&p+2<h?(c-224<<12)+(o[++p]-128<<6)+o[++p]-128:c>191&&c<224&&p+1<h?(c-192<<6)+o[++p]-128:c);return s},u}(),Cf=function(){function u(){}return u.prototype.urlEncode=function(o){return encodeURIComponent(this.encode(o).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))},u.prototype.urlEncodeArr=function(o){return this.base64EncArr(o).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},u.prototype.encode=function(o){var s=vs.stringToUtf8Arr(o);return this.base64EncArr(s)},u.prototype.base64EncArr=function(o){for(var s=(3-o.length%3)%3,c="",h=void 0,p=o.length,g=0,y=0;y<p;y++)g|=o[y]<<(16>>>(h=y%3)&24),2!==h&&o.length-y!=1||(c+=String.fromCharCode(this.uint6ToB64(g>>>18&63),this.uint6ToB64(g>>>12&63),this.uint6ToB64(g>>>6&63),this.uint6ToB64(63&g)),g=0);return 0===s?c:c.substring(0,c.length-s)+(1===s?"=":"==")},u.prototype.uint6ToB64=function(o){return o<26?o+65:o<52?o+71:o<62?o-4:62===o?43:63===o?47:65},u}(),Vm=function(){function u(){}return u.prototype.decode=function(o){var s=o.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("Invalid base64 string")}var c=this.base64DecToArr(s);return vs.utf8ArrToString(c)},u.prototype.base64DecToArr=function(o,s){for(var c=o.replace(/[^A-Za-z0-9\+\/]/g,""),h=c.length,p=s?Math.ceil((3*h+1>>>2)/s)*s:3*h+1>>>2,g=new Uint8Array(p),y=void 0,w=void 0,E=0,_=0,S=0;S<h;S++)if(w=3&S,E|=this.b64ToUint6(c.charCodeAt(S))<<18-6*w,3===w||h-S==1){for(y=0;y<3&&_<p;y++,_++)g[_]=E>>>(16>>>y&24)&255;E=0}return g},u.prototype.b64ToUint6=function(o){return o>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:43===o?62:47===o?63:0},u}(),K=function(u){function o(s,c){var h=u.call(this,s,c)||this;return Object.setPrototypeOf(h,o.prototype),h.name="BrowserAuthError",h}return nn(o,u),o.createPkceNotGeneratedError=function(s){return new o("pkce_not_created","The PKCE code challenge and verifier could not be generated. Detail:"+s)},o.createCryptoNotAvailableError=function(s){return new o("crypto_nonexistent","The crypto object or function is not available. Detail:"+s)},o.createHttpMethodNotImplementedError=function(s){return new o("http_method_not_implemented","The HTTP method given has not been implemented in this library. Given Method: "+s)},o.createEmptyNavigationUriError=function(){return new o("empty_navigate_uri","Navigation URI is empty. Please check stack trace for more info.")},o.createEmptyHashError=function(s){return new o("hash_empty_error","Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. Given Url: "+s)},o.createHashDoesNotContainStateError=function(){return new o("no_state_in_hash","Hash does not contain state. Please verify that the request originated from msal.")},o.createHashDoesNotContainKnownPropertiesError=function(){return new o("hash_does_not_contain_known_properties","Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.")},o.createUnableToParseStateError=function(){return new o("unable_to_parse_state","Unable to parse state. Please verify that the request originated from msal.")},o.createStateInteractionTypeMismatchError=function(){return new o("state_interaction_type_mismatch","Hash contains state but the interaction type does not match the caller.")},o.createInteractionInProgressError=function(){return new o("interaction_in_progress","Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors.")},o.createPopupWindowError=function(s){var c="Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.";return new o("popup_window_error",c=$.isEmpty(s)?c:c+" Details: "+s)},o.createEmptyWindowCreatedError=function(){return new o("empty_window_error","window.open returned null or undefined window object.")},o.createUserCancelledError=function(){return new o("user_cancelled","User cancelled the flow.")},o.createMonitorPopupTimeoutError=function(){return new o("monitor_window_timeout","Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.")},o.createMonitorIframeTimeoutError=function(){return new o("monitor_window_timeout","Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.")},o.createRedirectInIframeError=function(s){return new o("redirect_in_iframe","Code flow is not supported inside an iframe. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs. (window.parent !== window) => "+s)},o.createBlockReloadInHiddenIframeError=function(){return new o("block_iframe_reload","Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors")},o.createBlockAcquireTokenInPopupsError=function(){return new o("block_nested_popups","Request was blocked inside a popup because MSAL detected it was running in a popup.")},o.createIframeClosedPrematurelyError=function(){return new o("iframe_closed_prematurely","The iframe being monitored was closed prematurely.")},o.createSilentLogoutUnsupportedError=function(){return new o("silent_logout_unsupported","Silent logout not supported. Please call logoutRedirect or logoutPopup instead.")},o.createNoAccountError=function(){return new o("no_account_error","No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.")},o.createSilentPromptValueError=function(s){return new o("silent_prompt_value_error","The value given for the prompt value is not valid for silent requests - must be set to 'none'. Given value: "+s)},o.createUnableToParseTokenRequestCacheError=function(){return new o("unable_to_parse_token_request_cache_error","The cached token request could not be parsed.")},o.createNoTokenRequestCacheError=function(){return new o("no_token_request_cache_error","No token request found in cache.")},o.createAuthRequestNotSetError=function(){return new o("auth_request_not_set_error","Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler")},o.createNoCachedAuthorityError=function(){return new o("no_cached_authority_error","No cached authority found.")},o.createInvalidCacheTypeError=function(){return new o("invalid_cache_type","Invalid cache type")},o.createNonBrowserEnvironmentError=function(){return new o("non_browser_environment","Login and token requests are not supported in non-browser environments.")},o.createDatabaseNotOpenError=function(){return new o("database_not_open","Database is not open!")},o.createNoNetworkConnectivityError=function(){return new o("no_network_connectivity","No network connectivity. Check your internet connection.")},o.createPostRequestFailedError=function(s,c){return new o("post_request_failed","Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA' | Network client threw: "+s+" | Attempted to reach: "+c.split("?")[0])},o.createGetRequestFailedError=function(s,c){return new o("get_request_failed","Network request failed. Please check the network trace to determine root cause. | Network client threw: "+s+" | Attempted to reach: "+c.split("?")[0])},o.createFailedToParseNetworkResponseError=function(s){return new o("failed_to_parse_response","Failed to parse network response. Check network trace. | Attempted to reach: "+s.split("?")[0])},o.createUnableToLoadTokenError=function(s){return new o("unable_to_load_token","Error loading token to cache. | "+s)},o.createSigningKeyNotFoundInStorageError=function(s){return new o("crypto_key_not_found","Cryptographic Key or Keypair not found in browser storage. | No match found for KeyId: "+s)},o.createAuthCodeRequiredError=function(){return new o("auth_code_required","An authorization code must be provided (as the `code` property on the request) to this flow.")},o.createDatabaseUnavailableError=function(){return new o("database_unavailable","IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},o}(X),If=function(){function u(o){this.base64Encode=new Cf,this.cryptoObj=o}return u.prototype.generateCodes=function(){return F(this,void 0,void 0,function(){var o,s;return U(this,function(c){switch(c.label){case 0:return o=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(o)];case 1:return s=c.sent(),[2,{verifier:o,challenge:s}]}})})},u.prototype.generateCodeVerifier=function(){try{var o=new Uint8Array(32);return this.cryptoObj.getRandomValues(o),this.base64Encode.urlEncodeArr(o)}catch(s){throw K.createPkceNotGeneratedError(s)}},u.prototype.generateCodeChallengeFromVerifier=function(o){return F(this,void 0,void 0,function(){var s,c;return U(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(o)];case 1:return s=h.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(s))];case 2:throw c=h.sent(),K.createPkceNotGeneratedError(c);case 3:return[2]}})})},u}(),Rf=new Uint8Array([1,0,1]),Ca=function(){function u(o){if(this.logger=o,!this.hasCryptoAPI())throw K.createCryptoNotAvailableError("Browser crypto or msCrypto object not available.");this._keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:Rf}}return u.prototype.sha256Digest=function(o){return F(this,void 0,void 0,function(){var s;return U(this,function(c){return s=vs.stringToUtf8Arr(o),[2,this.hasIECrypto()?this.getMSCryptoDigest("SHA-256",s):this.getSubtleCryptoDigest("SHA-256",s)]})})},u.prototype.getRandomValues=function(o){var s=window.msCrypto||window.crypto;if(!s.getRandomValues)throw K.createCryptoNotAvailableError("getRandomValues does not exist.");s.getRandomValues(o)},u.prototype.generateKeyPair=function(o,s){return F(this,void 0,void 0,function(){return U(this,function(c){return[2,this.hasIECrypto()?this.msCryptoGenerateKey(o,s):window.crypto.subtle.generateKey(this._keygenAlgorithmOptions,o,s)]})})},u.prototype.exportJwk=function(o){return F(this,void 0,void 0,function(){return U(this,function(s){return[2,this.hasIECrypto()?this.msCryptoExportJwk(o):window.crypto.subtle.exportKey("jwk",o)]})})},u.prototype.importJwk=function(o,s,c){return F(this,void 0,void 0,function(){var h,p;return U(this,function(g){return h=u.getJwkString(o),p=vs.stringToArrayBuffer(h),[2,this.hasIECrypto()?this.msCryptoImportKey(p,s,c):window.crypto.subtle.importKey("jwk",o,this._keygenAlgorithmOptions,s,c)]})})},u.prototype.sign=function(o,s){return F(this,void 0,void 0,function(){return U(this,function(c){return[2,this.hasIECrypto()?this.msCryptoSign(o,s):window.crypto.subtle.sign(this._keygenAlgorithmOptions,o,s)]})})},u.prototype.hasCryptoAPI=function(){return this.hasIECrypto()||this.hasBrowserCrypto()},u.prototype.hasIECrypto=function(){return"msCrypto"in window},u.prototype.hasBrowserCrypto=function(){return"crypto"in window},u.prototype.getSubtleCryptoDigest=function(o,s){return F(this,void 0,void 0,function(){return U(this,function(c){return[2,window.crypto.subtle.digest(o,s)]})})},u.prototype.getMSCryptoDigest=function(o,s){return F(this,void 0,void 0,function(){return U(this,function(c){return[2,new Promise(function(h,p){var g=window.msCrypto.subtle.digest(o,s.buffer);g.addEventListener("complete",function(y){h(y.target.result)}),g.addEventListener("error",function(y){p(y)})})]})})},u.prototype.msCryptoGenerateKey=function(o,s){return F(this,void 0,void 0,function(){var c=this;return U(this,function(h){return[2,new Promise(function(p,g){var y=window.msCrypto.subtle.generateKey(c._keygenAlgorithmOptions,o,s);y.addEventListener("complete",function(w){p(w.target.result)}),y.addEventListener("error",function(w){g(w)})})]})})},u.prototype.msCryptoExportJwk=function(o){return F(this,void 0,void 0,function(){return U(this,function(s){return[2,new Promise(function(c,h){var p=window.msCrypto.subtle.exportKey("jwk",o);p.addEventListener("complete",function(g){var w=vs.utf8ArrToString(new Uint8Array(g.target.result)).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"").split(" ").join("").replace("\0","");try{c(JSON.parse(w))}catch(E){h(E)}}),p.addEventListener("error",function(g){h(g)})})]})})},u.prototype.msCryptoImportKey=function(o,s,c){return F(this,void 0,void 0,function(){var h=this;return U(this,function(p){return[2,new Promise(function(g,y){var w=window.msCrypto.subtle.importKey("jwk",o,h._keygenAlgorithmOptions,s,c);w.addEventListener("complete",function(E){g(E.target.result)}),w.addEventListener("error",function(E){y(E)})})]})})},u.prototype.msCryptoSign=function(o,s){return F(this,void 0,void 0,function(){var c=this;return U(this,function(h){return[2,new Promise(function(p,g){var y=window.msCrypto.subtle.sign(c._keygenAlgorithmOptions,o,s);y.addEventListener("complete",function(w){p(w.target.result)}),y.addEventListener("error",function(w){g(w)})})]})})},u.getJwkString=function(o){return JSON.stringify(o,Object.keys(o).sort())},u}(),Mf=function(){function u(){this.dbName="msal.db",this.version=1,this.tableName="msal.db.keys",this.dbOpen=!1}return u.prototype.open=function(){return F(this,void 0,void 0,function(){var o=this;return U(this,function(s){return[2,new Promise(function(c,h){var p=window.indexedDB.open(o.dbName,o.version);p.addEventListener("upgradeneeded",function(g){g.target.result.createObjectStore(o.tableName)}),p.addEventListener("success",function(g){o.db=g.target.result,o.dbOpen=!0,c()}),p.addEventListener("error",function(){return h(K.createDatabaseUnavailableError())})})]})})},u.prototype.validateDbIsOpen=function(){return F(this,void 0,void 0,function(){return U(this,function(o){switch(o.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,o.sent()];case 2:return[2]}})})},u.prototype.getItem=function(o){return F(this,void 0,void 0,function(){var s=this;return U(this,function(c){switch(c.label){case 0:return[4,this.validateDbIsOpen()];case 1:return c.sent(),[2,new Promise(function(h,p){if(!s.db)return p(K.createDatabaseNotOpenError());var g=s.db.transaction([s.tableName],"readonly").objectStore(s.tableName).get(o);g.addEventListener("success",function(y){h(y.target.result)}),g.addEventListener("error",function(y){return p(y)})})]}})})},u.prototype.setItem=function(o,s){return F(this,void 0,void 0,function(){var c=this;return U(this,function(h){switch(h.label){case 0:return[4,this.validateDbIsOpen()];case 1:return h.sent(),[2,new Promise(function(p,g){if(!c.db)return g(K.createDatabaseNotOpenError());var y=c.db.transaction([c.tableName],"readwrite").objectStore(c.tableName).put(s,o);y.addEventListener("success",function(){return p()}),y.addEventListener("error",function(w){return g(w)})})]}})})},u.prototype.removeItem=function(o){return F(this,void 0,void 0,function(){var s=this;return U(this,function(c){switch(c.label){case 0:return[4,this.validateDbIsOpen()];case 1:return c.sent(),[2,new Promise(function(h,p){if(!s.db)return p(K.createDatabaseNotOpenError());var g=s.db.transaction([s.tableName],"readwrite").objectStore(s.tableName).delete(o);g.addEventListener("success",function(){return h()}),g.addEventListener("error",function(y){return p(y)})})]}})})},u.prototype.getKeys=function(){return F(this,void 0,void 0,function(){var o=this;return U(this,function(s){switch(s.label){case 0:return[4,this.validateDbIsOpen()];case 1:return s.sent(),[2,new Promise(function(c,h){if(!o.db)return h(K.createDatabaseNotOpenError());var p=o.db.transaction([o.tableName],"readonly").objectStore(o.tableName).getAllKeys();p.addEventListener("success",function(g){c(g.target.result)}),p.addEventListener("error",function(g){return h(g)})})]}})})},u.prototype.containsKey=function(o){return F(this,void 0,void 0,function(){var s=this;return U(this,function(c){switch(c.label){case 0:return[4,this.validateDbIsOpen()];case 1:return c.sent(),[2,new Promise(function(h,p){if(!s.db)return p(K.createDatabaseNotOpenError());var g=s.db.transaction([s.tableName],"readonly").objectStore(s.tableName).count(o);g.addEventListener("success",function(y){h(1===y.target.result)}),g.addEventListener("error",function(y){return p(y)})})]}})})},u.prototype.deleteDatabase=function(){return F(this,void 0,void 0,function(){return U(this,function(o){return[2,new Promise(function(s,c){var h=window.indexedDB.deleteDatabase("msal.db");h.addEventListener("success",function(){return s(!0)}),h.addEventListener("error",function(){return c(!1)})})]})})},u}(),qo=function(){function u(){this.cache=new Map}return u.prototype.getItem=function(o){return this.cache.get(o)||null},u.prototype.setItem=function(o,s){this.cache.set(o,s)},u.prototype.removeItem=function(o){this.cache.delete(o)},u.prototype.getKeys=function(){var o=[];return this.cache.forEach(function(s,c){o.push(c)}),o},u.prototype.containsKey=function(o){return this.cache.has(o)},u.prototype.clear=function(){this.cache.clear()},u}(),iu=function(){function u(o){this.inMemoryCache=new qo,this.indexedDBCache=new Mf,this.logger=o}return u.prototype.handleDatabaseAccessError=function(o){o instanceof K&&"database_unavailable"===o.errorCode&&this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},u.prototype.getItem=function(o){return F(this,void 0,void 0,function(){var s,c;return U(this,function(h){switch(h.label){case 0:if(s=this.inMemoryCache.getItem(o))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(o)];case 2:return[2,h.sent()];case 3:return c=h.sent(),this.handleDatabaseAccessError(c),[3,4];case 4:return[2,s]}})})},u.prototype.setItem=function(o,s){return F(this,void 0,void 0,function(){var c;return U(this,function(h){switch(h.label){case 0:this.inMemoryCache.setItem(o,s),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(o,s)];case 2:return h.sent(),[3,4];case 3:return c=h.sent(),this.handleDatabaseAccessError(c),[3,4];case 4:return[2]}})})},u.prototype.removeItem=function(o){return F(this,void 0,void 0,function(){var s;return U(this,function(c){switch(c.label){case 0:this.inMemoryCache.removeItem(o),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(o)];case 2:return c.sent(),[3,4];case 3:return s=c.sent(),this.handleDatabaseAccessError(s),[3,4];case 4:return[2]}})})},u.prototype.getKeys=function(){return F(this,void 0,void 0,function(){var o,s;return U(this,function(c){switch(c.label){case 0:if(0!==(o=this.inMemoryCache.getKeys()).length)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,c.sent()];case 3:return s=c.sent(),this.handleDatabaseAccessError(s),[3,4];case 4:return[2,o]}})})},u.prototype.containsKey=function(o){return F(this,void 0,void 0,function(){var s,c;return U(this,function(h){switch(h.label){case 0:if(s=this.inMemoryCache.containsKey(o))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(o)];case 2:return[2,h.sent()];case 3:return c=h.sent(),this.handleDatabaseAccessError(c),[3,4];case 4:return[2,s]}})})},u.prototype.clear=function(){return F(this,void 0,void 0,function(){var o;return U(this,function(s){switch(s.label){case 0:this.inMemoryCache.clear(),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.indexedDBCache.deleteDatabase()];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),this.handleDatabaseAccessError(o),[3,4];case 4:return[2]}})})},u}(),Of=function(){function u(o){this.logger=o,this.browserCrypto=new Ca(this.logger),this.b64Encode=new Cf,this.b64Decode=new Vm,this.guidGenerator=new Bm(this.browserCrypto),this.pkceGenerator=new If(this.browserCrypto),this.cache={asymmetricKeys:new iu(this.logger),symmetricKeys:new iu(this.logger)}}return u.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},u.prototype.base64Encode=function(o){return this.b64Encode.encode(o)},u.prototype.base64Decode=function(o){return this.b64Decode.decode(o)},u.prototype.generatePkceCodes=function(){return F(this,void 0,void 0,function(){return U(this,function(o){return[2,this.pkceGenerator.generateCodes()]})})},u.prototype.getPublicKeyThumbprint=function(o){return F(this,void 0,void 0,function(){var s,c,p,g,y,w;return U(this,function(E){switch(E.label){case 0:return[4,this.browserCrypto.generateKeyPair(u.EXTRACTABLE,u.POP_KEY_USAGES)];case 1:return s=E.sent(),[4,this.browserCrypto.exportJwk(s.publicKey)];case 2:return c=E.sent(),p=Ca.getJwkString({e:c.e,kty:c.kty,n:c.n}),[4,this.hashString(p)];case 3:return g=E.sent(),[4,this.browserCrypto.exportJwk(s.privateKey)];case 4:return y=E.sent(),[4,this.browserCrypto.importJwk(y,!1,["sign"])];case 5:return w=E.sent(),[4,this.cache.asymmetricKeys.setItem(g,{privateKey:w,publicKey:s.publicKey,requestMethod:o.resourceRequestMethod,requestUri:o.resourceRequestUri})];case 6:return E.sent(),[2,g]}})})},u.prototype.removeTokenBindingKey=function(o){return F(this,void 0,void 0,function(){return U(this,function(s){switch(s.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(o)];case 1:return s.sent(),[4,this.cache.asymmetricKeys.containsKey(o)];case 2:return[2,!s.sent()]}})})},u.prototype.clearKeystore=function(){return F(this,void 0,void 0,function(){var o,s,c;return U(this,function(h){switch(h.label){case 0:return o=Object.keys(this.cache),(s=this.cache[o[0]])?[4,s.deleteDatabase()]:[3,2];case 1:return c=h.sent(),[3,3];case 2:c=!1,h.label=3;case 3:return[2,c]}})})},u.prototype.signJwt=function(o,s){return F(this,void 0,void 0,function(){var c,h,p,y,w,E,_,S,I;return U(this,function(M){switch(M.label){case 0:return[4,this.cache.asymmetricKeys.getItem(s)];case 1:if(!(c=M.sent()))throw K.createSigningKeyNotFoundInStorageError(s);return[4,this.browserCrypto.exportJwk(c.publicKey)];case 2:return h=M.sent(),p=Ca.getJwkString(h),y=this.b64Encode.urlEncode(JSON.stringify({alg:h.alg,type:"jwk"})),o.cnf={jwk:JSON.parse(p)},w=this.b64Encode.urlEncode(JSON.stringify(o)),_=vs.stringToArrayBuffer(E=y+"."+w),[4,this.browserCrypto.sign(c.privateKey,_)];case 3:return S=M.sent(),I=this.b64Encode.urlEncodeArr(new Uint8Array(S)),[2,E+"."+I]}})})},u.prototype.hashString=function(o){return F(this,void 0,void 0,function(){var s,c;return U(this,function(h){switch(h.label){case 0:return[4,this.browserCrypto.sha256Digest(o)];case 1:return s=h.sent(),c=new Uint8Array(s),[2,this.b64Encode.urlEncodeArr(c)]}})})},u.POP_KEY_USAGES=["sign","verify"],u.EXTRACTABLE=!0,u}(),au=function(u){function o(s,c){var h=u.call(this,s,c)||this;return h.name="BrowserConfigurationAuthError",Object.setPrototypeOf(h,o.prototype),h}return nn(o,u),o.createRedirectUriEmptyError=function(){return new o("redirect_uri_empty","A redirect URI is required for all calls, and none has been set.")},o.createPostLogoutRedirectUriEmptyError=function(){return new o("post_logout_uri_empty","A post logout redirect has not been set.")},o.createStorageNotSupportedError=function(s){return new o("storage_not_supported","Given storage configuration option was not supported. Given Location: "+s)},o.createRedirectCallbacksNotSetError=function(){return new o("no_redirect_callbacks","No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics.")},o.createStubPcaInstanceCalledError=function(){return new o("stubbed_public_client_application_called","Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors")},o.createInMemoryRedirectUnavailableError=function(){return new o("in_mem_redirect_unavailable","Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true.")},o}(X),hd=function(){function u(o){this.validateWindowStorage(o),this.windowStorage=window[o]}return u.prototype.validateWindowStorage=function(o){if(o!==Qt.LocalStorage&&o!==Qt.SessionStorage||!window[o])throw au.createStorageNotSupportedError(o)},u.prototype.getItem=function(o){return this.windowStorage.getItem(o)},u.prototype.setItem=function(o,s){this.windowStorage.setItem(o,s)},u.prototype.removeItem=function(o){this.windowStorage.removeItem(o)},u.prototype.getKeys=function(){return Object.keys(this.windowStorage)},u.prototype.containsKey=function(o){return this.windowStorage.hasOwnProperty(o)},u}(),Es=function(){function u(){}return u.extractBrowserRequestState=function(o,s){if($.isEmpty(s))return null;try{return Lo.parseRequestState(o,s).libraryState.meta}catch(c){throw z.createInvalidStateError(s,c)}},u.parseServerResponseFromHash=function(o){if(!o)return{};var s=new He(o);return He.getDeserializedHash(s.getHash())},u}(),Hr=function(u){function o(s,c,h,p){var g=u.call(this,s,h)||this;return g.COOKIE_LIFE_MULTIPLIER=864e5,g.cacheConfig=c,g.logger=p,g.internalStorage=new qo,g.browserStorage=g.setupBrowserStorage(g.cacheConfig.cacheLocation),g.temporaryCacheStorage=g.setupTemporaryCacheStorage(g.cacheConfig.cacheLocation),g.migrateCacheEntries(),g}return nn(o,u),o.prototype.setupBrowserStorage=function(s){switch(s){case Qt.LocalStorage:case Qt.SessionStorage:try{return new hd(s)}catch(c){this.logger.verbose(c);break}}return this.cacheConfig.cacheLocation=Qt.MemoryStorage,new qo},o.prototype.setupTemporaryCacheStorage=function(s){switch(s){case Qt.LocalStorage:case Qt.SessionStorage:try{return new hd(Qt.SessionStorage)}catch(c){return this.logger.verbose(c),this.internalStorage}default:return this.internalStorage}},o.prototype.migrateCacheEntries=function(){var s=this,h=H.CACHE_PREFIX+"."+Gt.CLIENT_INFO,p=H.CACHE_PREFIX+"."+Gt.ERROR,g=H.CACHE_PREFIX+"."+Gt.ERROR_DESC,y=[this.browserStorage.getItem(H.CACHE_PREFIX+"."+Gt.ID_TOKEN),this.browserStorage.getItem(h),this.browserStorage.getItem(p),this.browserStorage.getItem(g)];[Gt.ID_TOKEN,Gt.CLIENT_INFO,Gt.ERROR,Gt.ERROR_DESC].forEach(function(w,E){return s.migrateCacheEntry(w,y[E])})},o.prototype.migrateCacheEntry=function(s,c){c&&this.setTemporaryCache(s,c,!0)},o.prototype.validateAndParseJson=function(s){try{var c=JSON.parse(s);return c&&"object"==typeof c?c:null}catch(h){return null}},o.prototype.getItem=function(s){return this.browserStorage.getItem(s)},o.prototype.setItem=function(s,c){this.browserStorage.setItem(s,c)},o.prototype.getAccount=function(s){var c=this.getItem(s);if(!c)return null;var h=this.validateAndParseJson(c);return h&&Ft.isAccountEntity(h)?Sn.toObject(new Ft,h):null},o.prototype.setAccount=function(s){this.logger.trace("BrowserCacheManager.setAccount called");var c=s.generateAccountKey();this.setItem(c,JSON.stringify(s))},o.prototype.getIdTokenCredential=function(s){var c=this.getItem(s);if(!c)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var h=this.validateAndParseJson(c);return h&&Fo.isIdTokenEntity(h)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),Sn.toObject(new Fo,h)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)},o.prototype.setIdTokenCredential=function(s){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var c=s.generateCredentialKey();this.setItem(c,JSON.stringify(s))},o.prototype.getAccessTokenCredential=function(s){var c=this.getItem(s);if(!c)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var h=this.validateAndParseJson(c);return h&&ds.isAccessTokenEntity(h)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),Sn.toObject(new ds,h)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)},o.prototype.setAccessTokenCredential=function(s){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var c=s.generateCredentialKey();this.setItem(c,JSON.stringify(s))},o.prototype.getRefreshTokenCredential=function(s){var c=this.getItem(s);if(!c)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var h=this.validateAndParseJson(c);return h&&ho.isRefreshTokenEntity(h)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),Sn.toObject(new ho,h)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)},o.prototype.setRefreshTokenCredential=function(s){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var c=s.generateCredentialKey();this.setItem(c,JSON.stringify(s))},o.prototype.getAppMetadata=function(s){var c=this.getItem(s);if(!c)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var h=this.validateAndParseJson(c);return h&&Uo.isAppMetadataEntity(s,h)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),Sn.toObject(new Uo,h)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},o.prototype.setAppMetadata=function(s){this.logger.trace("BrowserCacheManager.setAppMetadata called");var c=s.generateAppMetadataKey();this.setItem(c,JSON.stringify(s))},o.prototype.getServerTelemetry=function(s){var c=this.getItem(s);if(!c)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var h=this.validateAndParseJson(c);return h&&fa.isServerTelemetryEntity(s,h)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),Sn.toObject(new fa,h)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},o.prototype.setServerTelemetry=function(s,c){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(s,JSON.stringify(c))},o.prototype.getAuthorityMetadata=function(s){var c=this.internalStorage.getItem(s);if(!c)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var h=this.validateAndParseJson(c);return h&&ha.isAuthorityMetadataEntity(s,h)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),Sn.toObject(new ha,h)):null},o.prototype.getAuthorityMetadataKeys=function(){var s=this;return this.internalStorage.getKeys().filter(function(c){return s.isAuthorityMetadata(c)})},o.prototype.setWrapperMetadata=function(s,c){this.internalStorage.setItem(Ei.WRAPPER_SKU,s),this.internalStorage.setItem(Ei.WRAPPER_VER,c)},o.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(Ei.WRAPPER_SKU)||"",this.internalStorage.getItem(Ei.WRAPPER_VER)||""]},o.prototype.setAuthorityMetadata=function(s,c){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(s,JSON.stringify(c))},o.prototype.getActiveAccount=function(){var s=this.generateCacheKey(Gt.ACTIVE_ACCOUNT),c=this.browserStorage.getItem(s);return c&&this.getAccountInfoByFilter({localAccountId:c})[0]||null},o.prototype.setActiveAccount=function(s){var c=this.generateCacheKey(Gt.ACTIVE_ACCOUNT);s?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(c,s.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(c))},o.prototype.getAccountInfoByFilter=function(s){return this.getAllAccounts().filter(function(c){return!(s.username&&s.username.toLowerCase()!==c.username.toLowerCase()||s.homeAccountId&&s.homeAccountId!==c.homeAccountId||s.localAccountId&&s.localAccountId!==c.localAccountId||s.tenantId&&s.tenantId!==c.tenantId||s.environment&&s.environment!==c.environment)})},o.prototype.getThrottlingCache=function(s){var c=this.getItem(s);if(!c)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var h=this.validateAndParseJson(c);return h&&pa.isThrottlingEntity(s,h)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),Sn.toObject(new pa,h)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},o.prototype.setThrottlingCache=function(s,c){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(s,JSON.stringify(c))},o.prototype.getTemporaryCache=function(s,c){var h=c?this.generateCacheKey(s):s;if(this.cacheConfig.storeAuthStateInCookie){var p=this.getItemCookie(h);if(p)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),p}var g=this.temporaryCacheStorage.getItem(h);if(!g){if(this.cacheConfig.cacheLocation===Qt.LocalStorage){var y=this.browserStorage.getItem(h);if(y)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),y}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),g},o.prototype.setTemporaryCache=function(s,c,h){var p=h?this.generateCacheKey(s):s;this.temporaryCacheStorage.setItem(p,c),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(p,c))},o.prototype.removeItem=function(s){return this.browserStorage.removeItem(s),this.temporaryCacheStorage.removeItem(s),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(s)),!0},o.prototype.containsKey=function(s){return this.browserStorage.containsKey(s)||this.temporaryCacheStorage.containsKey(s)},o.prototype.getKeys=function(){return es(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},o.prototype.clear=function(){return F(this,void 0,void 0,function(){var s=this;return U(this,function(c){switch(c.label){case 0:return[4,this.removeAllAccounts()];case 1:return c.sent(),this.removeAppMetadata(),this.getKeys().forEach(function(h){!s.browserStorage.containsKey(h)&&!s.temporaryCacheStorage.containsKey(h)||-1===h.indexOf(H.CACHE_PREFIX)&&-1===h.indexOf(s.clientId)||s.removeItem(h)}),this.internalStorage.clear(),[2]}})})},o.prototype.setItemCookie=function(s,c,h){var p=encodeURIComponent(s)+"="+encodeURIComponent(c)+";path=/;";h&&(p+="expires="+this.getCookieExpirationTime(h)+";"),this.cacheConfig.secureCookies&&(p+="Secure;"),document.cookie=p},o.prototype.getItemCookie=function(s){for(var c=encodeURIComponent(s)+"=",h=document.cookie.split(";"),p=0;p<h.length;p++){for(var g=h[p];" "===g.charAt(0);)g=g.substring(1);if(0===g.indexOf(c))return decodeURIComponent(g.substring(c.length,g.length))}return""},o.prototype.clearMsalCookies=function(){var s=this,c=H.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach(function(h){for(;" "===h.charAt(0);)h=h.substring(1);if(0===h.indexOf(c)){var p=h.split("=")[0];s.clearItemCookie(p)}})},o.prototype.clearItemCookie=function(s){this.setItemCookie(s,"",-1)},o.prototype.getCookieExpirationTime=function(s){var c=new Date;return new Date(c.getTime()+s*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},o.prototype.getCache=function(){return this.browserStorage},o.prototype.setCache=function(){},o.prototype.generateCacheKey=function(s){return this.validateAndParseJson(s)?JSON.stringify(s):$.startsWith(s,H.CACHE_PREFIX)||$.startsWith(s,Gt.ADAL_ID_TOKEN)?s:H.CACHE_PREFIX+"."+this.clientId+"."+s},o.prototype.generateAuthorityKey=function(s){var c=Lo.parseRequestState(this.cryptoImpl,s).libraryState.id;return this.generateCacheKey(qe.AUTHORITY+"."+c)},o.prototype.generateNonceKey=function(s){var c=Lo.parseRequestState(this.cryptoImpl,s).libraryState.id;return this.generateCacheKey(qe.NONCE_IDTOKEN+"."+c)},o.prototype.generateStateKey=function(s){var c=Lo.parseRequestState(this.cryptoImpl,s).libraryState.id;return this.generateCacheKey(qe.REQUEST_STATE+"."+c)},o.prototype.getCachedAuthority=function(s){var c=this.generateStateKey(s),h=this.getTemporaryCache(c);if(!h)return null;var p=this.generateAuthorityKey(h);return this.getTemporaryCache(p)},o.prototype.updateCacheEntries=function(s,c,h,p,g){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var y=this.generateStateKey(s);this.setTemporaryCache(y,s,!1);var w=this.generateNonceKey(s);this.setTemporaryCache(w,c,!1);var E=this.generateAuthorityKey(s);if(this.setTemporaryCache(E,h,!1),g){var _={credential:g.homeAccountId,type:on.HOME_ACCOUNT_ID};this.setTemporaryCache(qe.CCS_CREDENTIAL,JSON.stringify(_),!0)}else $.isEmpty(p)||(_={credential:p,type:on.UPN},this.setTemporaryCache(qe.CCS_CREDENTIAL,JSON.stringify(_),!0))},o.prototype.resetRequestCache=function(s){var c=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),$.isEmpty(s)||this.getKeys().forEach(function(h){-1!==h.indexOf(s)&&c.removeItem(h)}),s&&(this.removeItem(this.generateStateKey(s)),this.removeItem(this.generateNonceKey(s)),this.removeItem(this.generateAuthorityKey(s))),this.removeItem(this.generateCacheKey(qe.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(qe.ORIGIN_URI)),this.removeItem(this.generateCacheKey(qe.URL_HASH)),this.removeItem(this.generateCacheKey(qe.CORRELATION_ID)),this.removeItem(this.generateCacheKey(qe.CCS_CREDENTIAL)),this.setInteractionInProgress(!1)},o.prototype.cleanRequestByState=function(s){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),s){var c=this.generateStateKey(s),h=this.temporaryCacheStorage.getItem(c);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+h),this.resetRequestCache(h||"")}this.clearMsalCookies()},o.prototype.cleanRequestByInteractionType=function(s){var c=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(h){if(-1!==h.indexOf(qe.REQUEST_STATE)){var p=c.temporaryCacheStorage.getItem(h);if(p){var g=Es.extractBrowserRequestState(c.cryptoImpl,p);g&&g.interactionType===s&&(c.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+p),c.resetRequestCache(p))}}}),this.clearMsalCookies(),this.setInteractionInProgress(!1)},o.prototype.cacheCodeRequest=function(s,c){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var h=c.base64Encode(JSON.stringify(s));this.setTemporaryCache(qe.REQUEST_PARAMS,h,!0)},o.prototype.getCachedRequest=function(s,c){this.logger.trace("BrowserCacheManager.getCachedRequest called");var h=this.getTemporaryCache(qe.REQUEST_PARAMS,!0);if(!h)throw K.createNoTokenRequestCacheError();var p=this.validateAndParseJson(c.base64Decode(h));if(!p)throw K.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(qe.REQUEST_PARAMS)),$.isEmpty(p.authority)){var g=this.generateAuthorityKey(s),y=this.getTemporaryCache(g);if(!y)throw K.createNoCachedAuthorityError();p.authority=y}return p},o.prototype.isInteractionInProgress=function(s){var c=this.getInteractionInProgress();return s?c===this.clientId:!!c},o.prototype.getInteractionInProgress=function(){return this.getTemporaryCache(H.CACHE_PREFIX+"."+qe.INTERACTION_STATUS_KEY,!1)},o.prototype.setInteractionInProgress=function(s){var c=H.CACHE_PREFIX+"."+qe.INTERACTION_STATUS_KEY;if(s){if(this.getInteractionInProgress())throw K.createInteractionInProgressError();this.setTemporaryCache(c,this.clientId,!1)}else s||this.getInteractionInProgress()!==this.clientId||this.removeItem(c)},o.prototype.getLegacyLoginHint=function(){var s=this.getTemporaryCache(Gt.ADAL_ID_TOKEN);s&&(this.browserStorage.removeItem(Gt.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var c=this.getTemporaryCache(Gt.ID_TOKEN,!0);c&&(this.removeItem(this.generateCacheKey(Gt.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var h=c||s;if(h){var p=new er(h,this.cryptoImpl);if(p.claims&&p.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),p.claims.preferred_username;if(p.claims&&p.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),p.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},o.prototype.updateCredentialCacheKey=function(s,c){var h=c.generateCredentialKey();if(s!==h){var p=this.getItem(s);if(p)return this.removeItem(s),this.setItem(h,p),this.logger.verbose("Updated an outdated "+c.credentialType+" cache key"),h;this.logger.error("Attempted to update an outdated "+c.credentialType+" cache key but no item matching the outdated key was found in storage")}return s},o}(Sn),fd=function(){function u(){}return u.prototype.sendGetRequestAsync=function(o,s){return F(this,void 0,void 0,function(){var c,h,p;return U(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,fetch(o,{method:nr.GET,headers:this.getFetchHeaders(s)})];case 1:return c=g.sent(),[3,3];case 2:throw h=g.sent(),window.navigator.onLine?K.createGetRequestFailedError(h,o):K.createNoNetworkConnectivityError();case 3:return g.trys.push([3,5,,6]),p={headers:this.getHeaderDict(c.headers)},[4,c.json()];case 4:return[2,(p.body=g.sent(),p.status=c.status,p)];case 5:throw g.sent(),K.createFailedToParseNetworkResponseError(o);case 6:return[2]}})})},u.prototype.sendPostRequestAsync=function(o,s){return F(this,void 0,void 0,function(){var c,h,p,g;return U(this,function(y){switch(y.label){case 0:c=s&&s.body||"",y.label=1;case 1:return y.trys.push([1,3,,4]),[4,fetch(o,{method:nr.POST,headers:this.getFetchHeaders(s),body:c})];case 2:return h=y.sent(),[3,4];case 3:throw p=y.sent(),window.navigator.onLine?K.createPostRequestFailedError(p,o):K.createNoNetworkConnectivityError();case 4:return y.trys.push([4,6,,7]),g={headers:this.getHeaderDict(h.headers)},[4,h.json()];case 5:return[2,(g.body=y.sent(),g.status=h.status,g)];case 6:throw y.sent(),K.createFailedToParseNetworkResponseError(o);case 7:return[2]}})})},u.prototype.getFetchHeaders=function(o){var s=new Headers;if(!o||!o.headers)return s;var c=o.headers;return Object.keys(c).forEach(function(h){s.append(h,c[h])}),s},u.prototype.getHeaderDict=function(o){var s={};return o.forEach(function(c,h){s[h]=c}),s},u}(),bs=function(){function u(){}return u.prototype.sendGetRequestAsync=function(o,s){return F(this,void 0,void 0,function(){return U(this,function(c){return[2,this.sendRequestAsync(o,nr.GET,s)]})})},u.prototype.sendPostRequestAsync=function(o,s){return F(this,void 0,void 0,function(){return U(this,function(c){return[2,this.sendRequestAsync(o,nr.POST,s)]})})},u.prototype.sendRequestAsync=function(o,s,c){var h=this;return new Promise(function(p,g){var y=new XMLHttpRequest;if(y.open(s,o,!0),h.setXhrHeaders(y,c),y.onload=function(){(y.status<200||y.status>=300)&&g(s===nr.POST?K.createPostRequestFailedError("Failed with status "+y.status,o):K.createGetRequestFailedError("Failed with status "+y.status,o));try{var w=JSON.parse(y.responseText),E={headers:h.getHeaderDict(y),body:w,status:y.status};p(E)}catch(_){g(K.createFailedToParseNetworkResponseError(o))}},y.onerror=function(){window.navigator.onLine?g(s===nr.POST?K.createPostRequestFailedError("Failed with status "+y.status,o):K.createGetRequestFailedError("Failed with status "+y.status,o)):g(K.createNoNetworkConnectivityError())},s===nr.POST&&c&&c.body)y.send(c.body);else{if(s!==nr.GET)throw K.createHttpMethodNotImplementedError(s);y.send()}})},u.prototype.setXhrHeaders=function(o,s){if(s&&s.headers){var c=s.headers;Object.keys(c).forEach(function(h){o.setRequestHeader(h,c[h])})}},u.prototype.getHeaderDict=function(o){var s=o.getAllResponseHeaders().trim().split(/[\r\n]+/),c={};return s.forEach(function(h){var p=h.split(": "),g=p.shift(),y=p.join(": ");g&&y&&(c[g]=y)}),c},u}(),ct=function(){function u(){}return u.clearHash=function(o){o.location.hash=H.EMPTY_STRING,"function"==typeof o.history.replaceState&&o.history.replaceState(null,H.EMPTY_STRING,""+o.location.origin+o.location.pathname+o.location.search)},u.replaceHash=function(o){var s=o.split("#");s.shift(),window.location.hash=s.length>0?s.join("#"):""},u.isInIframe=function(){return window.parent!==window},u.isInPopup=function(){return"undefined"!=typeof window&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf(ys+".")},u.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},u.getHomepage=function(){var o=new He(window.location.href).getUrlComponents();return o.Protocol+"//"+o.HostNameAndPort+"/"},u.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new fd:new bs},u.blockReloadInHiddenIframes=function(){if(He.hashContainsKnownProperties(window.location.hash)&&u.isInIframe())throw K.createBlockReloadInHiddenIframeError()},u.blockRedirectInIframe=function(o,s){var c=u.isInIframe();if(o===G.Redirect&&c&&!s)throw K.createRedirectInIframeError(c)},u.blockAcquireTokenInPopups=function(){if(u.isInPopup())throw K.createBlockAcquireTokenInPopupsError()},u.blockNonBrowserEnvironment=function(o){if(!o)throw K.createNonBrowserEnvironmentError()},u.detectIEOrEdge=function(){var o=window.navigator.userAgent,s=o.indexOf("MSIE "),c=o.indexOf("Trident/"),h=o.indexOf("Edge/");return s>0||c>0||h>0},u}(),pd=function(){function u(){}return u.prototype.navigateInternal=function(o,s){return u.defaultNavigateWindow(o,s)},u.prototype.navigateExternal=function(o,s){return u.defaultNavigateWindow(o,s)},u.defaultNavigateWindow=function(o,s){return s.noHistory?window.location.replace(o):window.location.assign(o),new Promise(function(c){setTimeout(function(){c(!0)},s.timeout)})},u}();!function(u){u.ACCOUNT_ADDED="msal:accountAdded",u.ACCOUNT_REMOVED="msal:accountRemoved",u.LOGIN_START="msal:loginStart",u.LOGIN_SUCCESS="msal:loginSuccess",u.LOGIN_FAILURE="msal:loginFailure",u.ACQUIRE_TOKEN_START="msal:acquireTokenStart",u.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",u.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",u.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",u.SSO_SILENT_START="msal:ssoSilentStart",u.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",u.SSO_SILENT_FAILURE="msal:ssoSilentFailure",u.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",u.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",u.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",u.HANDLE_REDIRECT_START="msal:handleRedirectStart",u.HANDLE_REDIRECT_END="msal:handleRedirectEnd",u.POPUP_OPENED="msal:popupOpened",u.LOGOUT_START="msal:logoutStart",u.LOGOUT_SUCCESS="msal:logoutSuccess",u.LOGOUT_FAILURE="msal:logoutFailure",u.LOGOUT_END="msal:logoutEnd"}(oe||(oe={}));var Ea=function(){function u(o,s){this.eventCallbacks=new Map,this.logger=o,this.browserCrypto=s,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return u.prototype.addEventCallback=function(o){if("undefined"!=typeof window){var s=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(s,o),this.logger.verbose("Event callback registered with id: "+s),s}return null},u.prototype.removeEventCallback=function(o){this.eventCallbacks.delete(o),this.logger.verbose("Event callback "+o+" removed.")},u.prototype.enableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},u.prototype.disableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},u.prototype.emitEvent=function(o,s,c,h){var p=this;if("undefined"!=typeof window){var g={eventType:o,interactionType:s||null,payload:c||null,error:h||null,timestamp:Date.now()};this.logger.info("Emitting event: "+o),this.eventCallbacks.forEach(function(y,w){p.logger.verbose("Emitting event to callback "+w+": "+o),y.apply(null,[g])})}},u.prototype.handleAccountCacheChange=function(o){try{var s=o.newValue||o.oldValue;if(!s)return;var c=JSON.parse(s);if("object"!=typeof c||!Ft.isAccountEntity(c))return;var h=Sn.toObject(new Ft,c).getAccountInfo();!o.oldValue&&o.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(oe.ACCOUNT_ADDED,void 0,h)):!o.newValue&&o.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(oe.ACCOUNT_REMOVED,void 0,h))}catch(p){return}},u}(),Go=function(u){function o(s,c,h,p,g,y,w){var E=u.call(this,s,c,h,p,g,w)||this;return E.navigationClient=y,E}return nn(o,u),o.prototype.initializeAuthorizationCodeRequest=function(s){return F(this,void 0,void 0,function(){var c,h;return U(this,function(p){switch(p.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",s.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return c=p.sent(),h=De(De({},s),{redirectUri:s.redirectUri,code:"",codeVerifier:c.verifier}),s.codeChallenge=c.challenge,s.codeChallengeMethod=H.S256_CODE_CHALLENGE_METHOD,[2,h]}})})},o.prototype.initializeLogoutRequest=function(s){this.logger.verbose("initializeLogoutRequest called",null==s?void 0:s.correlationId);var c=De({correlationId:this.browserCrypto.createNewGuid()},s);if(s)if(s.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(s.account){var h=this.getLogoutHintFromIdTokenClaims(s.account);h&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),c.logoutHint=h)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return s&&null===s.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",c.correlationId):s&&s.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",c.correlationId),c.postLogoutRedirectUri=He.getAbsoluteUrl(s.postLogoutRedirectUri,ct.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",c.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",c.correlationId),c.postLogoutRedirectUri=He.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,ct.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",c.correlationId),c.postLogoutRedirectUri=He.getAbsoluteUrl(ct.getCurrentUri(),ct.getCurrentUri())),c},o.prototype.getLogoutHintFromIdTokenClaims=function(s){var c=s.idTokenClaims;if(c){if(c.login_hint)return c.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},o.prototype.createAuthCodeClient=function(s,c,h){return F(this,void 0,void 0,function(){var p;return U(this,function(g){switch(g.label){case 0:return[4,this.getClientConfiguration(s,c,h)];case 1:return p=g.sent(),[2,new fs(p)]}})})},o.prototype.getClientConfiguration=function(s,c,h){return F(this,void 0,void 0,function(){var p;return U(this,function(g){switch(g.label){case 0:return this.logger.verbose("getClientConfiguration called"),[4,this.getDiscoveredAuthority(c,h)];case 1:return p=g.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:p,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,logLevel:this.config.system.loggerOptions.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:s,libraryInfo:{sku:vf,version:"2.22.0",cpu:"",os:""}}]}})})},o.prototype.validateAndExtractStateFromHash=function(s,c,h){this.logger.verbose("validateAndExtractStateFromHash called",h);var p=He.getDeserializedHash(s);if(!p.state)throw K.createHashDoesNotContainStateError();var g=Es.extractBrowserRequestState(this.browserCrypto,p.state);if(!g)throw K.createUnableToParseStateError();if(g.interactionType!==c)throw K.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",h),p.state},o.prototype.getDiscoveredAuthority=function(s,c){return F(this,void 0,void 0,function(){var h,g;return U(this,function(y){switch(y.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),h={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},g=gs.generateAuthority(s||this.config.auth.authority,c||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority"),[4,Ho.createDiscoveredInstance(g,this.config.system.networkClient,this.browserStorage,h)];case 1:return[2,y.sent()]}})})},o.prototype.initializeAuthorizationRequest=function(s,c){return F(this,void 0,void 0,function(){var h,g,y,w,E,_;return U(this,function(S){switch(S.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called"),h=this.getRedirectUri(s.redirectUri),g=Lo.setRequestState(this.browserCrypto,s&&s.state||H.EMPTY_STRING,{interactionType:c}),w=[{}],[4,this.initializeBaseRequest(s)];case 1:return y=De.apply(void 0,[De.apply(void 0,w.concat([S.sent()])),{redirectUri:h,state:g,nonce:s.nonce||this.browserCrypto.createNewGuid(),responseMode:Fc.FRAGMENT}]),(E=s.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account"),this.logger.verbosePii("Setting validated request account: "+E),y.account=E),$.isEmpty(y.loginHint)&&!E&&(_=this.browserStorage.getLegacyLoginHint())&&(y.loginHint=_),[2,y]}})})},o}(function(){function u(o,s,c,h,p,g){this.config=o,this.browserStorage=s,this.browserCrypto=c,this.networkClient=this.config.system.networkClient,this.eventHandler=p,this.correlationId=g||this.browserCrypto.createNewGuid(),this.logger=h.clone(vf,"2.22.0",this.correlationId)}return u.prototype.clearCacheOnLogout=function(o){return F(this,void 0,void 0,function(){return U(this,function(s){switch(s.label){case 0:if(!o)return[3,5];Ft.accountInfoIsEqual(o,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(Ft.generateAccountCacheKey(o))];case 2:return s.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return s.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return s.trys.push([5,8,,9]),[4,this.browserStorage.clear()];case 6:return s.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return s.sent(),this.logger.verbose("No account provided in logout request, clearing all cache items."),[3,9];case 8:return s.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}})})},u.prototype.initializeBaseRequest=function(o){return F(this,void 0,void 0,function(){var s,c,h;return U(this,function(p){switch(p.label){case 0:if(this.logger.verbose("Initializing BaseAuthRequest"),s=o.authority||this.config.auth.authority,c=es(o&&o.scopes||[]),o.authenticationScheme){if(o.authenticationScheme===ot.SSH){if(!o.sshJwk)throw Ke.createMissingSshJwkError();if(!o.sshKid)throw Ke.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+o.authenticationScheme+'" as configured in Auth request')}else o.authenticationScheme=ot.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return!o.claims||$.isEmpty(o.claims)?[3,2]:(h=o,[4,this.browserCrypto.hashString(o.claims)]);case 1:h.requestedClaimsHash=p.sent(),p.label=2;case 2:return[2,De(De({},o),{correlationId:this.correlationId,authority:s,scopes:c})]}})})},u.prototype.getRedirectUri=function(o){this.logger.verbose("getRedirectUri called");var s=o||this.config.auth.redirectUri||ct.getCurrentUri();return He.getAbsoluteUrl(s,ct.getCurrentUri())},u.prototype.initializeServerTelemetryManager=function(o,s){this.logger.verbose("initializeServerTelemetryManager called");var c={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:o,forceRefresh:s||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new bi(c,this.browserStorage)},u}()),Ri=function(){function u(o,s){this.browserStorage=o,this.logger=s,this.unloadWindow=this.unloadWindow.bind(this)}return u.prototype.openPopup=function(o,s){try{var c=void 0;if(s.popup?(c=s.popup,this.logger.verbosePii("Navigating popup window to: "+o),c.location.assign(o)):void 0===s.popup&&(this.logger.verbosePii("Opening popup window to: "+o),c=u.openSizedPopup(o,s.popupName,s.popupWindowAttributes,this.logger)),!c)throw K.createEmptyWindowCreatedError();return c.focus&&c.focus(),this.currentWindow=c,window.addEventListener("beforeunload",this.unloadWindow),c}catch(h){throw this.logger.error("error opening popup "+h.message),this.browserStorage.setInteractionInProgress(!1),K.createPopupWindowError(h.toString())}},u.openSizedPopup=function(o,s,c,h){var p,g,y,w,E=window.screenLeft?window.screenLeft:window.screenX,_=window.screenTop?window.screenTop:window.screenY,S=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,I=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,M=null===(p=c.popupSize)||void 0===p?void 0:p.width,x=null===(g=c.popupSize)||void 0===g?void 0:g.height,L=null===(y=c.popupPosition)||void 0===y?void 0:y.top,B=null===(w=c.popupPosition)||void 0===w?void 0:w.left;return(!M||M<0||M>S)&&(h.verbose("Default popup window width used. Window width not configured or invalid."),M=483),(!x||x<0||x>I)&&(h.verbose("Default popup window height used. Window height not configured or invalid."),x=600),(!L||L<0||L>I)&&(h.verbose("Default popup window top position used. Window top not configured or invalid."),L=Math.max(0,I/2-300+_)),(!B||B<0||B>S)&&(h.verbose("Default popup window left position used. Window left not configured or invalid."),B=Math.max(0,S/2-241.5+E)),window.open(o,s,"width="+M+", height="+x+", top="+L+", left="+B+", scrollbars=yes")},u.prototype.unloadWindow=function(o){this.browserStorage.cleanRequestByInteractionType(G.Popup),this.currentWindow&&this.currentWindow.close(),o.preventDefault()},u.prototype.cleanPopup=function(o){o&&o.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},u.prototype.monitorPopupForSameOrigin=function(o){var s=this;return new Promise(function(c,h){var p=setInterval(function(){if(o.closed)return s.cleanPopup(),clearInterval(p),void h(K.createUserCancelledError());var g=H.EMPTY_STRING;try{g=o.location.href}catch(y){}$.isEmpty(g)||"about:blank"===g||(clearInterval(p),c())},50)})},u.generatePopupName=function(o,s,c,h){return ys+"."+o+"."+s.join("-")+"."+c+"."+h},u.generateLogoutPopupName=function(o,s){return ys+"."+o+"."+(s.account&&s.account.homeAccountId)+"."+s.correlationId},u}(),cu=function(){function u(o,s,c,h){this.authModule=o,this.browserStorage=s,this.authCodeRequest=c,this.browserRequestLogger=h}return u.prototype.handleCodeResponseFromHash=function(o,s,c,h){return F(this,void 0,void 0,function(){var p,g,y;return U(this,function(w){if(this.browserRequestLogger.verbose("InteractionHandler.handleCodeResponse called"),$.isEmpty(o))throw K.createEmptyHashError(o);if(p=this.browserStorage.generateStateKey(s),!(g=this.browserStorage.getTemporaryCache(p)))throw z.createStateNotFoundError("Cached State");return y=this.authModule.handleFragmentResponse(o,g),[2,this.handleCodeResponseFromServer(y,s,c,h)]})})},u.prototype.handleCodeResponseFromServer=function(o,s,c,h,p){return void 0===p&&(p=!0),F(this,void 0,void 0,function(){var g,y,w,E,_,S;return U(this,function(I){switch(I.label){case 0:if(this.browserRequestLogger.trace("InteractionHandler.handleCodeResponseFromServer called"),g=this.browserStorage.generateStateKey(s),!(y=this.browserStorage.getTemporaryCache(g)))throw z.createStateNotFoundError("Cached State");return w=this.browserStorage.generateNonceKey(y),E=this.browserStorage.getTemporaryCache(w),this.authCodeRequest.code=o.code,o.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(o.cloud_instance_host_name,c,h)]:[3,2];case 1:I.sent(),I.label=2;case 2:return p&&(o.nonce=E||void 0),o.state=y,o.client_info?this.authCodeRequest.clientInfo=o.client_info:(_=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=_),[4,this.authModule.acquireToken(this.authCodeRequest,o)];case 3:return S=I.sent(),this.browserStorage.cleanRequestByState(s),[2,S]}})})},u.prototype.updateTokenEndpointAuthority=function(o,s,c){return F(this,void 0,void 0,function(){var p;return U(this,function(g){switch(g.label){case 0:return[4,Ho.createDiscoveredInstance("https://"+o+"/"+s.tenant+"/",c,this.browserStorage,s.options)];case 1:return p=g.sent(),this.authModule.updateAuthority(p),[2]}})})},u.prototype.checkCcsCredentials=function(){var o=this.browserStorage.getTemporaryCache(qe.CCS_CREDENTIAL,!0);if(o)try{return JSON.parse(o)}catch(s){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+o)}return null},u}(),Mi=function(u){function o(s,c,h,p){var g=u.call(this,s,c,h,p)||this;return g.popupUtils=new Ri(c,p),g}return nn(o,u),o.prototype.initiateAuthRequest=function(s,c){if($.isEmpty(s))throw this.browserRequestLogger.error("Navigate url is empty"),K.createEmptyNavigationUriError();return this.browserRequestLogger.infoPii("Navigate to: "+s),this.popupUtils.openPopup(s,c)},o.prototype.monitorPopupForHash=function(s){var c=this;return this.popupUtils.monitorPopupForSameOrigin(s).then(function(){var h=s.location.hash;if(ct.clearHash(s),c.popupUtils.cleanPopup(s),!h)throw K.createEmptyHashError(s.location.href);if(He.hashContainsKnownProperties(h))return h;throw K.createHashDoesNotContainKnownPropertiesError()})},o}(cu),Oi=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return nn(o,u),o.prototype.acquireToken=function(s){try{var c=Ri.generatePopupName(this.config.auth.clientId,s.scopes||xc,s.authority||this.config.auth.authority,this.correlationId),h=s.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(s,c,h);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var p=Ri.openSizedPopup("about:blank",c,h,this.logger);return this.acquireTokenPopupAsync(s,c,h,p)}catch(g){return Promise.reject(g)}},o.prototype.logout=function(s){try{this.logger.verbose("logoutPopup called");var c=this.initializeLogoutRequest(s),h=Ri.generateLogoutPopupName(this.config.auth.clientId,c),p=s&&s.authority,g=s&&s.mainWindowRedirectUri,y=(null==s?void 0:s.popupWindowAttributes)||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(c,h,y,p,void 0,g);this.logger.verbose("asyncPopup set to false, opening popup");var w=Ri.openSizedPopup("about:blank",h,y,this.logger);return this.logoutPopupAsync(c,h,y,p,w,g)}catch(E){return Promise.reject(E)}},o.prototype.acquireTokenPopupAsync=function(s,c,h,p){return F(this,void 0,void 0,function(){var g,y,w,E,_,S,M,x,L,B;return U(this,function(q){switch(q.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),g=this.initializeServerTelemetryManager(vt.acquireTokenPopup),[4,this.initializeAuthorizationRequest(s,G.Popup)];case 1:y=q.sent(),this.browserStorage.updateCacheEntries(y.state,y.nonce,y.authority,y.loginHint||"",y.account||null),q.label=2;case 2:return q.trys.push([2,8,,9]),[4,this.initializeAuthorizationCodeRequest(y)];case 3:return w=q.sent(),[4,this.createAuthCodeClient(g,y.authority,y.azureCloudOptions)];case 4:return E=q.sent(),this.logger.verbose("Auth code client created"),[4,E.getAuthCodeUrl(y)];case 5:return _=q.sent(),S=new Mi(E,this.browserStorage,w,this.logger),M=S.initiateAuthRequest(_,{popup:p,popupName:c,popupWindowAttributes:h}),this.eventHandler.emitEvent(oe.POPUP_OPENED,G.Popup,{popupWindow:M},null),[4,S.monitorPopupForHash(M)];case 6:return x=q.sent(),L=this.validateAndExtractStateFromHash(x,G.Popup,y.correlationId),la.removeThrottle(this.browserStorage,this.config.auth.clientId,w),[4,S.handleCodeResponseFromHash(x,L,E.authority,this.networkClient)];case 7:return[2,q.sent()];case 8:throw B=q.sent(),p&&p.close(),B instanceof X&&B.setCorrelationId(this.correlationId),g.cacheFailedRequest(B),this.browserStorage.cleanRequestByState(y.state),B;case 9:return[2]}})})},o.prototype.logoutPopupAsync=function(s,c,h,p,g,y){return F(this,void 0,void 0,function(){var w,E,_,S,I,M,x,L,B;return U(this,function(q){switch(q.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(oe.LOGOUT_START,G.Popup,s),w=this.initializeServerTelemetryManager(vt.logoutPopup),q.label=1;case 1:return q.trys.push([1,8,,9]),[4,this.clearCacheOnLogout(s.account)];case 2:return q.sent(),[4,this.createAuthCodeClient(w,p)];case 3:E=q.sent(),this.logger.verbose("Auth code client created"),_=E.getLogoutUri(s),this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,G.Popup,s),S=new Ri(this.browserStorage,this.logger),I=S.openPopup(_,{popupName:c,popupWindowAttributes:h,popup:g}),this.eventHandler.emitEvent(oe.POPUP_OPENED,G.Popup,{popupWindow:I},null),q.label=4;case 4:return q.trys.push([4,6,,7]),[4,S.monitorPopupForSameOrigin(I)];case 5:return q.sent(),this.logger.verbose("Popup successfully redirected to postLogoutRedirectUri"),[3,7];case 6:return M=q.sent(),this.logger.verbose("Error occurred while monitoring popup for same origin. Session on server may remain active. Error: "+M),[3,7];case 7:return S.cleanPopup(I),y?(x={apiId:vt.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},L=He.getAbsoluteUrl(y,ct.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+L),this.navigationClient.navigateInternal(L,x)):this.logger.verbose("No main window navigation requested"),[3,9];case 8:throw B=q.sent(),g&&g.close(),B instanceof X&&B.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(oe.LOGOUT_FAILURE,G.Popup,null,B),this.eventHandler.emitEvent(oe.LOGOUT_END,G.Popup),w.cacheFailedRequest(B),B;case 9:return this.eventHandler.emitEvent(oe.LOGOUT_END,G.Popup),[2]}})})},o}(Go),gd=function(u){function o(s,c,h,p,g){var y=u.call(this,s,c,h,p)||this;return y.browserCrypto=g,y}return nn(o,u),o.prototype.initiateAuthRequest=function(s,c){return F(this,void 0,void 0,function(){var h;return U(this,function(p){switch(p.label){case 0:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest called"),$.isEmpty(s)?[3,7]:(c.redirectStartPage&&(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(qe.ORIGIN_URI,c.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(qe.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.browserRequestLogger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+s),h={apiId:vt.acquireTokenRedirect,timeout:c.redirectTimeout,noHistory:!1},"function"!=typeof c.onRedirectNavigate?[3,4]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===c.onRedirectNavigate(s)?[3,2]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,c.navigationClient.navigateExternal(s,h)])));case 1:case 5:return p.sent(),[2];case 2:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,c.navigationClient.navigateExternal(s,h)];case 6:return[3,8];case 7:throw this.browserRequestLogger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),K.createEmptyNavigationUriError();case 8:return[2]}})})},o.prototype.handleCodeResponseFromHash=function(s,c,h,p,g){return F(this,void 0,void 0,function(){var y,w,E,_,S,I,M;return U(this,function(x){switch(x.label){case 0:if(this.browserRequestLogger.verbose("RedirectHandler.handleCodeResponse called"),$.isEmpty(s))throw K.createEmptyHashError(s);if(this.browserStorage.setInteractionInProgress(!1),y=this.browserStorage.generateStateKey(c),!(w=this.browserStorage.getTemporaryCache(y)))throw z.createStateNotFoundError("Cached State");return E=this.authModule.handleFragmentResponse(s,w),_=this.browserStorage.generateNonceKey(w),S=this.browserStorage.getTemporaryCache(_),this.authCodeRequest.code=E.code,E.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(E.cloud_instance_host_name,h,p)]:[3,2];case 1:x.sent(),x.label=2;case 2:return E.nonce=S||void 0,E.state=w,E.client_info?this.authCodeRequest.clientInfo=E.client_info:(I=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=I),g&&la.removeThrottle(this.browserStorage,g,this.authCodeRequest),[4,this.authModule.acquireToken(this.authCodeRequest,E)];case 3:return M=x.sent(),this.browserStorage.cleanRequestByState(c),[2,M]}})})},o}(cu),md=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return nn(o,u),o.prototype.acquireToken=function(s){return F(this,void 0,void 0,function(){var c,h,p,g,y,w,E,_;return U(this,function(S){switch(S.label){case 0:return[4,this.initializeAuthorizationRequest(s,G.Redirect)];case 1:c=S.sent(),this.browserStorage.updateCacheEntries(c.state,c.nonce,c.authority,c.loginHint||"",c.account||null),h=this.initializeServerTelemetryManager(vt.acquireTokenRedirect),S.label=2;case 2:return S.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(c)];case 3:return p=S.sent(),[4,this.createAuthCodeClient(h,c.authority,c.azureCloudOptions)];case 4:return g=S.sent(),this.logger.verbose("Auth code client created"),y=new gd(g,this.browserStorage,p,this.logger,this.browserCrypto),[4,g.getAuthCodeUrl(c)];case 5:return w=S.sent(),E=this.getRedirectStartPage(s.redirectStartPage),this.logger.verbosePii("Redirect start page: "+E),[4,y.initiateAuthRequest(w,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:E,onRedirectNavigate:s.onRedirectNavigate})];case 6:return[2,S.sent()];case 7:throw(_=S.sent())instanceof X&&_.setCorrelationId(this.correlationId),h.cacheFailedRequest(_),this.browserStorage.cleanRequestByState(c.state),_;case 8:return[2]}})})},o.prototype.handleRedirectPromise=function(s){return F(this,void 0,void 0,function(){var c,h,p,g,y,w,E,_,S,I,M;return U(this,function(x){switch(x.label){case 0:c=this.initializeServerTelemetryManager(vt.handleRedirectPromise),x.label=1;case 1:if(x.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(h=this.getRedirectResponseHash(s||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(G.Redirect),[2,null];p=void 0;try{p=this.validateAndExtractStateFromHash(h,G.Redirect),this.logger.verbose("State extracted from hash")}catch(L){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+L),this.browserStorage.cleanRequestByInteractionType(G.Redirect),[2,null]}return g=this.browserStorage.getTemporaryCache(qe.ORIGIN_URI,!0)||"",y=He.removeHashFromUrl(g),w=He.removeHashFromUrl(window.location.href),y===w&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(h,p,c)]):[3,3];case 2:return E=x.sent(),g.indexOf("#")>-1&&ct.replaceHash(g),[2,E];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(h,p,c)]);case 4:return ct.isInIframe()&&!this.config.system.allowRedirectInIframe?[3,9]:(this.browserStorage.setTemporaryCache(qe.URL_HASH,h,!0),_={apiId:vt.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},S=!0,g&&"null"!==g?[3,6]:(I=ct.getHomepage(),this.browserStorage.setTemporaryCache(qe.ORIGIN_URI,I,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(I,_)]));case 5:return S=x.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+g),[4,this.navigationClient.navigateInternal(g,_)];case 7:S=x.sent(),x.label=8;case 8:if(!S)return[2,this.handleHash(h,p,c)];x.label=9;case 9:return[2,null];case 10:throw(M=x.sent())instanceof X&&M.setCorrelationId(this.correlationId),c.cacheFailedRequest(M),this.browserStorage.cleanRequestByInteractionType(G.Redirect),M;case 11:return[2]}})})},o.prototype.getRedirectResponseHash=function(s){if(this.logger.verbose("getRedirectResponseHash called"),He.hashContainsKnownProperties(s))return ct.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),s;var c=this.browserStorage.getTemporaryCache(qe.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(qe.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),c},o.prototype.handleHash=function(s,c,h){return F(this,void 0,void 0,function(){var p,g,y;return U(this,function(w){switch(w.label){case 0:if(p=this.browserStorage.getCachedRequest(c,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),!(g=this.browserStorage.getCachedAuthority(c)))throw K.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(h,g)];case 1:return y=w.sent(),this.logger.verbose("Auth code client created"),[4,new gd(y,this.browserStorage,p,this.logger,this.browserCrypto).handleCodeResponseFromHash(s,c,y.authority,this.networkClient,this.config.auth.clientId)];case 2:return[2,w.sent()]}})})},o.prototype.logout=function(s){return F(this,void 0,void 0,function(){var c,h,p,g,y,w;return U(this,function(E){switch(E.label){case 0:this.logger.verbose("logoutRedirect called"),c=this.initializeLogoutRequest(s),h=this.initializeServerTelemetryManager(vt.logout),E.label=1;case 1:return E.trys.push([1,10,,11]),this.eventHandler.emitEvent(oe.LOGOUT_START,G.Redirect,s),[4,this.clearCacheOnLogout(c.account)];case 2:return E.sent(),p={apiId:vt.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},[4,this.createAuthCodeClient(h,s&&s.authority)];case 3:return g=E.sent(),this.logger.verbose("Auth code client created"),y=g.getLogoutUri(c),this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,G.Redirect,c),s&&"function"==typeof s.onRedirectNavigate?!1===s.onRedirectNavigate(y)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),[4,this.navigationClient.navigateExternal(y,p)]):[3,7];case 4:return E.sent(),[2];case 5:this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),E.label=6;case 6:return[3,9];case 7:return[4,this.navigationClient.navigateExternal(y,p)];case 8:return E.sent(),[2];case 9:return[3,11];case 10:throw(w=E.sent())instanceof X&&w.setCorrelationId(this.correlationId),h.cacheFailedRequest(w),this.eventHandler.emitEvent(oe.LOGOUT_FAILURE,G.Redirect,null,w),this.eventHandler.emitEvent(oe.LOGOUT_END,G.Redirect),w;case 11:return this.eventHandler.emitEvent(oe.LOGOUT_END,G.Redirect),[2]}})})},o.prototype.getRedirectStartPage=function(s){var c=s||window.location.href;return He.getAbsoluteUrl(c,ct.getCurrentUri())},o}(Go),uu=function(u){function o(s,c,h,p,g){var y=u.call(this,s,c,h,p)||this;return y.navigateFrameWait=g,y}return nn(o,u),o.prototype.initiateAuthRequest=function(s){return F(this,void 0,void 0,function(){var c;return U(this,function(h){switch(h.label){case 0:if($.isEmpty(s))throw this.browserRequestLogger.info("Navigate url is empty"),K.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(s)]:[3,2];case 1:return c=h.sent(),[3,3];case 2:c=this.loadFrameSync(s),h.label=3;case 3:return[2,c]}})})},o.prototype.monitorIframeForHash=function(s,c){var h=this;return new Promise(function(p,g){c<6e3&&h.browserRequestLogger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+c+"ms) than the default (6000ms). This may result in timeouts.");var y=window.performance.now()+c,w=setInterval(function(){if(window.performance.now()>y)return h.removeHiddenIframe(s),clearInterval(w),void g(K.createMonitorIframeTimeoutError());var E=H.EMPTY_STRING,_=s.contentWindow;try{E=_?_.location.href:H.EMPTY_STRING}catch(I){}if(!$.isEmpty(E)){var S=_?_.location.hash:H.EMPTY_STRING;return He.hashContainsKnownProperties(S)?(h.removeHiddenIframe(s),clearInterval(w),void p(S)):void 0}},50)})},o.prototype.loadFrame=function(s){var c=this;return new Promise(function(h,p){var g=c.createHiddenIframe();setTimeout(function(){g?(g.src=s,h(g)):p("Unable to load iframe")},c.navigateFrameWait)})},o.prototype.loadFrameSync=function(s){var c=this.createHiddenIframe();return c.src=s,c},o.prototype.createHiddenIframe=function(){var s=document.createElement("iframe");return s.style.visibility="hidden",s.style.position="absolute",s.style.width=s.style.height="0",s.style.border="0",s.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(s),s},o.prototype.removeHiddenIframe=function(s){document.body===s.parentNode&&document.body.removeChild(s)},o}(cu),yd=function(u){function o(s,c,h,p,g,y,w,E){var _=u.call(this,s,c,h,p,g,y,E)||this;return _.apiId=w,_}return nn(o,u),o.prototype.acquireToken=function(s){return F(this,void 0,void 0,function(){var c,h,p,g,y,w;return U(this,function(E){switch(E.label){case 0:if(this.logger.verbose("acquireTokenByIframe called"),$.isEmpty(s.loginHint)&&$.isEmpty(s.sid)&&(!s.account||$.isEmpty(s.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),s.prompt&&s.prompt!==fi.NONE)throw K.createSilentPromptValueError(s.prompt);return[4,this.initializeAuthorizationRequest(De(De({},s),{prompt:fi.NONE}),G.Silent)];case 1:c=E.sent(),this.browserStorage.updateCacheEntries(c.state,c.nonce,c.authority,c.loginHint||"",c.account||null),h=this.initializeServerTelemetryManager(this.apiId),E.label=2;case 2:return E.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(c)];case 3:return p=E.sent(),[4,this.createAuthCodeClient(h,c.authority,c.azureCloudOptions)];case 4:return g=E.sent(),this.logger.verbose("Auth code client created"),[4,g.getAuthCodeUrl(c)];case 5:return y=E.sent(),[4,this.silentTokenHelper(y,p,g,this.logger)];case 6:return[2,E.sent()];case 7:throw(w=E.sent())instanceof X&&w.setCorrelationId(this.correlationId),h.cacheFailedRequest(w),this.browserStorage.cleanRequestByState(c.state),w;case 8:return[2]}})})},o.prototype.logout=function(){return Promise.reject(K.createSilentLogoutUnsupportedError())},o.prototype.silentTokenHelper=function(s,c,h,p){return F(this,void 0,void 0,function(){var g,y,w,E;return U(this,function(_){switch(_.label){case 0:return[4,(g=new uu(h,this.browserStorage,c,p,this.config.system.navigateFrameWait)).initiateAuthRequest(s)];case 1:return y=_.sent(),[4,g.monitorIframeForHash(y,this.config.system.iframeHashTimeout)];case 2:return w=_.sent(),E=this.validateAndExtractStateFromHash(w,G.Silent,c.correlationId),[2,g.handleCodeResponseFromHash(w,E,h.authority,this.networkClient)]}})})},o}(Go),qm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return nn(o,u),o.prototype.acquireToken=function(s){return F(this,void 0,void 0,function(){var c,h,p,g,y=this;return U(this,function(w){switch(w.label){case 0:return h=[De({},s)],[4,this.initializeBaseRequest(s)];case 1:return c=De.apply(void 0,h.concat([w.sent()])),p=this.initializeServerTelemetryManager(vt.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(p,c.authority,c.azureCloudOptions)];case 2:return g=w.sent(),this.logger.verbose("Refresh token client created"),[2,g.acquireTokenByRefreshToken(c).catch(function(E){throw E instanceof X&&E.setCorrelationId(y.correlationId),p.cacheFailedRequest(E),E})]}})})},o.prototype.logout=function(){return Promise.reject(K.createSilentLogoutUnsupportedError())},o.prototype.createRefreshTokenClient=function(s,c,h){return F(this,void 0,void 0,function(){var p;return U(this,function(g){switch(g.label){case 0:return[4,this.getClientConfiguration(s,c,h)];case 1:return p=g.sent(),[2,new ps(p)]}})})},o}(Go),Nf=function(){function u(o,s,c,h){this.isBrowserEnvironment="undefined"!=typeof window,this.config=o,this.storage=s,this.logger=c,this.cryptoObj=h}return u.prototype.loadExternalTokens=function(o,s,c){if(this.logger.info("TokenCache - loadExternalTokens called"),!s.id_token)throw K.createUnableToLoadTokenError("Please ensure server response includes id token.");if(o.account)this.loadIdToken(s.id_token,o.account.homeAccountId,o.account.environment,o.account.tenantId,c),this.loadAccessToken(o,s,o.account.homeAccountId,o.account.environment,o.account.tenantId,c);else{if(!o.authority)throw K.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var h=gs.generateAuthority(o.authority,o.azureCloudOptions),g=new gs(h,this.config.system.networkClient,this.storage,{protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata});if(c.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),this.loadIdToken(s.id_token,c.clientInfo,g.hostnameAndPort,g.tenant,c),this.loadAccessToken(o,s,c.clientInfo,g.hostnameAndPort,g.tenant,c);else{if(!s.client_info)throw K.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),this.loadIdToken(s.id_token,s.client_info,g.hostnameAndPort,g.tenant,c),this.loadAccessToken(o,s,s.client_info,g.hostnameAndPort,g.tenant,c)}}},u.prototype.loadIdToken=function(o,s,c,h,p){var g=Fo.createIdTokenEntity(s,c,o,this.config.auth.clientId,h),y=new er(o,this.cryptoObj),w=p.clientInfo?Ft.createAccount(p.clientInfo,s,y,void 0,void 0,void 0,void 0,c):Ft.createGenericAccount(s,y,void 0,void 0,void 0,void 0,c);if(!this.isBrowserEnvironment)throw K.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading id token"),this.storage.setAccount(w),this.storage.setIdTokenCredential(g)},u.prototype.loadAccessToken=function(o,s,c,h,p,g){if(s.access_token){if(!s.expires_in)throw K.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!g.extendedExpiresOn)throw K.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var y=new mr(o.scopes).printScopes(),_=ds.createAccessTokenEntity(c,h,s.access_token,this.config.auth.clientId,p,y,s.expires_in,g.extendedExpiresOn,this.cryptoObj);if(!this.isBrowserEnvironment)throw K.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(_)}else this.logger.verbose("TokenCache - No access token provided for caching")},u}(),kf=function(u){function o(s){var c=u.call(this,s)||this;return c.includeRedirectUri=!1,c}return nn(o,u),o}(fs),Pf=function(u){function o(s,c,h,p,g,y,w,E){var _=u.call(this,s,c,h,p,g,y,E)||this;return _.apiId=w,_}return nn(o,u),o.prototype.acquireToken=function(s){return F(this,void 0,void 0,function(){var c,h,p,g,y,w;return U(this,function(E){switch(E.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!s.code)throw K.createAuthCodeRequiredError();return[4,this.initializeAuthorizationRequest(s,G.Silent)];case 1:c=E.sent(),this.browserStorage.updateCacheEntries(c.state,c.nonce,c.authority,c.loginHint||"",c.account||null),h=this.initializeServerTelemetryManager(this.apiId),E.label=2;case 2:return E.trys.push([2,4,,5]),p=De(De({},c),{code:s.code}),[4,this.getClientConfiguration(h,c.authority)];case 3:return g=E.sent(),y=new kf(g),this.logger.verbose("Auth code client created"),[2,new uu(y,this.browserStorage,p,this.logger,this.config.system.navigateFrameWait).handleCodeResponseFromServer({code:s.code,msgraph_host:s.msGraphHost,cloud_graph_host_name:s.cloudGraphHostName,cloud_instance_host_name:s.cloudInstanceHostName},c.state,y.authority,this.networkClient,!1)];case 4:throw(w=E.sent())instanceof X&&w.setCorrelationId(this.correlationId),h.cacheFailedRequest(w),this.browserStorage.cleanRequestByState(c.state),w;case 5:return[2]}})})},o.prototype.logout=function(){return Promise.reject(K.createSilentLogoutUnsupportedError())},o}(Go),ba=function(){function u(o){var s,c,h,p,g,y,w,E,_;this.isBrowserEnvironment="undefined"!=typeof window,this.config=(c=this.isBrowserEnvironment,h=(s=o).auth,p=s.cache,g=s.system,y={clientId:"",authority:""+H.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:"",authorityMetadata:"",redirectUri:"",postLogoutRedirectUri:"",navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:da.AAD,azureCloudOptions:{azureCloudInstance:pr.None,tenant:""}},w={cacheLocation:Qt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},E={loggerCallback:function(){},logLevel:xt.Info,piiLoggingEnabled:!1},_=De(De({},Ql),{loggerOptions:E,networkClient:c?ct.getBrowserNetworkClient():ms,navigationClient:new pd,loadFrameTimeout:0,windowHashTimeout:g&&g.loadFrameTimeout||6e4,iframeHashTimeout:g&&g.loadFrameTimeout||6e3,navigateFrameWait:c&&ct.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1}),{auth:De(De({},y),h),cache:De(De({},w),p),system:De(De({},_),g)}),this.logger=new gr(this.config.system.loggerOptions,"@azure/msal-browser","2.22.0"),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.browserCrypto=this.isBrowserEnvironment?new Of(this.logger):gi,this.eventHandler=new Ea(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new Hr(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):new Hr(this.config.auth.clientId,{cacheLocation:Qt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},gi,this.logger),this.tokenCache=new Nf(this.config,this.browserStorage,this.logger,this.browserCrypto)}return u.prototype.handleRedirectPromise=function(o){return F(this,void 0,void 0,function(){var s,c,h,p,g,y=this;return U(this,function(w){return this.logger.verbose("handleRedirectPromise called"),s=this.getAllAccounts(),this.isBrowserEnvironment?(void 0===(h=this.redirectResponse.get(c=o||H.EMPTY_STRING))?(this.eventHandler.emitEvent(oe.HANDLE_REDIRECT_START,G.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),p=this.browserStorage.getTemporaryCache(qe.CORRELATION_ID,!0)||"",g=new md(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,p),h=g.handleRedirectPromise(o).then(function(E){return E&&(s.length<y.getAllAccounts().length?(y.eventHandler.emitEvent(oe.LOGIN_SUCCESS,G.Redirect,E),y.logger.verbose("handleRedirectResponse returned result, login success")):(y.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,G.Redirect,E),y.logger.verbose("handleRedirectResponse returned result, acquire token success"))),y.eventHandler.emitEvent(oe.HANDLE_REDIRECT_END,G.Redirect),E}).catch(function(E){throw y.eventHandler.emitEvent(s.length>0?oe.ACQUIRE_TOKEN_FAILURE:oe.LOGIN_FAILURE,G.Redirect,null,E),y.eventHandler.emitEvent(oe.HANDLE_REDIRECT_END,G.Redirect),E}),this.redirectResponse.set(c,h)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,h]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},u.prototype.acquireTokenRedirect=function(o){return F(this,void 0,void 0,function(){var s,c=this;return U(this,function(h){return this.logger.verbose("acquireTokenRedirect called"),this.preflightBrowserEnvironmentCheck(G.Redirect),(s=this.getAllAccounts().length>0)?this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,G.Redirect,o):this.eventHandler.emitEvent(oe.LOGIN_START,G.Redirect,o),[2,new md(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,o.correlationId).acquireToken(o).catch(function(p){throw c.eventHandler.emitEvent(s?oe.ACQUIRE_TOKEN_FAILURE:oe.LOGIN_FAILURE,G.Redirect,null,p),p})]})})},u.prototype.acquireTokenPopup=function(o){var s=this;try{this.logger.verbose("acquireTokenPopup called",o.correlationId),this.preflightBrowserEnvironmentCheck(G.Popup)}catch(h){return Promise.reject(h)}var c=this.getAllAccounts();return this.eventHandler.emitEvent(c.length>0?oe.ACQUIRE_TOKEN_START:oe.LOGIN_START,G.Popup,o),new Oi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,o.correlationId).acquireToken(o).then(function(h){return c.length<s.getAllAccounts().length?s.eventHandler.emitEvent(oe.LOGIN_SUCCESS,G.Popup,h):s.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,G.Popup,h),h}).catch(function(h){return s.eventHandler.emitEvent(c.length>0?oe.ACQUIRE_TOKEN_FAILURE:oe.LOGIN_FAILURE,G.Popup,null,h),Promise.reject(h)})},u.prototype.ssoSilent=function(o){return F(this,void 0,void 0,function(){var s,c;return U(this,function(h){switch(h.label){case 0:this.preflightBrowserEnvironmentCheck(G.Silent),this.logger.verbose("ssoSilent called",o.correlationId),this.eventHandler.emitEvent(oe.SSO_SILENT_START,G.Silent,o),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,new yd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,vt.ssoSilent,o.correlationId).acquireToken(o)];case 2:return s=h.sent(),this.eventHandler.emitEvent(oe.SSO_SILENT_SUCCESS,G.Silent,s),[2,s];case 3:throw c=h.sent(),this.eventHandler.emitEvent(oe.SSO_SILENT_FAILURE,G.Silent,null,c),c;case 4:return[2]}})})},u.prototype.acquireTokenByCode=function(o){return F(this,void 0,void 0,function(){var s,c=this;return U(this,function(h){this.preflightBrowserEnvironmentCheck(G.Silent),this.logger.trace("acquireTokenByCode called",o.correlationId),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_BY_CODE_START,G.Silent,o);try{if(!o.code)throw K.createAuthCodeRequiredError();return(s=this.hybridAuthCodeResponses.get(o.code))?this.logger.verbose("Existing acquireTokenByCode request found",o.correlationId):(this.logger.verbose("Initiating new acquireTokenByCode request",o.correlationId),s=this.acquireTokenByCodeAsync(o).then(function(p){return c.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_BY_CODE_SUCCESS,G.Silent,p),c.hybridAuthCodeResponses.delete(o.code),p}).catch(function(p){throw c.hybridAuthCodeResponses.delete(o.code),p}),this.hybridAuthCodeResponses.set(o.code,s)),[2,s]}catch(p){throw this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_BY_CODE_FAILURE,G.Silent,null,p),p}return[2]})})},u.prototype.acquireTokenByCodeAsync=function(o){return F(this,void 0,void 0,function(){return U(this,function(s){switch(s.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",o.correlationId),[4,new Pf(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,vt.acquireTokenByCode,o.correlationId).acquireToken(o)];case 1:return[2,s.sent()]}})})},u.prototype.acquireTokenByRefreshToken=function(o){return F(this,void 0,void 0,function(){var s=this;return U(this,function(c){return this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_NETWORK_START,G.Silent,o),ct.blockReloadInHiddenIframes(),[2,new qm(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,o.correlationId).acquireToken(o).catch(function(h){if(h instanceof ls&&"invalid_grant"===h.errorCode&&!(h instanceof yr))return s.logger.verbose("Refresh token expired or invalid, attempting acquire token by iframe",o.correlationId),new yd(s.config,s.browserStorage,s.browserCrypto,s.logger,s.eventHandler,s.navigationClient,vt.acquireTokenSilent_authCode,o.correlationId).acquireToken(o);throw h})]})})},u.prototype.logout=function(o){return F(this,void 0,void 0,function(){return U(this,function(s){return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead."),[2,this.logoutRedirect(o)]})})},u.prototype.logoutRedirect=function(o){return F(this,void 0,void 0,function(){return U(this,function(s){return this.preflightBrowserEnvironmentCheck(G.Redirect),[2,new md(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,null==o?void 0:o.correlationId).logout(o)]})})},u.prototype.logoutPopup=function(o){try{return this.preflightBrowserEnvironmentCheck(G.Popup),new Oi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,null==o?void 0:o.correlationId).logout(o)}catch(s){return Promise.reject(s)}},u.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},u.prototype.getAccountByUsername=function(o){var s=this.getAllAccounts();return!$.isEmpty(o)&&s&&s.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+o),s.filter(function(c){return c.username.toLowerCase()===o.toLowerCase()})[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},u.prototype.getAccountByHomeId=function(o){var s=this.getAllAccounts();return!$.isEmpty(o)&&s&&s.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+o),s.filter(function(c){return c.homeAccountId===o})[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},u.prototype.getAccountByLocalId=function(o){var s=this.getAllAccounts();return!$.isEmpty(o)&&s&&s.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+o),s.filter(function(c){return c.localAccountId===o})[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},u.prototype.setActiveAccount=function(o){this.browserStorage.setActiveAccount(o)},u.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},u.prototype.preflightBrowserEnvironmentCheck=function(o){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),ct.blockNonBrowserEnvironment(this.isBrowserEnvironment),ct.blockRedirectInIframe(o,this.config.system.allowRedirectInIframe),ct.blockReloadInHiddenIframes(),ct.blockAcquireTokenInPopups(),o===G.Redirect&&this.config.cache.cacheLocation===Qt.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw au.createInMemoryRedirectUnavailableError();o!==G.Redirect&&o!==G.Popup||this.preflightInteractiveRequest()},u.prototype.preflightInteractiveRequest=function(){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),ct.blockReloadInHiddenIframes(),this.browserStorage.setInteractionInProgress(!0)},u.prototype.addEventCallback=function(o){return this.eventHandler.addEventCallback(o)},u.prototype.removeEventCallback=function(o){this.eventHandler.removeEventCallback(o)},u.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},u.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},u.prototype.getTokenCache=function(){return this.tokenCache},u.prototype.getLogger=function(){return this.logger},u.prototype.setLogger=function(o){this.logger=o},u.prototype.initializeWrapperLibrary=function(o,s){this.browserStorage.setWrapperMetadata(o,s)},u.prototype.setNavigationClient=function(o){this.navigationClient=o},u.prototype.getConfiguration=function(){return this.config},u}(),lu=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return nn(o,u),o.prototype.acquireToken=function(s){return F(this,void 0,void 0,function(){var c,h,p,g;return U(this,function(y){switch(y.label){case 0:return c=this.initializeServerTelemetryManager(vt.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(c,s.authority,s.azureCloudOptions)];case 1:h=y.sent(),this.logger.verbose("Silent auth client created"),y.label=2;case 2:return y.trys.push([2,4,,5]),[4,h.acquireCachedToken(s)];case 3:return p=y.sent(),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,G.Silent,p),[2,p];case 4:throw(g=y.sent())instanceof K&&"crypto_key_not_found"===g.errorCode&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),g;case 5:return[2]}})})},o.prototype.logout=function(){return Promise.reject(K.createSilentLogoutUnsupportedError())},o.prototype.createSilentFlowClient=function(s,c,h){return F(this,void 0,void 0,function(){var p;return U(this,function(g){switch(g.label){case 0:return[4,this.getClientConfiguration(s,c,h)];case 1:return p=g.sent(),[2,new yf(p)]}})})},o.prototype.initializeSilentRequest=function(s,c){return F(this,void 0,void 0,function(){var h;return U(this,function(p){switch(p.label){case 0:return h=[De({},s)],[4,this.initializeBaseRequest(s)];case 1:return[2,De.apply(void 0,[De.apply(void 0,h.concat([p.sent()])),{account:c,forceRefresh:s.forceRefresh||!1}])]}})})},o}(Go),Ni=function(u){function o(s){var c=u.call(this,s)||this;return c.activeSilentTokenRequests=new Map,c}return nn(o,u),o.prototype.loginRedirect=function(s){return F(this,void 0,void 0,function(){return U(this,function(c){return this.logger.verbose("loginRedirect called"),[2,this.acquireTokenRedirect(s||ke)]})})},o.prototype.loginPopup=function(s){return this.logger.verbose("loginPopup called"),this.acquireTokenPopup(s||ke)},o.prototype.acquireTokenSilent=function(s){return F(this,void 0,void 0,function(){var c,p,g,y,w=this;return U(this,function(E){if(this.preflightBrowserEnvironmentCheck(G.Silent),this.logger.verbose("acquireTokenSilent called",s.correlationId),!(c=s.account||this.getActiveAccount()))throw K.createNoAccountError();return p=JSON.stringify({clientId:this.config.auth.clientId,authority:s.authority||"",scopes:s.scopes,homeAccountIdentifier:c.homeAccountId,claims:s.claims,authenticationScheme:s.authenticationScheme,resourceRequestMethod:s.resourceRequestMethod,resourceRequestUri:s.resourceRequestUri,shrClaims:s.shrClaims,sshKid:s.sshKid}),void 0===(g=this.activeSilentTokenRequests.get(p))?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",s.correlationId),y=this.acquireTokenSilentAsync(s,c).then(function(_){return w.activeSilentTokenRequests.delete(p),_}).catch(function(_){throw w.activeSilentTokenRequests.delete(p),_}),this.activeSilentTokenRequests.set(p,y),[2,y]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",s.correlationId),[2,g])})})},o.prototype.acquireTokenSilentAsync=function(s,c){return F(this,void 0,void 0,function(){var h,p,g=this;return U(this,function(y){switch(y.label){case 0:return[4,(h=new lu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,s.correlationId)).initializeSilentRequest(s,c)];case 1:return p=y.sent(),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,G.Silent,s),[2,h.acquireToken(p).catch(function(){return F(g,void 0,void 0,function(){var w,E;return U(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,this.acquireTokenByRefreshToken(p)];case 1:return w=_.sent(),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,G.Silent,w),[2,w];case 2:throw E=_.sent(),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,G.Silent,null,E),E;case 3:return[2]}})})})]}})})},o}(ba);function vd(u,o){if(o.length<u)throw new TypeError(u+" argument"+(u>1?"s":"")+" required, but only "+o.length+" present")}function Cd(u){vd(1,arguments);var o=Object.prototype.toString.call(u);return u instanceof Date||"object"==typeof u&&"[object Date]"===o?new Date(u.getTime()):"number"==typeof u||"[object Number]"===o?new Date(u):("string"!=typeof u&&"[object String]"!==o||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}class pn extends mt{constructor(){super(...arguments),this.loginRequest={scopes:["openid","profile","User.Read"]},this._isAuth=!1}handleAuthChange(){var o=this;return fe(function*(){const s={detail:{authenticated:o._isAuth,account:o.getAccount()},bubbles:!0,composed:!0};Xe(o,"arc-auth",s)})()}connectedCallback(){super.connectedCallback(),this._msalInstance=this._initMsal(),this.scopes&&this.scopes.length>0&&(this.loginRequest.scopes=this.loginRequest.scopes.concat(this.scopes)),this._isAuth=this._isAuthenticated()}_initMsal(){return new Ni({auth:{clientId:this.clientId,authority:`https://login.microsoftonline.com/${this.tenantId?this.tenantId:"common/"}`,redirectUri:this.redirectUri},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1}})}_isAuthenticated(){return!!this.getAccount()&&!function Gm(u){const o=u.idTokenClaims.exp;return!function(s,c){vd(2,arguments);var h=Cd(s),p=Cd(c);return h.getTime()>p.getTime()}(o?new Date(1e3*o):new Date(0),new Date)}(this.getAccount())}signIn(){var o=this;return fe(function*(){yield o._msalInstance.loginPopup(o.loginRequest),o._isAuth=o._isAuthenticated()})()}signOut(){var o=this;return fe(function*(){yield o._msalInstance.logoutRedirect({account:o.getAccount()})})()}getAccount(){return this._msalInstance.getAllAccounts()[0]}render(){const o=this.getAccount(),s=Ce` ${o&&o.name?Ce` <arc-icon-button class="mobile" slot="trigger" name="${_c}" label="${o.name}"></arc-icon-button> <arc-button class="fullscreen" slot="trigger" type="tab"> ${o.name} <arc-icon slot="suffix" name="${_c}"></arc-icon> </arc-button> `:Ce` <arc-icon-button slot="trigger" name="${_c}" label="User"></arc-icon-button> `} `;return Ce` <div id="main"> ${this._isAuth?Ce` <slot name="logout"> <arc-dropdown id="userMenu" hoist> ${s} <arc-menu> <arc-menu-item @click="${this.signOut}">Logout</arc-menu-item> </arc-menu> </arc-dropdown> </slot> `:Le} ${this._isAuth?Le:Ce` <slot name="login"> <arc-button type="tab" @click="${this.signIn}">Login</arc-button> </slot> `} </div> `}}pn.tag="arc-sso",pn.styles=[Xt,Ge`:host{display:inline-flex;width:auto}#main{display:inline-flex}#userMenu .fullscreen{display:none}@media (min-width:${49}rem){#userMenu .mobile{display:none}#userMenu .fullscreen{display:initial;border-left:var(--arc-border-width) var(--arc-border-style) rgb(var(--arc-color-default));border-right:var(--arc-border-width) var(--arc-border-style) rgb(var(--arc-color-default))}}`],k([eo()],pn.prototype,"_msalInstance",void 0),k([eo()],pn.prototype,"_isAuth",void 0),k([Q({attribute:"client-id",type:String})],pn.prototype,"clientId",void 0),k([Q({attribute:"tenant-id",type:String})],pn.prototype,"tenantId",void 0),k([Q({attribute:"redirect-uri",type:String})],pn.prototype,"redirectUri",void 0),k([Q({type:Array,converter:u=>u?u.split(/[ ,]+/):[]})],pn.prototype,"scopes",void 0),k([Vn("_isAuth")],pn.prototype,"handleAuthChange",null),customElements.define(pn.tag,pn)},583:(St,Tt,Jt)=>{"use strict";function fe(e){return"function"==typeof e}function k(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Dr=k(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ur(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class wt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const a of n)a.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(fe(r))try{r()}catch(a){t=a instanceof Dr?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{Sr(a)}catch(l){t=null!=t?t:[],l instanceof Dr?t=[...t,...l.errors]:t.push(l)}}if(t)throw new Dr(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Sr(t);else{if(t instanceof wt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ur(n,t)}remove(t){const{_finalizers:n}=this;n&&ur(n,t),t instanceof wt&&t._removeParent(this)}}wt.EMPTY=(()=>{const e=new wt;return e.closed=!0,e})();const Yr=wt.EMPTY;function Ge(e){return e instanceof wt||e&&"closed"in e&&fe(e.remove)&&fe(e.add)&&fe(e.unsubscribe)}function Sr(e){fe(e)?e():e.unsubscribe()}const $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bo={setTimeout(e,t,...n){const{delegate:r}=bo;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=bo;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function tl(e){bo.setTimeout(()=>{const{onUnhandledError:t}=$t;if(!t)throw e;t(e)})}function ac(){}const cc=Zr("C",void 0,void 0);function Zr(e,t,n){return{kind:e,value:t,error:n}}let Tr=null;function Ar(e){if($t.useDeprecatedSynchronousErrorHandling){const t=!Tr;if(t&&(Tr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Tr;if(Tr=null,n)throw r}}else e()}class lr extends wt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ge(t)&&t.add(this)):this.destination=sl}static create(t,n,r){return new Jr(t,n,r)}next(t){this.isStopped?_o(function uc(e){return Zr("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?_o(function nl(e){return Zr("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_o(cc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ol=Function.prototype.bind;function lc(e,t){return ol.call(e,t)}class ni{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Xr(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Xr(r)}else Xr(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Xr(n)}}}class Jr extends lr{constructor(t,n,r){let i;if(super(),fe(t)||!t)i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let a;this&&$t.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&lc(t.next,a),error:t.error&&lc(t.error,a),complete:t.complete&&lc(t.complete,a)}):i=t}this.destination=new ni(i)}}function Xr(e){$t.useDeprecatedSynchronousErrorHandling?function rl(e){$t.useDeprecatedSynchronousErrorHandling&&Tr&&(Tr.errorThrown=!0,Tr.error=e)}(e):tl(e)}function _o(e,t){const{onStoppedNotification:n}=$t;n&&bo.setTimeout(()=>n(e,t))}const sl={closed:!0,next:ac,error:function il(e){throw e},complete:ac},xs="function"==typeof Symbol&&Symbol.observable||"@@observable";function mn(e){return e}let lt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const a=function Le(e){return e&&e instanceof lr||function Nn(e){return e&&fe(e.next)&&fe(e.error)&&fe(e.complete)}(e)&&Ge(e)}(n)?n:new Jr(n,r,i);return Ar(()=>{const{operator:l,source:d}=this;a.add(l?l.call(a,d):d?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ce(r))((i,a)=>{const l=new Jr({next:d=>{try{n(d)}catch(f){a(f),l.unsubscribe()}},error:a,complete:i});this.subscribe(l)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[xs](){return this}pipe(...n){return function dc(e){return 0===e.length?mn:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Ce(n))((r,i)=>{let a;this.subscribe(l=>a=l,l=>i(l),()=>r(a))})}}return e.create=t=>new e(t),e})();function Ce(e){var t;return null!==(t=null!=e?e:$t.Promise)&&void 0!==t?t:Promise}const al=k(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let cn=(()=>{class e extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new cl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new al}next(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:a}=this;return r||i?Yr:(this.currentObservers=null,a.push(n),new wt(()=>{this.currentObservers=null,ur(a,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:a}=this;r?n.error(i):a&&n.complete()}asObservable(){const n=new lt;return n.source=this,n}}return e.create=(t,n)=>new cl(t,n),e})();class cl extends cn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Yr}}function ri(e){return fe(null==e?void 0:e.lift)}function nt(e){return t=>{if(ri(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function At(e,t,n,r,i){return new Gi(e,t,n,r,i)}class Gi extends lr{constructor(t,n,r,i,a,l){super(t),this.onFinalize=a,this.shouldUnsubscribe=l,this._next=n?function(d){try{n(d)}catch(f){t.error(f)}}:super._next,this._error=i?function(d){try{i(d)}catch(f){t.error(f)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function je(e,t){return nt((n,r)=>{let i=0;n.subscribe(At(r,a=>{r.next(e.call(t,a,i++))}))})}function Xe(e){return this instanceof Xe?(this.v=e,this):new Xe(e)}function Fs(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(b){r[b]&&(i[b]=function(D){return new Promise(function(T,R){a.push([b,D,T,R])>1||d(b,D)})})}function d(b,D){try{!function f(b){b.value instanceof Xe?Promise.resolve(b.value.v).then(m,v):C(a[0][2],b)}(r[b](D))}catch(T){C(a[0][3],T)}}function m(b){d("next",b)}function v(b){d("throw",b)}function C(b,D){b(D),a.shift(),a.length&&d(a[0][0],a[0][1])}}function jh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Q(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(d,f){!function i(a,l,d,f){Promise.resolve(f).then(function(m){a({value:m,done:d})},l)}(d,f,(l=e[a](l)).done,l.value)})}}}const zi=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Us(e){return fe(null==e?void 0:e.then)}function mc(e){return fe(e[xs])}function qn(e){return Symbol.asyncIterator&&fe(null==e?void 0:e[Symbol.asyncIterator])}function fl(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Gn=function oi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pl(e){return fe(null==e?void 0:e[Gn])}function gl(e){return Fs(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Xe(n.read());if(i)return yield Xe(void 0);yield yield Xe(r)}}finally{n.releaseLock()}})}function Ki(e){return fe(null==e?void 0:e.getReader)}function kn(e){if(e instanceof lt)return e;if(null!=e){if(mc(e))return function qh(e){return new lt(t=>{const n=e[xs]();if(fe(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(zi(e))return function ml(e){return new lt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Us(e))return function yc(e){return new lt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,tl)})}(e);if(qn(e))return yl(e);if(pl(e))return function Gh(e){return new lt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Ki(e))return function zh(e){return yl(gl(e))}(e)}throw fl(e)}function yl(e){return new lt(t=>{(function Kh(e,t){var n,r,i,a;return function fc(e,t,n,r){return new(n||(n=Promise))(function(a,l){function d(v){try{m(r.next(v))}catch(C){l(C)}}function f(v){try{m(r.throw(v))}catch(C){l(C)}}function m(v){v.done?a(v.value):function i(a){return a instanceof n?a:new n(function(l){l(a)})}(v.value).then(d,f)}m((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=jh(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(a=n.return)&&(yield a.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function zn(e,t,n,r=0,i=!1){const a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function We(e,t,n=1/0){return fe(t)?We((r,i)=>je((a,l)=>t(r,a,i,l))(kn(e(r,i))),n):("number"==typeof t&&(n=t),nt((r,i)=>function it(e,t,n,r,i,a,l,d){const f=[];let m=0,v=0,C=!1;const b=()=>{C&&!f.length&&!m&&t.complete()},D=R=>m<r?T(R):f.push(R),T=R=>{a&&t.next(R),m++;let N=!1;kn(n(R,v++)).subscribe(At(t,P=>{null==i||i(P),a?D(P):t.next(P)},()=>{N=!0},void 0,()=>{if(N)try{for(m--;f.length&&m<r;){const P=f.shift();l?zn(t,l,()=>T(P)):T(P)}b()}catch(P){t.error(P)}}))};return e.subscribe(At(t,D,()=>{C=!0,b()})),()=>{null==d||d()}}(r,i,e,n)))}function dr(e=1/0){return We(mn,e)}const Kn=new lt(e=>e.complete());function vc(e){return e[e.length-1]}function Wn(e){return function Cl(e){return e&&fe(e.schedule)}(vc(e))?e.pop():void 0}function Hs(e,t=0){return nt((n,r)=>{n.subscribe(At(r,i=>zn(r,e,()=>r.next(i),t),()=>zn(r,e,()=>r.complete(),t),i=>zn(r,e,()=>r.error(i),t)))})}function js(e,t=0){return nt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Cc(e,t){if(!e)throw new Error("Iterable cannot be null");return new lt(n=>{zn(n,t,()=>{const r=e[Symbol.asyncIterator]();zn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function It(e,t){return t?function Xh(e,t){if(null!=e){if(mc(e))return function Yh(e,t){return kn(e).pipe(js(t),Hs(t))}(e,t);if(zi(e))return function Jh(e,t){return new lt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Us(e))return function Zh(e,t){return kn(e).pipe(js(t),Hs(t))}(e,t);if(qn(e))return Cc(e,t);if(pl(e))return function wl(e,t){return new lt(n=>{let r;return zn(n,t,()=>{r=e[Gn](),zn(n,t,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(l){return void n.error(l)}a?n.complete():n.next(i)},0,!0)}),()=>fe(null==r?void 0:r.return)&&r.return()})}(e,t);if(Ki(e))return function Wi(e,t){return Cc(gl(e),t)}(e,t)}throw fl(e)}(e,t):kn(e)}function $s(e){return e<=0?()=>Kn:nt((t,n)=>{let r=0;t.subscribe(At(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function wc(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe($s(1)).subscribe(()=>e())}function Ve(e){for(let t in e)if(e[t]===Ve)return t;throw Error("Could not find renamed property on target object.")}function Ue(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ue).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function bc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const _c=Ve({__forward_ref__:Ve});function Dc(e){return e.__forward_ref__=Dc,e.toString=function(){return Ue(this())},e}function se(e){return function Sc(e){return"function"==typeof e&&e.hasOwnProperty(_c)&&e.__forward_ref__===Dc}(e)?e():e}class Me extends Error{constructor(t,n){super(function Vs(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Rt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function ie(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Qi(e,t){const n=t?` in ${t}`:"";throw new Me(-201,`No provider for ${Rt(e)} found${n}`)}function en(e,t){null==e&&function ze(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Oe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Qe(e){return{providers:e.providers||[],imports:e.imports||[]}}function Pn(e){return So(e,tn)||So(e,ii)}function So(e,t){return e.hasOwnProperty(t)?e[t]:null}function Cn(e){return e&&(e.hasOwnProperty(Vt)||e.hasOwnProperty(Dl))?e[Vt]:null}const tn=Ve({\u0275prov:Ve}),Vt=Ve({\u0275inj:Ve}),ii=Ve({ngInjectableDef:Ve}),Dl=Ve({ngInjectorDef:Ve});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let Ic;function Et(e){const t=Ic;return Ic=e,t}function To(e,t,n){const r=Pn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&re.Optional?null:void 0!==t?t:void Qi(Ue(e),"Injector")}function Mr(e){return{toString:e}.toString()}var Zn=(()=>((Zn=Zn||{})[Zn.OnPush=0]="OnPush",Zn[Zn.Default=1]="Default",Zn))(),wn=(()=>{return(e=wn||(wn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",wn;var e})();const ai="undefined"!=typeof globalThis&&globalThis,ci="undefined"!=typeof window&&window,Rc="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,be=ai||"undefined"!=typeof global&&global||ci||Rc,Nr={},$e=[],to=Ve({\u0275cmp:Ve}),Yi=Ve({\u0275dir:Ve}),Io=Ve({\u0275pipe:Ve}),Mc=Ve({\u0275mod:Ve}),fr=Ve({\u0275fac:Ve}),Zi=Ve({__NG_ELEMENT_ID__:Ve});let ui=0;function qs(e){return Mr(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Zn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||$e,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||wn.Emulated,id:"c",styles:e.styles||$e,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,a=e.features,l=e.pipes;return r.id+=ui++,r.inputs=Gs(e.inputs,n),r.outputs=Gs(e.outputs),a&&a.forEach(d=>d(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Ji):null,r.pipeDefs=l?()=>("function"==typeof l?l():l).map(Tl):null,r})}function Ji(e){return Ot(e)||function xn(e){return e[Yi]||null}(e)}function Tl(e){return function kr(e){return e[Io]||null}(e)}const Xi={};function Ro(e){return Mr(()=>{const t={type:e.type,bootstrap:e.bootstrap||$e,declarations:e.declarations||$e,imports:e.imports||$e,exports:e.exports||$e,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Xi[e.id]=e.type),t})}function Gs(e,t){if(null==e)return Nr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}const bt=qs;function Ot(e){return e[to]||null}function En(e,t){const n=e[Mc]||null;if(!n&&!0===t)throw new Error(`Type ${Ue(e)} does not have '\u0275mod' property.`);return n}function De(e){return Array.isArray(e)&&"object"==typeof e[1]}function F(e){return Array.isArray(e)&&!0===e[1]}function U(e){return 0!=(8&e.flags)}function Zs(e){return 2==(2&e.flags)}function _n(e){return null!==e.template}function Ln(e){return 0!=(512&e[2])}function zt(e,t){return e.hasOwnProperty(fr)?e[fr]:null}class Uc{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ot(e){return e.type.prototype.ngOnChanges&&(e.setInput=Xs),Pt}function Pt(){const e=xr(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Nr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Xs(e,t,n,r){const i=xr(e)||function Po(e,t){return e[ko]=t}(e,{previous:Nr,current:null}),a=i.current||(i.current={}),l=i.previous,d=this.declaredInputs[n],f=l[d];a[d]=new Uc(f&&f.currentValue,t,l===Nr),e[r]=t}const ko="__ngSimpleChanges__";function xr(e){return e[ko]||null}let ta;function et(e){return!!e.listen}const jc={createRenderer:(e,t)=>function gi(){return void 0!==ta?ta:"undefined"!=typeof document?document:void 0}()};function at(e){for(;Array.isArray(e);)e=e[0];return e}function Dn(e,t){return at(t[e.index])}function hn(e,t){const n=t[e];return De(n)?n:n[0]}function ra(e){return 128==(128&e[2])}function Lr(e,t){return null==t?null:e[t]}function Bc(e){e[18]=0}function oa(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const te={lFrame:Wc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vc(){return te.bindingsEnabled}function O(){return te.lFrame.lView}function Se(){return te.lFrame.tView}function ht(){let e=qc();for(;null!==e&&64===e.type;)e=e.parent;return e}function qc(){return te.lFrame.currentTNode}function Xn(e,t){const n=te.lFrame;n.currentTNode=e,n.isParent=t}function ia(){return te.lFrame.isParent}function os(){return te.isInCheckNoChangesMode}function is(e){te.isInCheckNoChangesMode=e}function jl(e,t){const n=te.lFrame;n.bindingIndex=n.bindingRootIndex=e,sa(t)}function sa(e){te.lFrame.currentDirectiveIndex=e}function ca(e){te.lFrame.currentQueryIndex=e}function Bl(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function zc(e,t,n){if(n&re.SkipSelf){let i=t,a=e;for(;!(i=i.parent,null!==i||n&re.Host||(i=Bl(a),null===i||(a=a[15],10&i.type))););if(null===i)return!1;t=i,e=a}const r=te.lFrame=Kc();return r.currentTNode=t,r.lView=e,!0}function ss(e){const t=Kc(),n=e[1];te.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Kc(){const e=te.lFrame,t=null===e?null:e.child;return null===t?Wc(e):t}function Wc(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Qc(){const e=te.lFrame;return te.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Yc=Qc;function as(){const e=Qc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ur(e){te.lFrame.selectedIndex=e}function ao(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:d,ngAfterViewInit:f,ngAfterViewChecked:m,ngOnDestroy:v}=a;l&&(e.contentHooks||(e.contentHooks=[])).push(-n,l),d&&((e.contentHooks||(e.contentHooks=[])).push(n,d),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,d)),f&&(e.viewHooks||(e.viewHooks=[])).push(-n,f),m&&((e.viewHooks||(e.viewHooks=[])).push(n,m),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,m)),null!=v&&(e.destroyHooks||(e.destroyHooks=[])).push(n,v)}}function Ft(e,t,n){Wl(e,t,3,n)}function er(e,t,n,r){(3&e[2])===n&&Wl(e,t,n,r)}function Sn(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Wl(e,t,n,r){const a=null!=r?r:-1,l=t.length-1;let d=0;for(let f=void 0!==r?65535&e[18]:0;f<l;f++)if("number"==typeof t[f+1]){if(d=t[f],null!=r&&d>=r)break}else t[f]<0&&(e[18]+=65536),(d<a||-1==a)&&(Ql(e,n,t,f),e[18]=(4294901760&e[18])+f+2),f++}function Ql(e,t,n,r){const i=n[r]<0,a=n[r+1],d=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(d)}finally{}}}else try{a.call(d)}finally{}}class cs{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function vi(e,t,n){const r=et(e);let i=0;for(;i<n.length;){const a=n[i];if("number"==typeof a){if(0!==a)break;i++;const l=n[i++],d=n[i++],f=n[i++];r?e.setAttribute(t,d,f,l):t.setAttributeNS(l,d,f)}else{const l=a,d=n[++i];lo(l)?r&&e.setProperty(t,l,d):r?e.setAttribute(t,l,d):t.setAttribute(l,d),i++}}return i}function uo(e){return 3===e||4===e||6===e}function lo(e){return 64===e.charCodeAt(0)}function Fo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||tr(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function tr(e,t,n,r,i){let a=0,l=e.length;if(-1===t)l=-1;else for(;a<e.length;){const d=e[a++];if("number"==typeof d){if(d===t){l=-1;break}if(d>t){l=a-1;break}}}for(;a<e.length;){const d=e[a];if("number"==typeof d)break;if(d===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==l&&(e.splice(l,0,t),a=l+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function ds(e){return-1!==e}function ho(e){return 32767&e}function Ci(e,t){let n=function Zl(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let hs=!0;function yr(e){const t=hs;return hs=e,t}let da=0;function Uo(e,t){const n=wi(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Jc(r.data,e),Jc(t,null),Jc(r.blueprint,null));const i=fs(e,t),a=e.injectorIndex;if(ds(i)){const l=ho(i),d=Ci(i,t),f=d[1].data;for(let m=0;m<8;m++)t[a+m]=d[l+m]|f[l+m]}return t[a+8]=i,a}function Jc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function wi(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function fs(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const a=i[1],l=a.type;if(r=2===l?a.declTNode:1===l?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ps(e,t,n){!function Zc(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zi)&&(r=n[Zi]),null==r&&(r=n[Zi]=da++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Jl(e,t,n){if(n&re.Optional)return e;Qi(t,"NodeInjector")}function ha(e,t,n,r){if(n&re.Optional&&void 0===r&&(r=null),0==(n&(re.Self|re.Host))){const i=e[9],a=Et(void 0);try{return i?i.get(t,r,n&re.Optional):To(t,r,n&re.Optional)}finally{Et(a)}}return Jl(r,t,n)}function Qt(e,t,n,r=re.Default,i){if(null!==e){const a=function Xl(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Zi)?e[Zi]:void 0;return"number"==typeof t?t>=0?255&t:qe:t}(n);if("function"==typeof a){if(!zc(t,e,r))return r&re.Host?Jl(i,n,r):ha(t,n,r,i);try{const l=a(r);if(null!=l||r&re.Optional)return l;Qi(n)}finally{Yc()}}else if("number"==typeof a){let l=null,d=wi(e,t),f=-1,m=r&re.Host?t[16][6]:null;for((-1===d||r&re.SkipSelf)&&(f=-1===d?fs(e,t):t[d+8],-1!==f&&gs(r,!1)?(l=t[1],d=ho(f),t=Ci(f,t)):d=-1);-1!==d;){const v=t[1];if(ed(a,d,v.data)){const C=Ei(d,t,n,l,r,m);if(C!==nr)return C}f=t[d+8],-1!==f&&gs(r,t[1].data[d+8]===m)&&ed(a,d,t)?(l=v,d=ho(f),t=Ci(f,t)):d=-1}}}return ha(t,n,r,i)}const nr={};function qe(){return new Ho(ht(),O())}function Ei(e,t,n,r,i,a){const l=t[1],d=l.data[e+8],v=function vt(e,t,n,r,i){const a=e.providerIndexes,l=t.data,d=1048575&a,f=e.directiveStart,v=a>>20,b=i?d+v:e.directiveEnd;for(let D=r?d:d+v;D<b;D++){const T=l[D];if(D<f&&n===T||D>=f&&T.type===n)return D}if(i){const D=l[f];if(D&&_n(D)&&D.type===n)return f}return null}(d,l,n,null==r?Zs(d)&&hs:r!=l&&0!=(3&d.type),i&re.Host&&a===d);return null!==v?G(t,l,v,d):nr}function G(e,t,n,r){let i=e[n];const a=t.data;if(function gf(e){return e instanceof cs}(i)){const l=i;l.resolving&&function Tc(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Me(-200,`Circular dependency in DI detected for ${e}${n}`)}(Rt(a[n]));const d=yr(l.canSeeViewProviders);l.resolving=!0;const f=l.injectImpl?Et(l.injectImpl):null;zc(e,r,re.Default);try{i=e[n]=l.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ua(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=t.type.prototype;if(r){const l=ot(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,a[n],t)}finally{null!==f&&Et(f),yr(d),l.resolving=!1,Yc()}}return i}function ed(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function gs(e,t){return!(e&re.Self||e&re.Host&&t)}class Ho{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Qt(this._tNode,this._lView,t,r,n)}}const _i="__parameters__";function $o(e,t,n){return Mr(()=>{const r=function ys(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...a){if(this instanceof i)return r.apply(this,a),this;const l=new i(...a);return d.annotation=l,d;function d(f,m,v){const C=f.hasOwnProperty(_i)?f[_i]:Object.defineProperty(f,_i,{value:[]})[_i];for(;C.length<=v;)C.push(null);return(C[v]=C[v]||[]).push(l),f}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class ke{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Yt=new ke("AnalyzeForEntryComponents");function rr(e,t){e.forEach(n=>Array.isArray(n)?rr(n,t):t(n))}function eu(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Cs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Vo={},va="__NG_DI_FLAG__",Ai="ngTempTokenPath",If=/\n/gm,Ca="__source",Mf=Ve({provide:String,useValue:Ve});let qo;function iu(e){const t=qo;return qo=e,t}function Of(e,t=re.Default){if(void 0===qo)throw new Me(203,"");return null===qo?To(e,void 0,t):qo.get(e,t&re.Optional?null:void 0,t)}function J(e,t=re.Default){return(function hr(){return Ic}()||Of)(se(e),t)}const ld=J;function wa(e){const t=[];for(let n=0;n<e.length;n++){const r=se(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Me(900,"");let i,a=re.Default;for(let l=0;l<r.length;l++){const d=r[l],f=dd(d);"number"==typeof f?-1===f?i=d.token:a|=f:i=d}t.push(J(i,a))}else t.push(J(r))}return t}function Ii(e,t){return e[va]=t,e.prototype[va]=t,e}function dd(e){return e[va]}const Es=Ii($o("Inject",e=>({token:e})),-1),Hr=Ii($o("Optional"),8),bs=Ii($o("SkipSelf"),4),Aa="__ngContext__";function Ut(e,t){e[Aa]=t}function Lf(e){const t=function yu(e){return e[Aa]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Hf(e){return e.ngOriginalError}function h_(e,...t){e.error(...t)}class vu{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function d_(e){return e&&e.ngErrorLogger||h_}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Hf(t);for(;n&&Hf(n);)n=Hf(n);return n||null}}const b_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(be))();function go(e){return e instanceof Function?e():e}var or=(()=>((or=or||{})[or.Important=1]="Important",or[or.DashCase=2]="DashCase",or))();function $f(e,t){return undefined(e,t)}function Cu(e){const t=e[3];return F(t)?t[3]:t}function Bf(e){return ey(e[13])}function Vf(e){return ey(e[4])}function ey(e){for(;null!==e&&!F(e);)e=e[4];return e}function Ra(e,t,n,r,i){if(null!=r){let a,l=!1;F(r)?a=r:De(r)&&(l=!0,r=r[0]);const d=at(r);0===e&&null!==n?null==i?sy(t,n,d):Ds(t,n,d,i||null,!0):1===e&&null!==n?Ds(t,n,d,i||null,!0):2===e?function fy(e,t,n){const r=Md(e,t);r&&function F_(e,t,n,r){et(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,d,l):3===e&&t.destroyNode(d),null!=a&&function H_(e,t,n,r,i){const a=n[7];a!==at(n)&&Ra(t,e,r,a,i);for(let d=10;d<n.length;d++){const f=n[d];wu(f[1],f,e,t,r,a)}}(t,e,a,n,i)}}function Gf(e,t,n){if(et(e))return e.createElement(t,n);{const r=null!==n?function xt(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function ny(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,oa(i,-1)),n.splice(r,1)}function zf(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&ny(i,r),t>0&&(e[n-1][4]=r[4]);const a=Cs(e,10+t);!function I_(e,t){wu(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const l=a[19];null!==l&&l.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ry(e,t){if(!(256&t[2])){const n=t[11];et(n)&&n.destroyNode&&wu(e,t,n,3,null,null),function O_(e){let t=e[13];if(!t)return Kf(e[1],e);for(;t;){let n=null;if(De(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)De(t)&&Kf(t[1],t),t=t[3];null===t&&(t=e),De(t)&&Kf(t[1],t),n=t&&t[4]}t=n}}(t)}}function Kf(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function x_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof cs)){const a=n[r+1];if(Array.isArray(a))for(let l=0;l<a.length;l+=2){const d=i[a[l]],f=a[l+1];try{f.call(d)}finally{}}else try{a.call(i)}finally{}}}}(e,t),function P_(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const l=n[a+1],d="function"==typeof l?l(t):at(t[l]),f=r[i=n[a+2]],m=n[a+3];"boolean"==typeof m?d.removeEventListener(n[a],f,m):m>=0?r[i=m]():r[i=-m].unsubscribe(),a+=2}else{const l=r[i=n[a+1]];n[a].call(l)}if(null!==r){for(let a=i+1;a<r.length;a++)r[a]();t[7]=null}}(e,t),1===t[1].type&&et(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&F(t[3])){n!==t[3]&&ny(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function oy(e,t,n){return function iy(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===wn.None||i===wn.Emulated)return null}return Dn(r,n)}(e,t.parent,n)}function Ds(e,t,n,r,i){et(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function sy(e,t,n){et(e)?e.appendChild(t,n):t.appendChild(n)}function ay(e,t,n,r,i){null!==r?Ds(e,t,n,r,i):sy(e,t,n)}function Md(e,t){return et(e)?e.parentNode(t):t.parentNode}let ly=function uy(e,t,n){return 40&e.type?Dn(e,n):null};function Od(e,t,n,r){const i=oy(e,r,t),a=t[11],d=function cy(e,t,n){return ly(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let f=0;f<n.length;f++)ay(a,i,n[f],d,!1);else ay(a,i,n,d,!1)}function Nd(e,t){if(null!==t){const n=t.type;if(3&n)return Dn(t,e);if(4&n)return Qf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Nd(e,r);{const i=e[t.index];return F(i)?Qf(-1,i):at(i)}}if(32&n)return $f(t,e)()||at(e[t.index]);{const r=hy(e,t);return null!==r?Array.isArray(r)?r[0]:Nd(Cu(e[16]),r):Nd(e,t.next)}}return null}function hy(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Qf(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return Nd(r,i)}return t[7]}function Yf(e,t,n,r,i,a,l){for(;null!=n;){const d=r[n.index],f=n.type;if(l&&0===t&&(d&&Ut(at(d),r),n.flags|=4),64!=(64&n.flags))if(8&f)Yf(e,t,n.child,r,i,a,!1),Ra(t,e,i,d,a);else if(32&f){const m=$f(n,r);let v;for(;v=m();)Ra(t,e,i,v,a);Ra(t,e,i,d,a)}else 16&f?py(e,t,r,n,i,a):Ra(t,e,i,d,a);n=l?n.projectionNext:n.next}}function wu(e,t,n,r,i,a){Yf(n,r,e.firstChild,t,i,a,!1)}function py(e,t,n,r,i,a){const l=n[16],f=l[6].projection[r.projection];if(Array.isArray(f))for(let m=0;m<f.length;m++)Ra(t,e,i,f[m],a);else Yf(e,t,f,l[3],i,a,!0)}function gy(e,t,n){et(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Zf(e,t,n){et(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function my(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}const yy="ng-template";function $_(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==my(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function vy(e){return 4===e.type&&e.value!==yy}function B_(e,t,n){return t===(4!==e.type||n?e.value:yy)}function V_(e,t,n){let r=4;const i=e.attrs||[],a=function z_(e){for(let t=0;t<e.length;t++)if(uo(e[t]))return t;return e.length}(i);let l=!1;for(let d=0;d<t.length;d++){const f=t[d];if("number"!=typeof f){if(!l)if(4&r){if(r=2|1&r,""!==f&&!B_(e,f,n)||""===f&&1===t.length){if(jr(r))return!1;l=!0}}else{const m=8&r?f:t[++d];if(8&r&&null!==e.attrs){if(!$_(e.attrs,m,n)){if(jr(r))return!1;l=!0}continue}const C=q_(8&r?"class":f,i,vy(e),n);if(-1===C){if(jr(r))return!1;l=!0;continue}if(""!==m){let b;b=C>a?"":i[C+1].toLowerCase();const D=8&r?b:null;if(D&&-1!==my(D,m,0)||2&r&&m!==b){if(jr(r))return!1;l=!0}}}}else{if(!l&&!jr(r)&&!jr(f))return!1;if(l&&jr(f))continue;l=!1,r=f|1&r}}return jr(r)||l}function jr(e){return 0==(1&e)}function q_(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let a=!1;for(;i<t.length;){const l=t[i];if(l===e)return i;if(3===l||6===l)a=!0;else{if(1===l||2===l){let d=t[++i];for(;"string"==typeof d;)d=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=a?1:2}return-1}return function K_(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Cy(e,t,n=!1){for(let r=0;r<t.length;r++)if(V_(e,t[r],n))return!0;return!1}function wy(e,t){return e?":not("+t.trim()+")":t}function Q_(e){let t=e[0],n=1,r=2,i="",a=!1;for(;n<e.length;){let l=e[n];if("string"==typeof l)if(2&r){const d=e[++n];i+="["+l+(d.length>0?'="'+d+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!jr(l)&&(t+=wy(a,i),i=""),r=l,a=a||!jr(r);n++}return""!==i&&(t+=wy(a,i)),t}const de={};function Ny(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],a=n[r+1];if(-1!==a){const l=e.data[a];ca(i),l.contentQueries(2,t[a],a)}}}function Eu(e,t,n,r,i,a,l,d,f,m){const v=t.blueprint.slice();return v[0]=i,v[2]=140|r,Bc(v),v[3]=v[15]=e,v[8]=n,v[10]=l||e&&e[10],v[11]=d||e&&e[11],v[12]=f||e&&e[12]||null,v[9]=m||e&&e[9]||null,v[6]=a,v[16]=2==t.type?e[16]:v,v}function Ma(e,t,n,r,i){let a=e.data[t];if(null===a)a=function up(e,t,n,r,i){const a=qc(),l=ia(),f=e.data[t]=function g0(e,t,n,r,i,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=f),null!==a&&(l?null==a.child&&null!==f.parent&&(a.child=f):null===a.next&&(a.next=f)),f}(e,t,n,r,i),function so(){return te.lFrame.inI18n}()&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;const l=function mi(){const e=te.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===l?-1:l.injectorIndex}return Xn(a,!0),a}function Oa(e,t,n,r){if(0===n)return-1;const i=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function bu(e,t,n){ss(t);try{const r=e.viewQuery;null!==r&&vp(1,r,n);const i=e.template;null!==i&&ky(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ny(e,t),e.staticViewQueries&&vp(2,e.viewQuery,n);const a=e.components;null!==a&&function h0(e,t){for(let n=0;n<t.length;n++)k0(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,as()}}function Na(e,t,n,r){const i=t[2];if(256==(256&i))return;ss(t);const a=os();try{Bc(t),function $(e){return te.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ky(e,t,n,2,r);const l=3==(3&i);if(!a)if(l){const m=e.preOrderCheckHooks;null!==m&&Ft(t,m,null)}else{const m=e.preOrderHooks;null!==m&&er(t,m,0,null),Sn(t,0)}if(function O0(e){for(let t=Bf(e);null!==t;t=Vf(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],a=i[3];0==(1024&i[2])&&oa(a,1),i[2]|=1024}}}(t),function M0(e){for(let t=Bf(e);null!==t;t=Vf(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];ra(r)&&Na(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Ny(e,t),!a)if(l){const m=e.contentCheckHooks;null!==m&&Ft(t,m)}else{const m=e.contentHooks;null!==m&&er(t,m,1),Sn(t,1)}!function l0(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ur(~i);else{const a=i,l=n[++r],d=n[++r];jl(l,a),d(2,t[a])}}}finally{Ur(-1)}}(e,t);const d=e.components;null!==d&&function d0(e,t){for(let n=0;n<t.length;n++)N0(e,t[n])}(t,d);const f=e.viewQuery;if(null!==f&&vp(2,f,r),!a)if(l){const m=e.viewCheckHooks;null!==m&&Ft(t,m)}else{const m=e.viewHooks;null!==m&&er(t,m,2),Sn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,oa(t[3],-1))}finally{as()}}function f0(e,t,n,r){const i=t[10],a=!os(),l=function $c(e){return 4==(4&e[2])}(t);try{a&&!l&&i.begin&&i.begin(),l&&bu(e,t,r),Na(e,t,n,r)}finally{a&&!l&&i.end&&i.end()}}function ky(e,t,n,r,i){const a=function Wt(){return te.lFrame.selectedIndex}(),l=2&r;try{Ur(-1),l&&t.length>20&&function Ey(e,t,n,r){if(!r)if(3==(3&t[2])){const a=e.preOrderCheckHooks;null!==a&&Ft(t,a,n)}else{const a=e.preOrderHooks;null!==a&&er(t,a,0,n)}Ur(n)}(e,t,20,os()),n(r,i)}finally{Ur(a)}}function xy(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Fd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Fd(e,t,n,r,i,a,l,d,f,m){const v=20+r,C=v+i,b=function p0(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:de);return n}(v,C),D="function"==typeof m?m():m;return b[1]={type:e,blueprint:b,template:n,queries:null,viewQuery:d,declTNode:t,data:b.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:f,consts:D,incompleteFirstPass:!1}}function Hy(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function $y(e,t,n,r,i,a){const l=a.hostBindings;if(l){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const f=~t.index;(function E0(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=f&&d.push(f),d.push(r,i,l)}}function By(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Vy(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function T0(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;_n(t)&&(n[""]=e)}}function qy(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Gy(e,t,n,r,i){e.data[r]=i;const a=i.factory||(i.factory=zt(i.type)),l=new cs(a,_n(i),null);e.blueprint[r]=l,n[r]=l,$y(e,t,0,r,Oa(e,n,i.hostVars,de),i)}function A0(e,t,n){const r=Dn(t,e),i=xy(n),a=e[10],l=Ld(e,Eu(e,i,null,n.onPush?64:16,r,t,a,a.createRenderer(r,n),null,null));e[t.index]=l}function I0(e,t,n,r,i,a){const l=a[t];if(null!==l){const d=r.setInput;for(let f=0;f<l.length;){const m=l[f++],v=l[f++],C=l[f++];null!==d?r.setInput(n,C,m,v):n[v]=C}}}function R0(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function N0(e,t){const n=hn(t,e);if(ra(n)){const r=n[1];80&n[2]?Na(r,n,r.template,n[8]):n[5]>0&&pp(n)}}function pp(e){for(let r=Bf(e);null!==r;r=Vf(r))for(let i=10;i<r.length;i++){const a=r[i];if(1024&a[2]){const l=a[1];Na(l,a,l.template,a[8])}else a[5]>0&&pp(a)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=hn(n[r],e);ra(i)&&i[5]>0&&pp(i)}}function k0(e,t){const n=hn(t,e),r=n[1];(function P0(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),bu(r,n,n[8])}function Ld(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function yp(e,t,n){const r=t[10];r.begin&&r.begin();try{Na(e,t,e.template,n)}catch(i){throw function Zy(e,t){const n=e[9],r=n?n.get(vu,null):null;r&&r.handleError(t)}(t,i),i}finally{r.end&&r.end()}}function Ky(e){!function mp(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Lf(n),i=r[1];f0(i,r,i.template,n)}}(e[8])}function vp(e,t,n){ca(0),t(e,n)}const U0=(()=>Promise.resolve(null))();function Ud(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(let l=0;l<t.length;l++){const d=t[l];"number"==typeof d?a=d:1==a?i=bc(i,d):2==a&&(r=bc(r,d+": "+t[++l]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const Cp=new ke("INJECTOR",-1);class Xy{get(t,n=Vo){if(n===Vo){const r=new Error(`NullInjectorError: No provider for ${Ue(t)}!`);throw r.name="NullInjectorError",r}return n}}const wp=new ke("Set Injector scope."),_u={},$0={};let Ep;function ev(){return void 0===Ep&&(Ep=new Xy),Ep}function tv(e,t=null,n=null,r){const i=nv(e,t,n,r);return i._resolveInjectorDefTypes(),i}function nv(e,t=null,n=null,r){return new B0(e,n,t||ev(),r)}class B0{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const a=[];n&&rr(n,d=>this.processProvider(d,t,n)),rr([t],d=>this.processInjectorType(d,[],a)),this.records.set(Cp,ka(void 0,this));const l=this.records.get(wp);this.scope=null!=l?l.value:null,this.source=i||("object"==typeof t?null:Ue(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Vo,r=re.Default){this.assertNotDestroyed();const i=iu(this),a=Et(void 0);try{if(!(r&re.SkipSelf)){let d=this.records.get(t);if(void 0===d){const f=function Y0(e){return"function"==typeof e||"object"==typeof e&&e instanceof ke}(t)&&Pn(t);d=f&&this.injectableDefInScope(f)?ka(bp(t),_u):null,this.records.set(t,d)}if(null!=d)return this.hydrate(t,d)}return(r&re.Self?ev():this.parent).get(t,n=r&re.Optional&&n===Vo?null:n)}catch(l){if("NullInjectorError"===l.name){if((l[Ai]=l[Ai]||[]).unshift(Ue(t)),i)throw l;return function au(e,t,n,r){const i=e[Ai];throw t[Ca]&&i.unshift(t[Ca]),e.message=function hd(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=Ue(t);if(Array.isArray(t))i=t.map(Ue).join(" -> ");else if("object"==typeof t){let a=[];for(let l in t)if(t.hasOwnProperty(l)){let d=t[l];a.push(l+":"+("string"==typeof d?JSON.stringify(d):Ue(d)))}i=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(If,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Ai]=null,e}(l,t,"R3InjectorError",this.source)}throw l}finally{Et(a),iu(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(Ue(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processInjectorType(t,n,r){if(!(t=se(t)))return!1;let i=Cn(t);const a=null==i&&t.ngModule||void 0,l=void 0===a?t:a,d=-1!==r.indexOf(l);if(void 0!==a&&(i=Cn(a)),null==i)return!1;if(null!=i.imports&&!d){let v;r.push(l);try{rr(i.imports,C=>{this.processInjectorType(C,n,r)&&(void 0===v&&(v=[]),v.push(C))})}finally{}if(void 0!==v)for(let C=0;C<v.length;C++){const{ngModule:b,providers:D}=v[C];rr(D,T=>this.processProvider(T,b,D||$e))}}this.injectorDefTypes.add(l);const f=zt(l)||(()=>new l);this.records.set(l,ka(f,_u));const m=i.providers;if(null!=m&&!d){const v=t;rr(m,C=>this.processProvider(C,v,m))}return void 0!==a&&void 0!==t.providers}processProvider(t,n,r){let i=Pa(t=se(t))?t:se(t&&t.provide);const a=function q0(e,t,n){return ov(e)?ka(void 0,e.useValue):ka(function rv(e,t,n){let r;if(Pa(e)){const i=se(e);return zt(i)||bp(i)}if(ov(e))r=()=>se(e.useValue);else if(function z0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...wa(e.deps||[]));else if(function G0(e){return!(!e||!e.useExisting)}(e))r=()=>J(se(e.useExisting));else{const i=se(e&&(e.useClass||e.provide));if(!function W0(e){return!!e.deps}(e))return zt(i)||bp(i);r=()=>new i(...wa(e.deps))}return r}(e),_u)}(t);if(Pa(t)||!0!==t.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=ka(void 0,_u,!0),l.factory=()=>wa(l.multi),this.records.set(i,l)),i=t,l.multi.push(t)}this.records.set(i,a)}hydrate(t,n){return n.value===_u&&(n.value=$0,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Q0(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=se(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function bp(e){const t=Pn(e),n=null!==t?t.factory:zt(e);if(null!==n)return n;if(e instanceof ke)throw new Me(204,!1);if(e instanceof Function)return function V0(e){const t=e.length;if(t>0)throw function Ti(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Me(204,!1);const n=function Rr(e){const t=e&&(e[tn]||e[ii]);if(t){const n=function ln(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Me(204,!1)}function ka(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ov(e){return null!==e&&"object"==typeof e&&Mf in e}function Pa(e){return"function"==typeof e}let $n=(()=>{class e{static create(n,r){var i;if(Array.isArray(n))return tv({name:""},r,n,"");{const a=null!==(i=n.name)&&void 0!==i?i:"";return tv({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=Vo,e.NULL=new Xy,e.\u0275prov=Oe({token:e,providedIn:"any",factory:()=>J(Cp)}),e.__NG_ELEMENT_ID__=-1,e})();function oD(e,t){ao(Lf(e)[1],ht())}function Z(e,t=re.Default){const n=O();return null===n?J(e,t):Qt(ht(),n,se(e),t)}function Np(){throw new Error("invalid")}function kp(e,t,n,r,i){const l=i?"class":"style";!function Jy(e,t,n,r,i){for(let a=0;a<n.length;){const l=n[a++],d=n[a++],f=t[l],m=e.data[l];null!==m.setInput?m.setInput(f,i,r,d):f[d]=i}}(e,n,t.inputs[l],l,r)}function za(e,t,n,r){const i=O(),a=Se(),l=20+e,d=i[11],f=i[l]=Gf(d,t,function mr(){return te.lFrame.currentNamespace}()),m=a.firstCreatePass?function UD(e,t,n,r,i,a,l){const d=t.consts,m=Ma(t,e,2,i,Lr(d,a));return function hp(e,t,n,r){let i=!1;if(Vc()){const a=function D0(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let a=0;a<r.length;a++){const l=r[a];Cy(n,l.selectors,!1)&&(i||(i=[]),ps(Uo(n,t),e,l.type),_n(l)?(Vy(e,n),i.unshift(l)):i.push(l))}return i}(e,t,n),l=null===r?null:{"":-1};if(null!==a){i=!0,qy(n,e.data.length,a.length);for(let v=0;v<a.length;v++){const C=a[v];C.providersResolver&&C.providersResolver(C)}let d=!1,f=!1,m=Oa(e,t,a.length,null);for(let v=0;v<a.length;v++){const C=a[v];n.mergedAttrs=Fo(n.mergedAttrs,C.hostAttrs),Gy(e,n,t,m,C),T0(m,C,l),null!==C.contentQueries&&(n.flags|=8),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(n.flags|=128);const b=C.type.prototype;!d&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),d=!0),!f&&(b.ngOnChanges||b.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),f=!0),m++}!function m0(e,t){const r=t.directiveEnd,i=e.data,a=t.attrs,l=[];let d=null,f=null;for(let m=t.directiveStart;m<r;m++){const v=i[m],C=v.inputs,b=null===a||vy(t)?null:R0(C,a);l.push(b),d=Hy(C,m,d),f=Hy(v.outputs,m,f)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=16),d.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=l,t.inputs=d,t.outputs=f}(e,n)}l&&function S0(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const a=n[t[i+1]];if(null==a)throw new Me(-301,!1);r.push(t[i],a)}}}(n,r,l)}return n.mergedAttrs=Fo(n.mergedAttrs,n.attrs),i}(t,n,m,Lr(d,l)),null!==m.attrs&&Ud(m,m.attrs,!1),null!==m.mergedAttrs&&Ud(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(l,a,i,0,t,n,r):a.data[l];Xn(m,!0);const v=m.mergedAttrs;null!==v&&vi(d,f,v);const C=m.classes;null!==C&&Zf(d,f,C);const b=m.styles;return null!==b&&gy(d,f,b),64!=(64&m.flags)&&Od(a,i,f,m),0===function kl(){return te.lFrame.elementDepthCount}()&&Ut(f,i),function Pl(){te.lFrame.elementDepthCount++}(),function es(e){return 1==(1&e.flags)}(m)&&(function lp(e,t,n){!Vc()||(function b0(e,t,n,r){const i=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||Uo(n,t),Ut(r,t);const l=n.initialInputs;for(let d=i;d<a;d++){const f=e.data[d],m=_n(f);m&&A0(t,n,f);const v=G(t,e,d,n);Ut(v,t),null!==l&&I0(0,d-i,v,f,0,l),m&&(hn(n.index,t)[8]=v)}}(e,t,n,Dn(n,t)),128==(128&n.flags)&&function _0(e,t,n){const r=n.directiveStart,i=n.directiveEnd,l=n.index,d=function $l(){return te.lFrame.currentDirectiveIndex}();try{Ur(l);for(let f=r;f<i;f++){const m=e.data[f],v=t[f];sa(f),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&By(m,v)}}finally{Ur(-1),sa(d)}}(e,t,n))}(a,i,m),function Py(e,t,n){if(U(t)){const i=t.directiveEnd;for(let a=t.directiveStart;a<i;a++){const l=e.data[a];l.contentQueries&&l.contentQueries(1,n[a],a)}}}(a,m,i)),null!==r&&function dp(e,t,n=Dn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let a=0;a<r.length;a+=2){const l=r[a+1],d=-1===l?n(t,e):e[l];e[i++]=d}}}(i,m),za}function Tu(){let e=ht();ia()?function rs(){te.lFrame.isParent=!1}():(e=e.parent,Xn(e,!1));const t=e;!function xl(){te.lFrame.elementDepthCount--}();const n=Se();return n.firstCreatePass&&(ao(n,e),U(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ls(e){return 0!=(16&e.flags)}(t)&&kp(n,t,O(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function la(e){return 0!=(32&e.flags)}(t)&&kp(n,t,O(),t.stylesWithoutHost,!1),Tu}function Bd(e,t,n,r){return za(e,t,n,r),Tu(),Bd}function Vd(e){return!!e&&"function"==typeof e.then}const jv=function Hv(e){return!!e&&"function"==typeof e.subscribe};function Hp(e,t=""){const n=O(),r=Se(),i=e+20,a=r.firstCreatePass?Ma(r,i,1,t,null):r.data[i],l=n[i]=function qf(e,t){return et(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Od(r,n,l,a),Xn(a,!1)}const zd="en-US";let FC=zd;class aw{}class NT{resolveComponentFactory(t){throw function OT(e){const t=Error(`No component factory found for ${Ue(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Nu=(()=>{class e{}return e.NULL=new NT,e})();function kT(){return Ya(ht(),O())}function Ya(e,t){return new Ui(Dn(e,t))}let Ui=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=kT,e})();class uw{}let LT=(()=>{class e{}return e.\u0275prov=Oe({token:e,providedIn:"root",factory:()=>null}),e})();class Jd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const UT=new Jd("13.2.5"),Kp={};function Xd(e,t,n,r,i=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(at(a)),F(a))for(let d=10;d<a.length;d++){const f=a[d],m=f[1].firstChild;null!==m&&Xd(f[1],f,m,r)}const l=n.type;if(8&l)Xd(e,t,n.child,r);else if(32&l){const d=$f(n,t);let f;for(;f=d();)r.push(f)}else if(16&l){const d=hy(t,n);if(Array.isArray(d))r.push(...d);else{const f=Cu(t[16]);Xd(f[1],f,d,r,!0)}}n=i?n.projectionNext:n.next}return r}class ku{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Xd(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(F(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(zf(t,r),Cs(n,r))}this._attachedToViewContainer=!1}ry(this._lView[1],this._lView)}onDestroy(t){!function Uy(e,t,n,r){const i=function Wy(e){return e[7]||(e[7]=[])}(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&function Qy(e){return e.cleanup||(e.cleanup=[])}(e).push(r,i.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){!function gp(e){for(;e;){e[2]|=64;const t=Cu(e);if(Ln(e)&&!t)return e;e=t}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function F0(e,t,n){is(!0);try{yp(e,t,n)}finally{is(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function M_(e,t){wu(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=t}}class HT extends ku{constructor(t){super(t),this._view=t}detectChanges(){Ky(this._view)}checkNoChanges(){!function L0(e){is(!0);try{Ky(e)}finally{is(!1)}}(this._view)}get context(){return null}}class lw extends Nu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ot(t);return new Wp(n,this.ngModule)}}function dw(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Wp extends aw{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Y_(e){return e.map(Q_).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return dw(this.componentDef.inputs)}get outputs(){return dw(this.componentDef.outputs)}create(t,n,r,i){const a=(i=i||this.ngModule)?function $T(e,t){return{get:(n,r,i)=>{const a=e.get(n,Kp,i);return a!==Kp||r===Kp?a:t.get(n,r,i)}}}(t,i.injector):t,l=a.get(uw,jc),d=a.get(LT,null),f=l.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",v=r?function Ly(e,t,n){if(et(e))return e.selectRootElement(t,n===wn.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(f,r,this.componentDef.encapsulation):Gf(l.createRenderer(null,this.componentDef),m,function jT(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),C=this.componentDef.onPush?576:528,b=function gv(e,t){return{components:[],scheduler:e||b_,clean:U0,playerHandler:t||null,flags:0}}(),D=Fd(0,null,null,1,0,null,null,null,null,null),T=Eu(null,D,b,C,null,null,l,f,d,a);let R,N;ss(T);try{const P=function fv(e,t,n,r,i,a){const l=n[1];n[20]=e;const f=Ma(l,20,2,"#host",null),m=f.mergedAttrs=t.hostAttrs;null!==m&&(Ud(f,m,!0),null!==e&&(vi(i,e,m),null!==f.classes&&Zf(i,e,f.classes),null!==f.styles&&gy(i,e,f.styles)));const v=r.createRenderer(e,t),C=Eu(n,xy(t),null,t.onPush?64:16,n[20],f,r,v,a||null,null);return l.firstCreatePass&&(ps(Uo(f,n),l,t.type),Vy(l,f),qy(f,n.length,1)),Ld(n,C),n[20]=C}(v,this.componentDef,T,l,f);if(v)if(r)vi(f,v,["ng-version",UT.full]);else{const{attrs:A,classes:W}=function Z_(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!jr(i))break;i=a}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);A&&vi(f,v,A),W&&W.length>0&&Zf(f,v,W.join(" "))}if(N=function na(e,t){return e.data[t]}(D,20),void 0!==n){const A=N.projection=[];for(let W=0;W<this.ngContentSelectors.length;W++){const ue=n[W];A.push(null!=ue?Array.from(ue):null)}}R=function pv(e,t,n,r,i){const a=n[1],l=function w0(e,t,n){const r=ht();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Gy(e,r,t,Oa(e,t,1,null),n));const i=G(t,e,r.directiveStart,r);Ut(i,t);const a=Dn(r,t);return a&&Ut(a,t),i}(a,n,t);if(r.components.push(l),e[8]=l,i&&i.forEach(f=>f(l,t)),t.contentQueries){const f=ht();t.contentQueries(1,l,f.directiveStart)}const d=ht();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ur(d.index),$y(n[1],d,0,d.directiveStart,d.directiveEnd,t),By(t,l)),l}(P,this.componentDef,T,b,[oD]),bu(D,T,null)}finally{as()}return new VT(this.componentType,R,Ya(N,T),T,N)}}class VT extends class MT{}{constructor(t,n,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.instance=n,this.hostView=this.changeDetectorRef=new HT(i),this.componentType=t}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Yo{}class hw{}const Za=new Map;class gw extends Yo{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lw(this);const r=En(t);this._bootstrapComponents=go(r.bootstrap),this._r3Injector=nv(t,n,[{provide:Yo,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver}],Ue(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=$n.THROW_IF_NOT_FOUND,r=re.Default){return t===$n||t===Yo||t===Cp?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qp extends hw{constructor(t){super(),this.moduleType=t,null!==En(t)&&function GT(e){const t=new Set;!function n(r){const i=En(r,!0),a=i.id;null!==a&&(function fw(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Ue(t)} vs ${Ue(t.name)}`)}(a,Za.get(a),r),Za.set(a,r));const l=go(i.imports);for(const d of l)t.has(d)||(t.add(d),n(d))}(e)}(t)}create(t){return new gw(this.moduleType,t)}}function Yp(e){return t=>{setTimeout(e,void 0,t)}}const Mn=class uA extends cn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,a,l;let d=t,f=n||(()=>null),m=r;if(t&&"object"==typeof t){const C=t;d=null===(i=C.next)||void 0===i?void 0:i.bind(C),f=null===(a=C.error)||void 0===a?void 0:a.bind(C),m=null===(l=C.complete)||void 0===l?void 0:l.bind(C)}this.__isAsync&&(f=Yp(f),d&&(d=Yp(d)),m&&(m=Yp(m)));const v=super.subscribe({next:d,error:f,complete:m});return t instanceof wt&&t.add(v),v}};Symbol;let Gr=(()=>{class e{}return e.__NG_ELEMENT_ID__=pA,e})();function pA(){return function _w(e,t){let n;const r=t[e.index];if(F(r))n=r;else{let i;if(8&e.type)i=at(r);else{const a=t[11];i=a.createComment("");const l=Dn(e,t);Ds(a,Md(a,l),i,function L_(e,t){return et(e)?e.nextSibling(t):t.nextSibling}(a,l),!1)}t[e.index]=n=function zy(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}(r,t,i,e),Ld(t,n)}return new Ew(n,e,t)}(ht(),O())}const gA=Gr,Ew=class extends gA{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ya(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const t=fs(this._hostTNode,this._hostLView);if(ds(t)){const n=Ci(t,this._hostLView),r=ho(t);return new Ho(n[1].data[r+8],n)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=bw(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,a){const l=t&&!function Si(e){return"function"==typeof e}(t);let d;if(l)d=n;else{const C=n||{};d=C.index,r=C.injector,i=C.projectableNodes,a=C.ngModuleRef}const f=l?t:new Wp(Ot(t)),m=r||this.parentInjector;if(!a&&null==f.ngModule){const b=(l?m:this.parentInjector).get(Yo,null);b&&(a=b)}const v=f.create(m,i,void 0,a);return this.insert(v.hostView,d),v}insert(t,n){const r=t._lView,i=r[1];if(function Nl(e){return F(e[3])}(r)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const C=r[3],b=new Ew(C,C[6],C[3]);b.detach(b.indexOf(t))}}const a=this._adjustIndex(n),l=this._lContainer;!function N_(e,t,n,r){const i=10+r,a=n.length;r>0&&(n[i-1][4]=t),r<a-10?(t[4]=n[i],eu(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const l=t[17];null!==l&&n!==l&&function k_(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(l,t);const d=t[19];null!==d&&d.insertView(e),t[2]|=128}(i,r,l,a);const d=Qf(a,l),f=r[11],m=Md(f,l[7]);return null!==m&&function R_(e,t,n,r,i,a){r[0]=i,r[6]=t,wu(e,r,n,1,i,a)}(i,l[6],f,r,m,d),t.attachToViewContainerRef(),eu(Jp(l),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=bw(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=zf(this._lContainer,n);r&&(Cs(Jp(this._lContainer),n),ry(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=zf(this._lContainer,n);return r&&null!=Cs(Jp(this._lContainer),n)?new ku(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function bw(e){return e[8]}function Jp(e){return e[8]||(e[8]=[])}function rh(...e){}const hg=new ke("Application Initializer");let fg=(()=>{class e{constructor(n){this.appInits=n,this.resolve=rh,this.reject=rh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const a=this.appInits[i]();if(Vd(a))n.push(a);else if(jv(a)){const l=new Promise((d,f)=>{a.subscribe({complete:d,error:f})});n.push(l)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(J(hg,8))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Lu=new ke("AppId",{providedIn:"root",factory:function Gw(){return`${pg()}${pg()}${pg()}`}});function pg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zw=new ke("Platform Initializer"),gg=new ke("Platform ID"),Kw=new ke("appBootstrapListener");let Ww=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const Hi=new ke("LocaleId",{providedIn:"root",factory:()=>ld(Hi,re.Optional|re.SkipSelf)||function BA(){return"undefined"!=typeof $localize&&$localize.locale||zd}()});class qA{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Qw=(()=>{class e{compileModuleSync(n){return new Qp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=go(En(n).declarations).reduce((l,d)=>{const f=Ot(d);return f&&l.push(new Wp(f)),l},[]);return new qA(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const zA=(()=>Promise.resolve(0))();function mg(e){"undefined"==typeof Zone?zA.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class sn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mn(!1),this.onMicrotaskEmpty=new Mn(!1),this.onStable=new Mn(!1),this.onError=new Mn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function KA(){let e=be.requestAnimationFrame,t=be.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function YA(e){const t=()=>{!function QA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(be,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,vg(e),e.isCheckStableRunning=!0,yg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),vg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,a,l,d)=>{try{return Yw(e),n.invokeTask(i,a,l,d)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),Zw(e)}},onInvoke:(n,r,i,a,l,d,f)=>{try{return Yw(e),n.invoke(i,a,l,d,f)}finally{e.shouldCoalesceRunChangeDetection&&t(),Zw(e)}},onHasTask:(n,r,i,a)=>{n.hasTask(i,a),r===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,vg(e),yg(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,i,a)=>(n.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(sn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const a=this._inner,l=a.scheduleEventTask("NgZoneEvent: "+i,t,WA,rh,rh);try{return a.runTask(l,n,r)}finally{a.cancelTask(l)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const WA={};function yg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Yw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Zw(e){e._nesting--,yg(e)}class ZA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mn,this.onMicrotaskEmpty=new Mn,this.onStable=new Mn,this.onError=new Mn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let Cg=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sn.assertNotInAngularZone(),mg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(J(sn))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),Jw=(()=>{class e{constructor(){this._applications=new Map,wg.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return wg.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();class JA{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let zr,wg=new JA;const Xw=new ke("AllowMultipleToken");class eE{constructor(t,n){this.name=t,this.token=n}}function tE(e,t,n=[]){const r=`Platform: ${t}`,i=new ke(r);return(a=[])=>{let l=nE();if(!l||l.injector.get(Xw,!1))if(e)e(n.concat(a).concat({provide:i,useValue:!0}));else{const d=n.concat(a).concat({provide:i,useValue:!0},{provide:wp,useValue:"platform"});!function nI(e){if(zr&&!zr.destroyed&&!zr.injector.get(Xw,!1))throw new Me(400,"");zr=e.get(rE);const t=e.get(zw,null);t&&t.forEach(n=>n())}($n.create({providers:d,name:r}))}return function rI(e){const t=nE();if(!t)throw new Me(401,"");return t}()}}function nE(){return zr&&!zr.destroyed?zr:null}let rE=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const d=function oI(e,t){let n;return n="noop"===e?new ZA:("zone.js"===e?void 0:e)||new sn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),f=[{provide:sn,useValue:d}];return d.run(()=>{const m=$n.create({providers:f,parent:this.injector,name:n.moduleType.name}),v=n.create(m),C=v.injector.get(vu,null);if(!C)throw new Me(402,"");return d.runOutsideAngular(()=>{const b=d.onError.subscribe({next:D=>{C.handleError(D)}});v.onDestroy(()=>{bg(this._modules,v),b.unsubscribe()})}),function iI(e,t,n){try{const r=n();return Vd(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(C,d,()=>{const b=v.injector.get(fg);return b.runInitializers(),b.donePromise.then(()=>(function PS(e){en(e,"Expected localeId to be defined"),"string"==typeof e&&(FC=e.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Hi,zd)||zd),this._moduleDoBootstrap(v),v))})})}bootstrapModule(n,r=[]){const i=oE({},r);return function eI(e,t,n){const r=new Qp(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(n){const r=n.injector.get(Eg);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Me(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(J($n))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();function oE(e,t){return Array.isArray(t)?t.reduce(oE,e):Object.assign(Object.assign({},e),t)}let Eg=(()=>{class e{constructor(n,r,i,a,l){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new lt(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),f=new lt(m=>{let v;this._zone.runOutsideAngular(()=>{v=this._zone.onStable.subscribe(()=>{sn.assertNotInAngularZone(),mg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const C=this._zone.onUnstable.subscribe(()=>{sn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{v.unsubscribe(),C.unsubscribe()}});this.isStable=function El(...e){const t=Wn(e),n=function Qh(e,t){return"number"==typeof vc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?kn(r[0]):dr(n)(It(r,t)):Kn}(d,f.pipe(function ef(e={}){const{connector:t=(()=>new cn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return a=>{let l=null,d=null,f=null,m=0,v=!1,C=!1;const b=()=>{null==d||d.unsubscribe(),d=null},D=()=>{b(),l=f=null,v=C=!1},T=()=>{const R=l;D(),null==R||R.unsubscribe()};return nt((R,N)=>{m++,!C&&!v&&b();const P=f=null!=f?f:t();N.add(()=>{m--,0===m&&!C&&!v&&(d=wc(T,i))}),P.subscribe(N),l||(l=new Jr({next:A=>P.next(A),error:A=>{C=!0,b(),d=wc(D,n,A),P.error(A)},complete:()=>{v=!0,b(),d=wc(D,r),P.complete()}}),It(R).subscribe(l))})(a)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Me(405,"");let i;i=n instanceof aw?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const a=function tI(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Yo),d=i.create($n.NULL,[],r||i.selector,a),f=d.location.nativeElement,m=d.injector.get(Cg,null),v=m&&d.injector.get(Jw);return m&&v&&v.registerApplication(f,m),d.onDestroy(()=>{this.detachView(d.hostView),bg(this.components,d),v&&v.unregisterApplication(f)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;bg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Kw,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(J(sn),J($n),J(vu),J(Nu),J(fg))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let sE=!0,_g=(()=>{class e{}return e.__NG_ELEMENT_ID__=cI,e})();function cI(e){return function uI(e,t,n){if(Zs(e)&&!n){const r=hn(e.index,t);return new ku(r,r)}return 47&e.type?new ku(t[16],t):null}(ht(),O(),16==(16&e))}const bI=tE(null,"core",[{provide:gg,useValue:"unknown"},{provide:rE,deps:[$n]},{provide:Jw,deps:[]},{provide:Ww,deps:[]}]);let _I=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(J(Eg))},e.\u0275mod=Ro({type:e}),e.\u0275inj=Qe({}),e})(),ah=null;function ji(){return ah}const wr=new ke("DocumentToken");let Is=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:function(){return function AI(){return J(yE)}()},providedIn:"platform"}),e})();const II=new ke("Location Initialized");let yE=(()=>{class e extends Is{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ji().getBaseHref(this._doc)}onPopState(n){const r=ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){vE()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){vE()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(J(wr))},e.\u0275prov=Oe({token:e,factory:function(){return function RI(){return new yE(J(wr))}()},providedIn:"platform"}),e})();function vE(){return!!window.history.pushState}function Ig(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function CE(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Jo(e){return e&&"?"!==e[0]?"?"+e:e}let Xa=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:function(){return function MI(e){const t=J(wr).location;return new wE(J(Is),t&&t.origin||"")}()},providedIn:"root"}),e})();const Rg=new ke("appBaseHref");let wE=(()=>{class e extends Xa{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ig(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Jo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,a){const l=this.prepareExternalUrl(i+Jo(a));this._platformLocation.pushState(n,r,l)}replaceState(n,r,i,a){const l=this.prepareExternalUrl(i+Jo(a));this._platformLocation.replaceState(n,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(J(Is),J(Rg,8))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),OI=(()=>{class e extends Xa{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Ig(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,a){let l=this.prepareExternalUrl(i+Jo(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(n,r,l)}replaceState(n,r,i,a){let l=this.prepareExternalUrl(i+Jo(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(J(Is),J(Rg,8))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),Mg=(()=>{class e{constructor(n,r){this._subject=new Mn,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=CE(EE(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Jo(r))}normalize(n){return e.stripTrailingSlash(function kI(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,EE(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Jo(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Jo(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=Jo,e.joinWithSlash=Ig,e.stripTrailingSlash=CE,e.\u0275fac=function(n){return new(n||e)(J(Xa),J(Is))},e.\u0275prov=Oe({token:e,factory:function(){return function NI(){return new Mg(J(Xa),J(Is))}()},providedIn:"root"}),e})();function EE(e){return e.replace(/\/index.html$/,"")}let QR=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ro({type:e}),e.\u0275inj=Qe({}),e})();let XR=(()=>{class e{}return e.\u0275prov=Oe({token:e,providedIn:"root",factory:()=>new eM(J(wr),window)}),e})();class eM{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function tM(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=xE(this.window.history)||xE(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function xE(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class qg extends class rM extends class TI{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function SI(e){ah||(ah=e)}(new qg)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function oM(){return $u=$u||document.querySelector("base"),$u?$u.getAttribute("href"):null}();return null==n?null:function iM(e){yh=yh||document.createElement("a"),yh.setAttribute("href",e);const t=yh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){$u=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function mR(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let yh,$u=null;const FE=new ke("TRANSITION_ID"),aM=[{provide:hg,useFactory:function sM(e,t,n){return()=>{n.get(fg).donePromise.then(()=>{const r=ji(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[FE,wr,$n],multi:!0}];class Gg{static init(){!function XA(e){wg=e}(new Gg)}addToWindow(t){be.getAngularTestability=(r,i=!0)=>{const a=t.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},be.getAllAngularTestabilities=()=>t.getAllTestabilities(),be.getAllAngularRootElements=()=>t.getAllRootElements(),be.frameworkStabilizers||(be.frameworkStabilizers=[]),be.frameworkStabilizers.push(r=>{const i=be.getAllAngularTestabilities();let a=i.length,l=!1;const d=function(f){l=l||f,a--,0==a&&r(l)};i.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const i=t.getTestability(n);return null!=i?i:r?ji().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let cM=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const vh=new ke("EventManagerPlugins");let Ch=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(n))return this._eventNameToPlugin.set(n,l),l}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(J(vh),J(sn))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();class LE{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=ji().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let UE=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),Bu=(()=>{class e extends UE{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(a=>{const l=this._doc.createElement("style");l.textContent=a,i.push(r.appendChild(l))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(HE),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(HE))}}return e.\u0275fac=function(n){return new(n||e)(J(wr))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();function HE(e){ji().remove(e)}const zg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kg=/%COMP%/g;function wh(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?wh(e,i,n):(i=i.replace(Kg,e),n.push(i))}return n}function BE(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Wg=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Qg(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case wn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new pM(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case wn.ShadowDom:return new gM(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=wh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(J(Ch),J(Bu),J(Lu))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();class Qg{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(zg[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const a=zg[i];a?t.setAttributeNS(a,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=zg[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(or.DashCase|or.Important)?t.style.setProperty(n,r,i&or.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&or.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,BE(r)):this.eventManager.addEventListener(t,n,BE(r))}}class pM extends Qg{constructor(t,n,r,i){super(t),this.component=r;const a=wh(i+"-"+r.id,r.styles,[]);n.addStyles(a),this.contentAttr=function dM(e){return"_ngcontent-%COMP%".replace(Kg,e)}(i+"-"+r.id),this.hostAttr=function hM(e){return"_nghost-%COMP%".replace(Kg,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class gM extends Qg{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=wh(i.id,i.styles,[]);for(let l=0;l<a.length;l++){const d=document.createElement("style");d.textContent=a[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let mM=(()=>{class e extends LE{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(J(wr))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const qE=["alt","control","meta","shift"],vM={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GE={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},CM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let wM=(()=>{class e extends LE{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const a=e.parseEventName(r),l=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ji().onAndCancel(n,a.domEventName,l))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=e._normalizeKey(r.pop());let l="";if(qE.forEach(f=>{const m=r.indexOf(f);m>-1&&(r.splice(m,1),l+=f+".")}),l+=a,0!=r.length||0===a.length)return null;const d={};return d.domEventName=i,d.fullKey=l,d}static getEventFullKey(n){let r="",i=function EM(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&GE.hasOwnProperty(t)&&(t=GE[t]))}return vM[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qE.forEach(a=>{a!=i&&CM[a](n)&&(r+=a+".")}),r+=i,r}static eventCallback(n,r,i){return a=>{e.getEventFullKey(a)===n&&i.runGuarded(()=>r(a))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(J(wr))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const SM=tE(bI,"browser",[{provide:gg,useValue:"browser"},{provide:zw,useValue:function bM(){qg.makeCurrent(),Gg.init()},multi:!0},{provide:wr,useFactory:function DM(){return function X(e){ta=e}(document),document},deps:[]}]),TM=[{provide:wp,useValue:"root"},{provide:vu,useFactory:function _M(){return new vu},deps:[]},{provide:vh,useClass:mM,multi:!0,deps:[wr,sn,gg]},{provide:vh,useClass:wM,multi:!0,deps:[wr]},{provide:Wg,useClass:Wg,deps:[Ch,Bu,Lu]},{provide:uw,useExisting:Wg},{provide:UE,useExisting:Bu},{provide:Bu,useClass:Bu,deps:[wr]},{provide:Cg,useClass:Cg,deps:[sn]},{provide:Ch,useClass:Ch,deps:[vh,sn]},{provide:class nM{},useClass:cM,deps:[]}];let AM=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:Lu,useValue:n.appId},{provide:FE,useExisting:Lu},aM]}}}return e.\u0275fac=function(n){return new(n||e)(J(e,12))},e.\u0275mod=Ro({type:e}),e.\u0275inj=Qe({providers:TM,imports:[QR,_I]}),e})();function me(...e){return It(e,Wn(e))}"undefined"!=typeof window&&window;class Qr extends cn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:UM}=Array,{getPrototypeOf:HM,prototype:jM,keys:$M}=Object;const{isArray:qM}=Array;function WM(...e){const t=Wn(e),n=function yn(e){return fe(vc(e))?e.pop():void 0}(e),{args:r,keys:i}=function BM(e){if(1===e.length){const t=e[0];if(UM(t))return{args:t,keys:null};if(function VM(e){return e&&"object"==typeof e&&HM(e)===jM}(t)){const n=$M(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return It([],t);const a=new lt(function QM(e,t,n=mn){return r=>{WE(t,()=>{const{length:i}=e,a=new Array(i);let l=i,d=i;for(let f=0;f<i;f++)WE(t,()=>{const m=It(e[f],t);let v=!1;m.subscribe(At(r,C=>{a[f]=C,v||(v=!0,d--),d||r.next(n(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,t,i?l=>function KM(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,l):mn));return n?a.pipe(function zM(e){return je(t=>function GM(e,t){return qM(t)?e(...t):e(t)}(e,t))}(n)):a}function WE(e,t,n){e?zn(n,e,t):t()}function Eh(e,t){const n=fe(e)?e:()=>e,r=i=>i.error(n());return new lt(t?i=>t.schedule(r,0,i):r)}const bh=k(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Zg(...e){return function YM(){return dr(1)}()(It(e,Wn(e)))}function QE(e){return new lt(t=>{kn(e()).subscribe(t)})}function YE(){return nt((e,t)=>{let n=null;e._refCount++;const r=At(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,a=n;n=null,i&&(!a||i===a)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class ZM extends lt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ri(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new wt;const n=this.getSubject();t.add(this.source.subscribe(At(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=wt.EMPTY)}return t}refCount(){return YE()(this)}}function Rs(e,t){return nt((n,r)=>{let i=null,a=0,l=!1;const d=()=>l&&!i&&r.complete();n.subscribe(At(r,f=>{null==i||i.unsubscribe();let m=0;const v=a++;kn(e(f,v)).subscribe(i=At(r,C=>r.next(t?t(f,C,v,m++):C),()=>{i=null,d()}))},()=>{l=!0,d()}))})}function XM(e,t,n,r,i){return(a,l)=>{let d=n,f=t,m=0;a.subscribe(At(l,v=>{const C=m++;f=d?e(f,v,C):(d=!0,v),r&&l.next(f)},i&&(()=>{d&&l.next(f),l.complete()})))}}function ZE(e,t){return nt(XM(e,t,arguments.length>=2,!0))}function ec(e,t){return nt((n,r)=>{let i=0;n.subscribe(At(r,a=>e.call(t,a,i++)&&r.next(a)))})}function Bi(e){return nt((t,n)=>{let a,r=null,i=!1;r=t.subscribe(At(n,void 0,void 0,l=>{a=kn(e(l,Bi(e)(t))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function Vu(e,t){return fe(t)?We(e,t,1):We(e,1)}function Jg(e){return e<=0?()=>Kn:nt((t,n)=>{let r=[];t.subscribe(At(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function JE(e=eO){return nt((t,n)=>{let r=!1;t.subscribe(At(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function eO(){return new bh}function XE(e){return nt((t,n)=>{let r=!1;t.subscribe(At(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function tc(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ec((i,a)=>e(i,a,r)):mn,$s(1),n?XE(t):JE(()=>new bh))}function sr(e,t,n){const r=fe(e)||t||n?{next:e,error:t,complete:n}:e;return r?nt((i,a)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let d=!0;i.subscribe(At(a,f=>{var m;null===(m=r.next)||void 0===m||m.call(r,f),a.next(f)},()=>{var f;d=!1,null===(f=r.complete)||void 0===f||f.call(r),a.complete()},f=>{var m;d=!1,null===(m=r.error)||void 0===m||m.call(r,f),a.error(f)},()=>{var f,m;d&&(null===(f=r.unsubscribe)||void 0===f||f.call(r)),null===(m=r.finalize)||void 0===m||m.call(r)}))}):mn}class ei{constructor(t,n){this.id=t,this.url=n}}class Xg extends ei{constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qu extends ei{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eb extends ei{constructor(t,n,r){super(t,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rO extends ei{constructor(t,n,r){super(t,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oO extends ei{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iO extends ei{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sO extends ei{constructor(t,n,r,i,a){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aO extends ei{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cO extends ei{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tb{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nb{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uO{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lO{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dO{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hO{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rb{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _e="primary";class fO{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function nc(e){return new fO(e)}const ob="ngNavigationCancelingError";function em(e){const t=Error("NavigationCancelingError: "+e);return t[ob]=!0,t}function gO(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],d=e[a];if(l.startsWith(":"))i[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function wo(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let a=0;a<n.length;a++)if(i=n[a],!ib(e[i],t[i]))return!1;return!0}function ib(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,a)=>r[a]===i)}return e===t}function sb(e){return Array.prototype.concat.apply([],e)}function ab(e){return e.length>0?e[e.length-1]:null}function an(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Eo(e){return jv(e)?e:Vd(e)?It(Promise.resolve(e)):me(e)}const vO={exact:function lb(e,t,n){if(!Os(e.segments,t.segments)||!_h(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!lb(e.children[r],t.children[r],n))return!1;return!0},subset:db},cb={exact:function CO(e,t){return wo(e,t)},subset:function wO(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>ib(e[n],t[n]))},ignored:()=>!0};function ub(e,t,n){return vO[n.paths](e.root,t.root,n.matrixParams)&&cb[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function db(e,t,n){return hb(e,t,t.segments,n)}function hb(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Os(i,n)||t.hasChildren()||!_h(i,n,r))}if(e.segments.length===n.length){if(!Os(e.segments,n)||!_h(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!db(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!(Os(e.segments,i)&&_h(e.segments,i,r)&&e.children[_e])&&hb(e.children[_e],t,a,r)}}function _h(e,t,n){return t.every((r,i)=>cb[n](e[i].parameters,r.parameters))}class Ms{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nc(this.queryParams)),this._queryParamMap}toString(){return _O.serialize(this)}}class Ne{constructor(t,n){this.segments=t,this.children=n,this.parent=null,an(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dh(this)}}class Gu{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=nc(this.parameters)),this._parameterMap}toString(){return yb(this)}}function Os(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}class fb{}class pb{parse(t){const n=new NO(t);return new Ms(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${zu(t.root,!0)}`,r=function TO(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Sh(n)}=${Sh(i)}`).join("&"):`${Sh(n)}=${Sh(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function DO(e){return encodeURI(e)}(t.fragment)}`:""}`}}const _O=new pb;function Dh(e){return e.segments.map(t=>yb(t)).join("/")}function zu(e,t){if(!e.hasChildren())return Dh(e);if(t){const n=e.children[_e]?zu(e.children[_e],!1):"",r=[];return an(e.children,(i,a)=>{a!==_e&&r.push(`${a}:${zu(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function bO(e,t){let n=[];return an(e.children,(r,i)=>{i===_e&&(n=n.concat(t(r,i)))}),an(e.children,(r,i)=>{i!==_e&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===_e?[zu(e.children[_e],!1)]:[`${i}:${zu(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[_e]?`${Dh(e)}/${n[0]}`:`${Dh(e)}/(${n.join("//")})`}}function gb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sh(e){return gb(e).replace(/%3B/gi,";")}function tm(e){return gb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Th(e){return decodeURIComponent(e)}function mb(e){return Th(e.replace(/\+/g,"%20"))}function yb(e){return`${tm(e.path)}${function SO(e){return Object.keys(e).map(t=>`;${tm(t)}=${tm(e[t])}`).join("")}(e.parameters)}`}const AO=/^[^\/()?;=#]+/;function Ah(e){const t=e.match(AO);return t?t[0]:""}const IO=/^[^=?&#]+/,MO=/^[^&#]+/;class NO{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[_e]=new Ne(t,n)),r}parseSegment(){const t=Ah(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Gu(Th(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Ah(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Ah(this.remaining);i&&(r=i,this.capture(r))}t[Th(n)]=Th(r)}parseQueryParam(t){const n=function RO(e){const t=e.match(IO);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const l=function OO(e){const t=e.match(MO);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=mb(n),a=mb(r);if(t.hasOwnProperty(i)){let l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(a)}else t[i]=a}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ah(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=_e);const l=this.parseChildren();n[a]=1===Object.keys(l).length?l[_e]:new Ne([],l),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class vb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=nm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=nm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=rm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return rm(t,this._root).map(n=>n.value)}}function nm(e,t){if(e===t.value)return t;for(const n of t.children){const r=nm(e,n);if(r)return r}return null}function rm(e,t){if(e===t.value)return[t];for(const n of t.children){const r=rm(e,n);if(r.length)return r.unshift(t),r}return[]}class ti{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function rc(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class Cb extends vb{constructor(t,n){super(t),this.snapshot=n,om(this,t)}toString(){return this.snapshot.toString()}}function wb(e,t){const n=function kO(e,t){const l=new Ih([],{},{},"",{},_e,t,null,e.root,-1,{});return new bb("",new ti(l,[]))}(e,t),r=new Qr([new Gu("",{})]),i=new Qr({}),a=new Qr({}),l=new Qr({}),d=new Qr(""),f=new oc(r,i,l,d,a,_e,t,n.root);return f.snapshot=n.root,new Cb(new ti(f,[]),n)}class oc{constructor(t,n,r,i,a,l,d,f){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=d,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(je(t=>nc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(je(t=>nc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eb(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function PO(e){return e.reduce((t,n)=>({params:Object.assign(Object.assign({},t.params),n.params),data:Object.assign(Object.assign({},t.data),n.data),resolve:Object.assign(Object.assign({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ih{constructor(t,n,r,i,a,l,d,f,m,v,C){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=d,this.routeConfig=f,this._urlSegment=m,this._lastPathIndex=v,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bb extends vb{constructor(t,n){super(n),this.url=t,om(this,n)}toString(){return _b(this._root)}}function om(e,t){t.value._routerState=e,t.children.forEach(n=>om(e,n))}function _b(e){const t=e.children.length>0?` { ${e.children.map(_b).join(", ")} } `:"";return`${e.value}${t}`}function im(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,wo(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),wo(t.params,n.params)||e.params.next(n.params),function mO(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!wo(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),wo(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function sm(e,t){const n=wo(e.params,t.params)&&function EO(e,t){return Os(e,t)&&e.every((n,r)=>wo(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||sm(e.parent,t.parent))}function Ku(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function FO(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ku(e,r,i);return Ku(e,r)})}(e,t,n);return new ti(r,i)}{if(e.shouldAttach(t.value)){const a=e.retrieve(t.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(d=>Ku(e,d)),l}}const r=function LO(e){return new oc(new Qr(e.url),new Qr(e.params),new Qr(e.queryParams),new Qr(e.fragment),new Qr(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(a=>Ku(e,a));return new ti(r,i)}}function Rh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Wu(e){return"object"==typeof e&&null!=e&&e.outlets}function am(e,t,n,r,i){let a={};return r&&an(r,(l,d)=>{a[d]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`}),new Ms(n.root===e?t:Db(n.root,e,t),a,i)}function Db(e,t,n){const r={};return an(e.children,(i,a)=>{r[a]=i===t?n:Db(i,t,n)}),new Ne(e.segments,r)}class Sb{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Rh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Wu);if(i&&i!==ab(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cm{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function Tb(e,t,n){if(e||(e=new Ne([],{})),0===e.segments.length&&e.hasChildren())return Mh(e,t,n);const r=function VO(e,t,n){let r=0,i=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return a;const l=e.segments[i],d=n[r];if(Wu(d))break;const f=`${d}`,m=r<n.length-1?n[r+1]:null;if(i>0&&void 0===f)break;if(f&&m&&"object"==typeof m&&void 0===m.outlets){if(!Ib(f,m,l))return a;r+=2}else{if(!Ib(f,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const a=new Ne(e.segments.slice(0,r.pathIndex),{});return a.children[_e]=new Ne(e.segments.slice(r.pathIndex),e.children),Mh(a,0,i)}return r.match&&0===i.length?new Ne(e.segments,{}):r.match&&!e.hasChildren()?um(e,t,n):r.match?Mh(e,0,i):um(e,t,n)}function Mh(e,t,n){if(0===n.length)return new Ne(e.segments,{});{const r=function BO(e){return Wu(e[0])?e[0].outlets:{[_e]:e}}(n),i={};return an(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=Tb(e.children[l],t,a))}),an(e.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new Ne(e.segments,i)}}function um(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const a=n[i];if(Wu(a)){const f=qO(a.outlets);return new Ne(r,f)}if(0===i&&Rh(n[0])){r.push(new Gu(e.segments[t].path,Ab(n[0]))),i++;continue}const l=Wu(a)?a.outlets[_e]:`${a}`,d=i<n.length-1?n[i+1]:null;l&&d&&Rh(d)?(r.push(new Gu(l,Ab(d))),i+=2):(r.push(new Gu(l,{})),i++)}return new Ne(r,{})}function qO(e){const t={};return an(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=um(new Ne([],{}),0,n))}),t}function Ab(e){const t={};return an(e,(n,r)=>t[r]=`${n}`),t}function Ib(e,t,n){return e==n.path&&wo(t,n.parameters)}class zO{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),im(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=rc(n);t.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),an(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,n,r){const i=t.value,a=n?n.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(t,n,l.children)}else this.deactivateChildRoutes(t,n,r);else a&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,a=rc(t);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:d})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,a=rc(t);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=rc(n);t.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new hO(a.value.snapshot))}),t.children.length&&this.forwardEvent(new lO(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,a=n?n.value:null;if(im(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,l.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const d=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),im(d.route.value),this.activateChildRoutes(t,null,l.children)}else{const d=function KO(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),f=d?d.module.componentFactoryResolver:null;l.attachRef=null,l.route=i,l.resolver=f,l.outlet&&l.outlet.activateWith(i,f),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}class lm{constructor(t,n){this.routes=t,this.module=n}}function Vi(e){return"function"==typeof e}function Ns(e){return e instanceof Ms}const Qu=Symbol("INITIAL_VALUE");function Yu(){return Rs(e=>WM(e.map(t=>t.pipe($s(1),function JM(...e){const t=Wn(e);return nt((n,r)=>{(t?Zg(e,n,t):Zg(e,n)).subscribe(r)})}(Qu)))).pipe(ZE((t,n)=>{let r=!1;return n.reduce((i,a,l)=>i!==Qu?i:(a===Qu&&(r=!0),r||!1!==a&&l!==n.length-1&&!Ns(a)?i:a),t)},Qu),ec(t=>t!==Qu),je(t=>Ns(t)?t:!0===t),$s(1)))}class XO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zu,this.attachRef=null}}class Zu{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new XO,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let Rb=(()=>{class e{constructor(n,r,i,a,l){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.attachEvents=new Mn,this.detachEvents=new Mn,this.name=a||_e,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const l=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,f=new e1(n,d,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(Z(Zu),Z(Gr),Z(Nu),function ms(e){return function yf(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const a=n[i];if(uo(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(a===t)return n[i+1];i+=2}}}return null}(ht(),e)}("name"),Z(_g))},e.\u0275dir=bt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class e1{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===oc?this.route:t===Zu?this.childContexts:this.parent.get(t,n)}}let Mb=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qs({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Bd(0,"router-outlet")},directives:[Rb],encapsulation:2}),e})();function Ob(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];t1(r,n1(t,r))}}function t1(e,t){e.children&&Ob(e.children,t)}function n1(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function dm(e){const t=e.children&&e.children.map(dm),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==_e&&(n.component=Mb),n}function _r(e){return e.outlet||_e}function Nb(e,t){const n=e.filter(r=>_r(r)===t);return n.push(...e.filter(r=>_r(r)!==t)),n}const kb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oh(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},kb):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const a=(t.matcher||gO)(n,e,t);if(!a)return Object.assign({},kb);const l={};an(a.posParams,(f,m)=>{l[m]=f.path});const d=a.consumed.length>0?Object.assign(Object.assign({},l),a.consumed[a.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:a.consumed,remainingSegments:n.slice(a.consumed.length),parameters:d,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Nh(e,t,n,r,i="corrected"){if(n.length>0&&function i1(e,t,n){return n.some(r=>kh(e,t,r)&&_r(r)!==_e)}(e,n,r)){const l=new Ne(t,function o1(e,t,n,r){const i={};i[_e]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const a of n)if(""===a.path&&_r(a)!==_e){const l=new Ne([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,i[_r(a)]=l}return i}(e,t,r,new Ne(n,e.children)));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===n.length&&function s1(e,t,n){return n.some(r=>kh(e,t,r))}(e,n,r)){const l=new Ne(e.segments,function r1(e,t,n,r,i,a){const l={};for(const d of r)if(kh(e,n,d)&&!i[_r(d)]){const f=new Ne([],{});f._sourceSegment=e,f._segmentIndexShift="legacy"===a?e.segments.length:t.length,l[_r(d)]=f}return Object.assign(Object.assign({},i),l)}(e,t,n,r,e.children,i));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}const a=new Ne(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function kh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Pb(e,t,n,r){return!!(_r(e)===r||r!==_e&&kh(t,n,e))&&("**"===e.path||Oh(t,e,n).matched)}function xb(e,t,n){return 0===t.length&&!e.children[n]}class Ju{constructor(t){this.segmentGroup=t||null}}class Fb{constructor(t){this.urlTree=t}}function Ph(e){return Eh(new Ju(e))}function Lb(e){return Eh(new Fb(e))}class l1{constructor(t,n,r,i,a){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(Yo)}apply(){const t=Nh(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ne(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,_e).pipe(je(a=>this.createUrlTree(hm(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bi(a=>{if(a instanceof Fb)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Ju?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,_e).pipe(je(i=>this.createUrlTree(hm(i),t.queryParams,t.fragment))).pipe(Bi(i=>{throw i instanceof Ju?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,r){const i=t.segments.length>0?new Ne([],{[_e]:t}):t;return new Ms(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(je(a=>new Ne([],a))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return It(i).pipe(Vu(a=>{const l=r.children[a],d=Nb(n,a);return this.expandSegmentGroup(t,d,l,a).pipe(je(f=>({segment:f,outlet:a})))}),ZE((a,l)=>(a[l.outlet]=l.segment,a),{}),function tO(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ec((i,a)=>e(i,a,r)):mn,Jg(1),n?XE(t):JE(()=>new bh))}())}expandSegment(t,n,r,i,a,l){return It(r).pipe(Vu(d=>this.expandSegmentAgainstRoute(t,n,r,d,i,a,l).pipe(Bi(m=>{if(m instanceof Ju)return me(null);throw m}))),tc(d=>!!d),Bi((d,f)=>{if(d instanceof bh||"EmptyError"===d.name){if(xb(n,i,a))return me(new Ne([],{}));throw new Ju(n)}throw d}))}expandSegmentAgainstRoute(t,n,r,i,a,l,d){return Pb(i,n,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,a,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,a,l):Ph(n):Ph(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Lb(a):this.lineralizeSegments(r,a).pipe(We(l=>{const d=new Ne(l,{});return this.expandSegment(t,d,n,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,a,l){const{matched:d,consumedSegments:f,remainingSegments:m,positionalParamSegments:v}=Oh(n,i,a);if(!d)return Ph(n);const C=this.applyRedirectCommands(f,i.redirectTo,v);return i.redirectTo.startsWith("/")?Lb(C):this.lineralizeSegments(i,C).pipe(We(b=>this.expandSegment(t,n,r,b.concat(m),l,!1)))}matchSegmentAgainstRoute(t,n,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?me(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(je(C=>(r._loadedConfig=C,new Ne(i,{})))):me(new Ne(i,{}));const{matched:l,consumedSegments:d,remainingSegments:f}=Oh(n,r,i);return l?this.getChildConfig(t,r,i).pipe(We(v=>{const C=v.module,b=v.routes,{segmentGroup:D,slicedSegments:T}=Nh(n,d,f,b),R=new Ne(D.segments,D.children);if(0===T.length&&R.hasChildren())return this.expandChildren(C,b,R).pipe(je(W=>new Ne(d,W)));if(0===b.length&&0===T.length)return me(new Ne(d,{}));const N=_r(r)===a;return this.expandSegment(C,R,b,T,N?_e:a,!0).pipe(je(A=>new Ne(d.concat(A.segments),A.children)))})):Ph(n)}getChildConfig(t,n,r){return n.children?me(new lm(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?me(n._loadedConfig):this.runCanLoadGuards(t.injector,n,r).pipe(We(i=>i?this.configLoader.load(t.injector,n).pipe(je(a=>(n._loadedConfig=a,a))):function c1(e){return Eh(em(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))}(n))):me(new lm([],t))}runCanLoadGuards(t,n,r){const i=n.canLoad;return i&&0!==i.length?me(i.map(l=>{const d=t.get(l);let f;if(function QO(e){return e&&Vi(e.canLoad)}(d))f=d.canLoad(n,r);else{if(!Vi(d))throw new Error("Invalid CanLoad guard");f=d(n,r)}return Eo(f)})).pipe(Yu(),sr(l=>{if(!Ns(l))return;const d=em(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw d.url=l,d}),je(l=>!0===l)):me(!0)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return me(r);if(i.numberOfChildren>1||!i.children[_e])return Eh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));i=i.children[_e]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreatreUrlTree(t,n,r,i){const a=this.createSegmentGroup(t,n.root,r,i);return new Ms(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return an(t,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const d=i.substring(1);r[a]=n[d]}else r[a]=i}),r}createSegmentGroup(t,n,r,i){const a=this.createSegments(t,n.segments,r,i);let l={};return an(n.children,(d,f)=>{l[f]=this.createSegmentGroup(t,d,r,i)}),new Ne(a,l)}createSegments(t,n,r,i){return n.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,i):this.findOrReturn(a,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}function hm(e){const t={};for(const r of Object.keys(e.children)){const a=hm(e.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function d1(e){if(1===e.numberOfChildren&&e.children[_e]){const t=e.children[_e];return new Ne(e.segments.concat(t.segments),t.children)}return e}(new Ne(e.segments,t))}class Ub{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xh{constructor(t,n){this.component=t,this.route=n}}function f1(e,t,n){const r=e._root;return Xu(r,t?t._root:null,n,[r.value])}function Fh(e,t,n){const r=function g1(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Xu(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=rc(t);return e.children.forEach(l=>{(function m1(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,l=t?t.value:null,d=n?n.getContext(e.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const f=function y1(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Os(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Os(e.url,t.url)||!wo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sm(e,t)||!wo(e.queryParams,t.queryParams);default:return!sm(e,t)}}(l,a,a.routeConfig.runGuardsAndResolvers);f?i.canActivateChecks.push(new Ub(r)):(a.data=l.data,a._resolvedData=l._resolvedData),Xu(e,t,a.component?d?d.children:null:n,r,i),f&&d&&d.outlet&&d.outlet.isActivated&&i.canDeactivateChecks.push(new xh(d.outlet.component,l))}else l&&el(t,d,i),i.canActivateChecks.push(new Ub(r)),Xu(e,null,a.component?d?d.children:null:n,r,i)})(l,a[l.value.outlet],n,r.concat([l.value]),i),delete a[l.value.outlet]}),an(a,(l,d)=>el(l,n.getContext(d),i)),i}function el(e,t,n){const r=rc(e),i=e.value;an(r,(a,l)=>{el(a,i.component?t?t.children.getContext(l):null:t,n)}),n.canDeactivateChecks.push(new xh(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class T1{}function Hb(e){return new lt(t=>t.error(e))}class I1{constructor(t,n,r,i,a,l){this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=l}recognize(){const t=Nh(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,_e);if(null===n)return null;const r=new Ih([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_e,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ti(r,n),a=new bb(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const n=t.value,r=Eb(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,r)}processChildren(t,n){const r=[];for(const a of Object.keys(n.children)){const l=n.children[a],d=Nb(t,a),f=this.processSegmentGroup(d,l,a);if(null===f)return null;r.push(...f)}const i=jb(r);return function R1(e){e.sort((t,n)=>t.value.outlet===_e?-1:n.value.outlet===_e?1:t.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(t,n,r,i){for(const a of t){const l=this.processSegmentAgainstRoute(a,n,r,i);if(null!==l)return l}return xb(n,r,i)?[]:null}processSegmentAgainstRoute(t,n,r,i){if(t.redirectTo||!Pb(t,n,r,i))return null;let a,l=[],d=[];if("**"===t.path){const D=r.length>0?ab(r).parameters:{};a=new Ih(r,D,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(t),_r(t),t.component,t,$b(n),Bb(n)+r.length,qb(t))}else{const D=Oh(n,t,r);if(!D.matched)return null;l=D.consumedSegments,d=D.remainingSegments,a=new Ih(l,D.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(t),_r(t),t.component,t,$b(n),Bb(n)+l.length,qb(t))}const f=function M1(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:m,slicedSegments:v}=Nh(n,l,d,f.filter(D=>void 0===D.redirectTo),this.relativeLinkResolution);if(0===v.length&&m.hasChildren()){const D=this.processChildren(f,m);return null===D?null:[new ti(a,D)]}if(0===f.length&&0===v.length)return[new ti(a,[])];const C=_r(t)===i,b=this.processSegment(f,m,v,C?_e:i);return null===b?null:[new ti(a,b)]}}function O1(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function jb(e){const t=[],n=new Set;for(const r of e){if(!O1(r)){t.push(r);continue}const i=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=jb(r.children);t.push(new ti(r.value,i))}return t.filter(r=>!n.has(r))}function $b(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Bb(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Vb(e){return e.data||{}}function qb(e){return e.resolve||{}}function Gb(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function fm(e){return Rs(t=>{const n=e(t);return n?It(n).pipe(je(()=>t)):me(t)})}class H1 extends class U1{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const pm=new ke("ROUTES");class zb{constructor(t,n,r,i){this.injector=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(je(a=>{this.onLoadEndListener&&this.onLoadEndListener(n);const l=a.create(t);return new lm(sb(l.injector.get(pm,void 0,re.Self|re.Optional)).map(dm),l)}),Bi(a=>{throw n._loader$=void 0,a}));return n._loader$=new ZM(i,()=>new cn).pipe(YE()),n._loader$}loadModuleFactory(t){return Eo(t()).pipe(We(n=>n instanceof hw?me(n):It(this.compiler.compileModuleAsync(n))))}}class $1{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function B1(e){throw e}function V1(e,t,n){return t.parse("/")}function Kb(e,t){return me(null)}const q1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ar=(()=>{class e{constructor(n,r,i,a,l,d,f){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new cn,this.errorHandler=B1,this.malformedUriErrorHandler=V1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kb,afterPreactivation:Kb},this.urlHandlingStrategy=new $1,this.routeReuseStrategy=new H1,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(Yo),this.console=l.get(Ww);const C=l.get(sn);this.isNgZoneEnabled=C instanceof sn&&sn.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function yO(){return new Ms(new Ne([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zb(l,d,b=>this.triggerEvent(new tb(b)),b=>this.triggerEvent(new nb(b))),this.routerState=wb(this.currentUrlTree,this.rootComponentType),this.transitions=new Qr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(ec(i=>0!==i.id),je(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Rs(i=>{let a=!1,l=!1;return me(i).pipe(sr(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rs(d=>{const f=this.browserUrlTree.toString(),m=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Lh(d.source)&&(this.browserUrlTree=d.extractedUrl),me(d).pipe(Rs(C=>{const b=this.transitions.getValue();return r.next(new Xg(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),b!==this.transitions.getValue()?Kn:Promise.resolve(C)}),function h1(e,t,n,r){return Rs(i=>function u1(e,t,n,r,i){return new l1(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(je(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),sr(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function N1(e,t,n,r,i){return We(a=>function A1(e,t,n,r,i="emptyOnly",a="legacy"){try{const l=new I1(e,t,n,r,i,a).recognize();return null===l?Hb(new T1):me(l)}catch(l){return Hb(l)}}(e,t,a.urlAfterRedirects,n(a.urlAfterRedirects),r,i).pipe(je(l=>Object.assign(Object.assign({},a),{targetSnapshot:l}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),sr(C=>{if("eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const D=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(D,C)}this.browserUrlTree=C.urlAfterRedirects}const b=new oO(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);r.next(b)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:b,extractedUrl:D,source:T,restoredState:R,extras:N}=d,P=new Xg(b,this.serializeUrl(D),T,R);r.next(P);const A=wb(D,this.rootComponentType).snapshot;return me(Object.assign(Object.assign({},d),{targetSnapshot:A,urlAfterRedirects:D,extras:Object.assign(Object.assign({},N),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Kn}),fm(d=>{const{targetSnapshot:f,id:m,extractedUrl:v,rawUrl:C,extras:{skipLocationChange:b,replaceUrl:D}}=d;return this.hooks.beforePreactivation(f,{navigationId:m,appliedUrlTree:v,rawUrlTree:C,skipLocationChange:!!b,replaceUrl:!!D})}),sr(d=>{const f=new iO(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),je(d=>Object.assign(Object.assign({},d),{guards:f1(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function v1(e,t){return We(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=n;return 0===l.length&&0===a.length?me(Object.assign(Object.assign({},n),{guardsResult:!0})):function C1(e,t,n,r){return It(e).pipe(We(i=>function S1(e,t,n,r,i){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?me(a.map(d=>{const f=Fh(d,t,i);let m;if(function JO(e){return e&&Vi(e.canDeactivate)}(f))m=Eo(f.canDeactivate(e,t,n,r));else{if(!Vi(f))throw new Error("Invalid CanDeactivate guard");m=Eo(f(e,t,n,r))}return m.pipe(tc())})).pipe(Yu()):me(!0)}(i.component,i.route,n,t,r)),tc(i=>!0!==i,!0))}(l,r,i,e).pipe(We(d=>d&&function WO(e){return"boolean"==typeof e}(d)?function w1(e,t,n,r){return It(t).pipe(Vu(i=>Zg(function b1(e,t){return null!==e&&t&&t(new uO(e)),me(!0)}(i.route.parent,r),function E1(e,t){return null!==e&&t&&t(new dO(e)),me(!0)}(i.route,r),function D1(e,t,n){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(l=>function p1(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(l)).filter(l=>null!==l).map(l=>QE(()=>me(l.guards.map(f=>{const m=Fh(f,l.node,n);let v;if(function ZO(e){return e&&Vi(e.canActivateChild)}(m))v=Eo(m.canActivateChild(r,e));else{if(!Vi(m))throw new Error("Invalid CanActivateChild guard");v=Eo(m(r,e))}return v.pipe(tc())})).pipe(Yu())));return me(a).pipe(Yu())}(e,i.path,n),function _1(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return me(!0);const i=r.map(a=>QE(()=>{const l=Fh(a,t,n);let d;if(function YO(e){return e&&Vi(e.canActivate)}(l))d=Eo(l.canActivate(t,e));else{if(!Vi(l))throw new Error("Invalid CanActivate guard");d=Eo(l(t,e))}return d.pipe(tc())}));return me(i).pipe(Yu())}(e,i.route,n))),tc(i=>!0!==i,!0))}(r,a,e,t):me(d)),je(d=>Object.assign(Object.assign({},n),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),sr(d=>{if(Ns(d.guardsResult)){const m=em(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw m.url=d.guardsResult,m}const f=new sO(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),ec(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),fm(d=>{if(d.guards.canActivateChecks.length)return me(d).pipe(sr(f=>{const m=new aO(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),Rs(f=>{let m=!1;return me(f).pipe(function k1(e,t){return We(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return me(n);let a=0;return It(i).pipe(Vu(l=>function P1(e,t,n,r){return function x1(e,t,n,r){const i=Gb(e);if(0===i.length)return me({});const a={};return It(i).pipe(We(l=>function F1(e,t,n,r){const i=Fh(e,t,r);return Eo(i.resolve?i.resolve(t,n):i(t,n))}(e[l],t,n,r).pipe(sr(d=>{a[l]=d}))),Jg(1),We(()=>Gb(a).length===i.length?me(a):Kn))}(e._resolve,e,t,r).pipe(je(a=>(e._resolvedData=a,e.data=Object.assign(Object.assign({},e.data),Eb(e,n).resolve),null)))}(l.route,r,e,t)),sr(()=>a++),Jg(1),We(l=>a===i.length?me(n):Kn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),sr({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),sr(f=>{const m=new cO(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}))}),fm(d=>{const{targetSnapshot:f,id:m,extractedUrl:v,rawUrl:C,extras:{skipLocationChange:b,replaceUrl:D}}=d;return this.hooks.afterPreactivation(f,{navigationId:m,appliedUrlTree:v,rawUrlTree:C,skipLocationChange:!!b,replaceUrl:!!D})}),je(d=>{const f=function xO(e,t,n){const r=Ku(e,t._root,n?n._root:void 0);return new Cb(r,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:f})}),sr(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((e,t,n)=>je(r=>(new zO(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),sr({next(){a=!0},complete(){a=!0}}),function nO(e){return nt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(()=>{var d;a||l||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===i.id&&(this.currentNavigation=null)}),Bi(d=>{if(l=!0,function pO(e){return e&&e[ob]}(d)){const f=Ns(d.url);f||(this.navigated=!0,this.restoreHistory(i,!0));const m=new eb(i.id,this.serializeUrl(i.extractedUrl),d.message);r.next(m),f?setTimeout(()=>{const v=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),C={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Lh(i.source)};this.scheduleNavigation(v,"imperative",null,C,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const f=new rO(i.id,this.serializeUrl(i.extractedUrl),d);r.next(f);try{i.resolve(this.errorHandler(d))}catch(m){i.reject(m)}}return Kn}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},l=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(l){const f=Object.assign({},l);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(a.state=f)}const d=this.parseUrl(n.url);this.scheduleNavigation(d,r,l,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){Ob(n),this.config=n.map(dm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:f}=r,m=i||this.routerState.root,v=f?this.currentUrlTree.fragment:l;let C=null;switch(d){case"merge":C=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=a||null}return null!==C&&(C=this.removeEmptyProps(C)),function UO(e,t,n,r,i){if(0===n.length)return am(t.root,t.root,t,r,i);const a=function HO(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Sb(!0,0,e);let t=0,n=!1;const r=e.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const d={};return an(a.outlets,(f,m)=>{d[m]="string"==typeof f?f.split("/"):f}),[...i,{outlets:d}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?n=!0:".."===d?t++:""!=d&&i.push(d))}),i):[...i,a]},[]);return new Sb(n,t,r)}(n);if(a.toRoot())return am(t.root,new Ne([],{}),t,r,i);const l=function jO(e,t,n){if(e.isAbsolute)return new cm(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const a=n.snapshot._urlSegment;return new cm(a,a===t.root,0)}const r=Rh(e.commands[0])?0:1;return function $O(e,t,n){let r=e,i=t,a=n;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new cm(r,!1,i-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(a,t,e),d=l.processChildren?Mh(l.segmentGroup,l.index,a.commands):Tb(l.segmentGroup,l.index,a.commands);return am(l.segmentGroup,d,t,r,i)}(m,this.currentUrlTree,n,C,null!=v?v:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ns(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function z1(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},q1):!1===r?Object.assign({},G1):r,Ns(n))return ub(this.currentUrlTree,n,i);const a=this.parseUrl(n);return ub(this.currentUrlTree,a,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const a=n[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new qu(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,a,l){var d,f,m;if(this.disposed)return Promise.resolve(!1);const v=this.transitions.value,C=Lh(r)&&v&&!Lh(v.source),b=v.rawUrl.toString()===n.toString(),D=v.id===(null===(d=this.currentNavigation)||void 0===d?void 0:d.id);if(C&&b&&D)return Promise.resolve(!0);let R,N,P;l?(R=l.resolve,N=l.reject,P=l.promise):P=new Promise((ue,xe)=>{R=ue,N=xe});const A=++this.navigationId;let W;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),W=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):W=0,this.setTransition({id:A,targetPageId:W,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:a,resolve:R,reject:N,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(ue=>Promise.reject(ue))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(n,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===l?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===l&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new eb(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){Np()},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();function Lh(e){return"imperative"!==e}class Wb{}class Qb{preload(t,n){return me(null)}}let Yb=(()=>{class e{constructor(n,r,i,a){this.router=n,this.injector=i,this.preloadingStrategy=a,this.loader=new zb(i,r,f=>n.triggerEvent(new tb(f)),f=>n.triggerEvent(new nb(f)))}setUpPreloading(){this.subscription=this.router.events.pipe(ec(n=>n instanceof qu),Vu(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Yo);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const l=a._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(n,a)):a.children&&i.push(this.processRoutes(n,a.children));return It(i).pipe(dr(),je(a=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?me(r._loadedConfig):this.loader.load(n.injector,r)).pipe(We(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(J(ar),J(Qw),J($n),J(Wb))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),ym=(()=>{class e{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Xg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof qu&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof rb&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new rb(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){Np()},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const ks=new ke("ROUTER_CONFIGURATION"),Zb=new ke("ROUTER_FORROOT_GUARD"),Y1=[Mg,{provide:fb,useClass:pb},{provide:ar,useFactory:function tN(e,t,n,r,i,a,l={},d,f){const m=new ar(null,e,t,n,r,i,sb(a));return d&&(m.urlHandlingStrategy=d),f&&(m.routeReuseStrategy=f),function nN(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(l,m),l.enableTracing&&m.events.subscribe(v=>{var C,b;null===(C=console.group)||void 0===C||C.call(console,`Router Event: ${v.constructor.name}`),console.log(v.toString()),console.log(v),null===(b=console.groupEnd)||void 0===b||b.call(console)}),m},deps:[fb,Zu,Mg,$n,Qw,pm,ks,[class j1{},new Hr],[class L1{},new Hr]]},Zu,{provide:oc,useFactory:function rN(e){return e.routerState.root},deps:[ar]},Yb,Qb,class Q1{preload(t,n){return n().pipe(Bi(()=>me(null)))}},{provide:ks,useValue:{enableTracing:!1}}];function Z1(){return new eE("Router",ar)}let Jb=(()=>{class e{constructor(n,r){}static forRoot(n,r){return{ngModule:e,providers:[Y1,Xb(n),{provide:Zb,useFactory:eN,deps:[[ar,new Hr,new bs]]},{provide:ks,useValue:r||{}},{provide:Xa,useFactory:X1,deps:[Is,[new Es(Rg),new Hr],ks]},{provide:ym,useFactory:J1,deps:[ar,XR,ks]},{provide:Wb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Qb},{provide:eE,multi:!0,useFactory:Z1},[vm,{provide:hg,multi:!0,useFactory:oN,deps:[vm]},{provide:e_,useFactory:iN,deps:[vm]},{provide:Kw,multi:!0,useExisting:e_}]]}}static forChild(n){return{ngModule:e,providers:[Xb(n)]}}}return e.\u0275fac=function(n){return new(n||e)(J(Zb,8),J(ar,8))},e.\u0275mod=Ro({type:e}),e.\u0275inj=Qe({}),e})();function J1(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new ym(e,t,n)}function X1(e,t,n={}){return n.useHash?new OI(e,t):new wE(e,t)}function eN(e){return"guarded"}function Xb(e){return[{provide:Yt,multi:!0,useValue:e},{provide:pm,multi:!0,useValue:e}]}let vm=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new cn}appInitializer(){return this.injector.get(II,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(d=>r=d),a=this.injector.get(ar),l=this.injector.get(ks);return"disabled"===l.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?me(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(ks),i=this.injector.get(Yb),a=this.injector.get(ym),l=this.injector.get(ar),d=this.injector.get(Eg);n===d.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),i.setUpPreloading(),a.init(),l.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(J($n))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();function oN(e){return e.appInitializer.bind(e)}function iN(e){return e.bootstrapListener.bind(e)}const e_=new ke("Router Initializer"),aN=[];let cN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ro({type:e}),e.\u0275inj=Qe({imports:[[Jb.forRoot(aN)],Jb]}),e})(),uN=(()=>{class e{constructor(){this.title="ddd-arc"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=qs({type:e,selectors:[["arc-ddd-root"]],decls:7,vars:0,consts:[["theme","dark"],["slot","side","title","Sidebar title"],[2,"padding","var(--arc-spacing-medium)"],["aria-label","Demo section",2,"padding","var(--arc-spacing-medium)"]],template:function(n,r){1&n&&(za(0,"arc-container",0),Bd(1,"arc-navbar"),za(2,"arc-sidebar",1)(3,"div",2),Hp(4,"Sidebar content"),Tu()(),za(5,"section",3),Hp(6," Some content "),Tu()())},styles:[""]}),e})();Jt(467);let lN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ro({type:e,bootstrap:[uN]}),e.\u0275inj=Qe({providers:[],imports:[[AM,cN]]}),e})();(function aI(){sE=!1})(),SM().bootstrapModule(lN).catch(e=>console.error(e))},926:St=>{function Tt(fe,k,Dr,ur,wt,Yr,Ge){try{var Sr=fe[Yr](Ge),$t=Sr.value}catch(bo){return void Dr(bo)}Sr.done?k($t):Promise.resolve($t).then(ur,wt)}St.exports=function Jt(fe){return function(){var k=this,Dr=arguments;return new Promise(function(ur,wt){var Yr=fe.apply(k,Dr);function Ge($t){Tt(Yr,ur,wt,Ge,Sr,"next",$t)}function Sr($t){Tt(Yr,ur,wt,Ge,Sr,"throw",$t)}Ge(void 0)})}},St.exports.__esModule=!0,St.exports.default=St.exports}},St=>{St(St.s=583)}]);